<?php
class Person extends Controller {
	private $limit=10;

	public $fichero;//-- fichero de origen
	public $fsalida;//-- nombre del nuevo fichero
	public $dirsalida;//-- directorio del nuevo fichero
	public $prefijo;//-- prefijo del nuevo fichero
	public $valores;//-- valores a reemplazar
	public $datqG;//-- valores de la grafica
	public $titleG;//-- titulo de la grafica
	public $labelG;//-- leyendas de la grafica

	function Person(){
		parent::Controller();
		
		// load library
		$this->load->library(array('cezpdf','table','validation', 'My_PHPMailer'));
		
		// load helper
		$this->load->helper(array('form', 'url', 'download'));
		
		// load model
		$this->load->model('personModel','',TRUE);
	}
	function index($offset = 0){
	}
	
	//---------------------------------------------------------------------------
	//---------------------------------------------------------------------------
	function formularios(){
		$usu = $this->session->userdata('usuario');
		$id_operador = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $id_operador;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/form_paso2');

		$datos_operador = $this->personModel->obt_operador_all($id_operador)->row();
		$data['tipo_ope'] = $datos_operador->TipoOperador;
		$data['name_ope'] = $datos_operador->NomComercialOperador;
		$this->load->view('form', $data);
	}

	function form_paso2($val=0){
		$this->_set_fields_paso2();
		$usu = $this->session->userdata('usuario');
		$id_operador = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $id_operador;
		
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/form_paso3');
		if($val==0){
			$data['val_tipo_ope'] = $this->input->post('tipo_operador');
			$tipo_operador = $this->input->post('tipo_operador');
		}
		else{
			$data['val_tipo_ope'] = $val;
			$tipo_operador = $val;
		}
		

		$datos_operador = $this->personModel->obt_operador_all($id_operador)->row();
		$datos_rep_legal = $this->personModel->obt_representantes($id_operador)->result();
		$datos_socios = $this->personModel->obt_socios($id_operador)->result();
		$datos_nominas = $this->personModel->obt_nomina($id_operador)->result();
		$data['name_ope'] = $datos_operador->NomComercialOperador;
		//---------------------------------------------------------------------------------------------
		//----------------------Tipo Operador = 1----------------------
		if ($tipo_operador == 1){
			$data['titulo_tipo_ope'] = 'COOPERATIVA';
			$data['NumRegDirGralCoop'] = $datos_operador->NumRegDirGralCoop;
			$data['FechaRegDirGralCoop'] = $datos_operador->FechaRegDirGralCoop;
			$data['NomPresidConAdm'] = $datos_operador->NomPresidConAdm;
			$data['CIPresidConAdm'] = $datos_operador->CIPresidConAdm;
			$data['NumTestimonioPresidConAdm'] = $datos_operador->NumTestimonioPresidConAdm;
			$data['FechaTestimonio'] = $datos_operador->FechaTestimonio;
			$data['Num_Test_Estatutos'] = $datos_operador->Num_Test_Estatutos;
			$data['Fecha_Test_Estatutos'] = $datos_operador->Fecha_Test_Estatutos;
			$data['Obj_Creacion'] = $datos_operador->Obj_Creacion;
			$data['CIPresidConAdm_exp'] = $datos_operador->CIPresidConAdm_exp;
		}
		//----------------------Tipo Operador = 2----------------------
		if ($tipo_operador == 2){
			$data['titulo_tipo_ope'] = 'GUBERNAMENTAL';
			$data['NomMAE'] = $datos_operador->NomMAE;
			$data['CIMAE'] = $datos_operador->CIMAE;
			$data['TNumDocDesigGub'] = $datos_operador->TNumDocDesigGub;
			$data['FechaDocDesigGub'] = $datos_operador->FechaDocDesigGub;
			$data['Est_Ri_Func'] = $datos_operador->Est_Ri_Func;
		}
		//----------------------Tipo Operador = 3----------------------
		if ($tipo_operador == 3){
			$data['titulo_tipo_ope'] = 'ONG';
			$data['cap_sociedad'] = $datos_operador->CapSociedad;
			$data['NomDirGralONG'] = $datos_operador->NomDirGralONG;
			$data['CIDirGralONG'] = $datos_operador->CIDirGralONG;
			$data['NumResGobONG'] = $datos_operador->NumResGobONG;
			$data['FechaResGobONG'] = $datos_operador->FechaResGobONG;
			$data['Num_Cer_Reg'] = $datos_operador->Num_Cer_Reg;
			$data['Fecha_Cer_Reg'] = $datos_operador->Fecha_Cer_Reg;
			$data['Num_Test_Estatutos'] = $datos_operador->Num_Test_Estatutos;
			$data['Fecha_Test_Estatutos'] = $datos_operador->Fecha_Test_Estatutos;
		}
		//----------------------Tipo Operador = 4----------------------
		if ($tipo_operador == 4){
			$data['titulo_tipo_ope'] = 'PUEBLO INDÍGENA ORIGINARIO CAMPESINO';
			$data['NumDocCrea'] = $datos_operador->NumDocCrea;
			$data['FechaDocCrea'] = $datos_operador->FechaDocCrea;
			$data['NumDocAcred'] = $datos_operador->NumDocAcred;
			$data['FechaDocAcred'] = $datos_operador->FechaDocAcred;
			$data['Num_Doc_Min_Auto'] = $datos_operador->Num_Doc_Min_Auto;
			$data['Fecha_Doc_Min_Auto'] = $datos_operador->Fecha_Doc_Min_Auto;
		}
		//----------------------Tipo Operador = 5----------------------
		if ($tipo_operador == 5){
			$data['titulo_tipo_ope'] = 'SINDICATO';
			$data['res_min_sindical'] = $datos_operador->NumResMinSind;
			$data['fecha_resol_sin'] = $datos_operador->FechaResMinSind;
			$data['nom_max_repre'] = $datos_operador->NomRepSind;
			$data['nro_res_juri'] = $datos_operador->NumResPersJurid;
			$data['ci_repre_sin'] = $datos_operador->CIRepSind;
			$data['fecha_per_jur'] = $datos_operador->FechaResPersJurid;
			$data['Num_Test_Estatutos'] = $datos_operador->Num_Test_Estatutos;
			$data['Fecha_Test_Estatutos'] = $datos_operador->Fecha_Test_Estatutos;
			$data['Num_Reg_Mt'] = $datos_operador->Num_Reg_Mt;
			$data['Fecha_Reg_Mt'] = $datos_operador->Fecha_Reg_Mt;
			$data['Acta_Nombra_Max'] = $datos_operador->Acta_Nombra_Max;
			$data['Obj_Creacion'] = $datos_operador->Obj_Creacion;			
		}
		//----------------------Tipo Operador = 6----------------------
		if ($tipo_operador == 6){
			$data['titulo_tipo_ope'] = 'SOCIAL COMUNITARIO';
			$data['NumDocCrea'] = $datos_operador->NumDocCrea;
			$data['FechaDocCrea'] = $datos_operador->FechaDocCrea;
			$data['NumDocAcred'] = $datos_operador->NumDocAcred;
			$data['FechaDocAcred'] = $datos_operador->FechaDocAcred;
		}
		//----------------------Tipo Operador = 7----------------------
		if ($tipo_operador == 7){
			$data['titulo_tipo_ope'] = 'SOCIEDAD';
			$data['NumRegFUNDEMPRESA'] = $datos_operador->NumRegFUNDEMPRESA;
			$data['FechaRegFUNDEMPRESA'] = $datos_operador->FechaRegFUNDEMPRESA;
			$data['NumCertifTradFUNDEMPRESA'] = $datos_operador->NumCertifTradFUNDEMPRESA;
			$data['FechaCertifTradFUNDEMPRESA'] = $datos_operador->FechaCertifTradFUNDEMPRESA;
			$data['cap_sociedad'] = $datos_operador->CapSociedad;
			$data['Cer_Sol_Fisco'] = $datos_operador->Cer_Sol_Fisco;
			$data['Num_Test_Const'] = $datos_operador->Num_Test_Const;
			$data['Fecha_Test_Const'] = $datos_operador->Fecha_Test_Const;
			$data['Num_Test_Modi'] = $datos_operador->Num_Test_Modi;
			$data['Fecha_Test_Modi'] = $datos_operador->Fecha_Test_Modi;
			$data['Num_Test_Estatutos'] = $datos_operador->Num_Test_Estatutos;
			$data['Fecha_Test_Estatutos'] = $datos_operador->Fecha_Test_Estatutos;
		}
		//----------------------Tipo Operador = 8----------------------
		if ($tipo_operador == 8){
			$data['titulo_tipo_ope'] = 'UNIPERSONAL';
			$data['NomPropietario'] = $datos_operador->NomPropietario;
			$data['CIPropietario'] = $datos_operador->CIPropietario;
			$data['NumRegFUNDEMPRESA'] = $datos_operador->NumRegFUNDEMPRESA;
			$data['FechaRegFUNDEMPRESA'] = $datos_operador->FechaRegFUNDEMPRESA;
			$data['Cer_Sol_Fisco'] = $datos_operador->Cer_Sol_Fisco;
		}
		//----------------------Tipo Operador = 9----------------------
		if ($tipo_operador == 9){
			$data['titulo_tipo_ope'] = 'Asociaciones, Fundaciones y Org. Religiosas';
			$data['nom_max_repre'] = $datos_operador->NomRepSind;
			$data['ci_repre_sin'] = $datos_operador->CIRepSind;
			$data['Cer_Sol_Fisco'] = $datos_operador->Cer_Sol_Fisco;
			$data['NumDocAcred'] = $datos_operador->NumDocAcred;
			$data['FechaDocAcred'] = $datos_operador->FechaDocAcred;
			$data['Num_Test_Estatutos'] = $datos_operador->Num_Test_Estatutos;
			$data['Fecha_Test_Estatutos'] = $datos_operador->Fecha_Test_Estatutos;			
		}
		//----------------------Tipo Operador = 10----------------------
		if ($tipo_operador == 10){
			$data['titulo_tipo_ope'] = 'ALCALDIAS';
			$data['Cer_Sol_Fisco'] = $datos_operador->Cer_Sol_Fisco;
			$data['Num_Decreto_Alcaldia'] = $datos_operador->Num_Decreto_Alcaldia;
			$data['Fecha_Decreto_Alcaldia'] = $datos_operador->Fecha_Decreto_Alcaldia;
			$data['Num_Resol_Nom_Alcalde'] = $datos_operador->Num_Resol_Nom_Alcalde;
			$data['Fecha_Resol_Nom_Alcalde'] = $datos_operador->Fecha_Resol_Nom_Alcalde;				
		}
		//----------------------Tipo Operador = 11----------------------
		if ($tipo_operador == 11){
			$data['titulo_tipo_ope'] = 'EMBAJADAS';
			$data['nom_max_repre'] = $datos_operador->NomRepSind;
			$data['ci_repre_sin'] = $datos_operador->CIRepSind;			
		}

		//---------------------------------------------------------------------------------------------
		$data['nom_com'] = $datos_operador->NomComercialOperador;
		$data['razon_social'] = $datos_operador->RazonSocial;
		$data['nit'] = $datos_operador->NIT;
		$data['nro_cer_dom'] = $datos_operador->NumCertifDom;
		$data['fecha_cer_dom'] = $datos_operador->FechaCertifDom;
		$data['Cer_Ant_Penales'] = $datos_operador->Cer_Ant_Penales;
		$data['dom_legal'] = $datos_operador->DomLegal;
		$data['dom_proc'] = $datos_operador->DomProcActual;
		$data['dep_legal'] = $datos_operador->DeptoLegal;
		$data['dep_proc'] = $datos_operador->DeptoProcesal;
		$data['prov_legal'] = $datos_operador->ProvLegal;
		$data['prov_proc'] = $datos_operador->ProvProcesal;
		$data['ciu_legal'] = $datos_operador->CiudLocLegal;
		$data['ciu_proc'] = $datos_operador->CiudLocProcesal;
		$data['pag_web'] = $datos_operador->PagWeb;
		$data['correo'] = $datos_operador->Email;
		$data['casilla'] = $datos_operador->Casilla;
		$data['fax'] = $datos_operador->Fax;
		$data['telefonos'] = $datos_operador->TelFij;
		$data['celulares'] = $datos_operador->TelCel;
		//-------Representantes Legales
		if(count($datos_rep_legal)>0){
			foreach ($datos_rep_legal as $dato_rep_legal){
				$var_Id_Repre_Legal[] = $dato_rep_legal->Id_Repre_Legal;
				$var_Nombre_Completo[] = $dato_rep_legal->Nombre_Completo;
				$var_Ci_Repre_Legal[] = $dato_rep_legal->Ci_Repre_Legal;
				$var_Ci_Expedido[] = $dato_rep_legal->Ci_Expedido;
				$var_Nro_Testimonio_Poder_Legal[] = $dato_rep_legal->Nro_Testimonio_Poder_Legal;
				$var_Objeto_Poder_Legal[] = $dato_rep_legal->Objeto_Poder_Legal;
				$var_Fecha_Poder_Legal[] = $dato_rep_legal->Fecha_Poder_Legal;
				$var_Nro_Testimonio_Poder_Revo[] = $dato_rep_legal->Nro_Testimonio_Poder_Revo;
				$var_Nro_Testimonio_Nuevo_Poder[] = $dato_rep_legal->Nro_Testimonio_Nuevo_Poder;
				$var_Fecha_Testimonio_Revo[] = $dato_rep_legal->Fecha_Testimonio_Revo;
				$var_Fecha_Nuevo_Poder[] = $dato_rep_legal->Fecha_Nuevo_Poder;
				$var_Objeto_Nuevo_Poder[] = $dato_rep_legal->Objeto_Nuevo_Poder;
			}
			$data['Id_Repre_Legal'] = $var_Id_Repre_Legal;
			$data['Nombre_Completo'] = $var_Nombre_Completo;
			$data['Ci_Repre_Legal'] = $var_Ci_Repre_Legal;
			$data['Ci_Expedido'] = $var_Ci_Expedido;
			$data['Nro_Testimonio_Poder_Legal'] = $var_Nro_Testimonio_Poder_Legal;
			$data['Objeto_Poder_Legal'] = $var_Objeto_Poder_Legal;
			$data['Fecha_Poder_Legal'] = $var_Fecha_Poder_Legal;
			$data['Nro_Testimonio_Poder_Revo'] = $var_Nro_Testimonio_Poder_Revo;
			$data['Nro_Testimonio_Nuevo_Poder'] = $var_Nro_Testimonio_Nuevo_Poder;
			$data['Fecha_Testimonio_Revo'] = $var_Fecha_Testimonio_Revo;
			$data['Fecha_Nuevo_Poder'] = $var_Fecha_Nuevo_Poder;
			$data['Objeto_Nuevo_Poder'] = $var_Objeto_Nuevo_Poder;
			$data['nro_representantes'] = count($datos_rep_legal);
		}
		else{
			$data['nro_representantes'] = 0;
		}
		//-----------------Socios
		if ($tipo_operador == 7 || $tipo_operador == 3){
			if(count($datos_socios)>0){
				foreach ($datos_socios as $dato_socios){
					$var_id_socio[] = $dato_socios->Id_Socio;
					$var_nom_rz_socio[] = $dato_socios->Nombre_Rs_Socio;
					$var_ci_nit_socio[] = $dato_socios->Ci_Nit_Socio;
					$var_por_part[] = $dato_socios->Porcentaje_Participacion;
				}
				$data['id_socio'] = $var_id_socio;
				$data['nom_rz_socio'] = $var_nom_rz_socio;
				$data['ci_nit_socio'] = $var_ci_nit_socio;
				$data['por_part'] = $var_por_part;
				$data['num_socios'] = count($datos_socios);
			}
			else{
				$data['num_socios'] = 0;
			}
		}
		//-----------------Nominas
		if ($tipo_operador == 1 || $tipo_operador == 3 || $tipo_operador == 4 || $tipo_operador == 5){
			if(count($datos_nominas)>0){
				foreach ($datos_nominas as $dato_nominas){
					$var_Id_Nomina[] = $dato_nominas->Id_Nomina;
					$var_Nombre[] = $dato_nominas->Nombre;
					$var_Ci[] = $dato_nominas->Ci;
					$var_Ci_Expedido_nomina[] = $dato_nominas->Ci_Expedido_nomina;
					$var_Cargo[] = $dato_nominas->Cargo;
				}
				$data['Id_Nomina'] = $var_Id_Nomina;
				$data['Nombre'] = $var_Nombre;
				$data['Ci'] = $var_Ci;
				$data['Ci_Expedido_nomina'] = $var_Ci_Expedido_nomina;
				$data['Cargo'] = $var_Cargo;
				$data['num_miembros'] = count($datos_nominas);
			}
			else{
				$data['num_miembros'] = 0;
			}
		}
		//---------------------------------------------------------
		$this->load->view('form_paso2', $data);
	}

	function form_paso3(){
		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$id_operador = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $id_operador;
		
		$var_ck_cert = '';
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/form_paso4');

		$tipo_operador = $this->input->post('tipo_operador');
		$data['val_tipo_ope'] = $this->input->post('tipo_operador');
		//--------------------  actualiza representantes legales
		$num_de_repre = $this->input->post('num_representantes');
		$id_repre_legal = $this->input->post('id_repre_legal');
		$repre_legal = $this->input->post('repre_legal');
		$ci_repre_legal = $this->input->post('ci_repre_legal');
		$Ci_Expedido = $this->input->post('Ci_Expedido');
		$nro_test_poder_legal = $this->input->post('nro_test_poder_legal');
		$obj_poder_legal = $this->input->post('obj_poder_legal');
		$fecha_poder_legal = $this->input->post('fecha_poder_legal');
		$nro_test_rev = $this->input->post('nro_test_rev');
		$nro_test_new = $this->input->post('nro_test_new');
		$fecha_rev_poder = $this->input->post('fecha_rev_poder');
		$fecha_new_poder = $this->input->post('fecha_new_poder');
		$obj_new_poder = $this->input->post('obj_new_poder');
		if($num_de_repre>0){
			for ($i=0; $i<$num_de_repre; $i++) {	
				if($nro_test_rev[$i]!=''){
					$var_estado = '2';
				}
				else{
					$var_estado = '1';
				}
				$dato_repre_legal = array('Id_Operador' => $id_operador,
						'Estado' => $var_estado,
						'Nombre_Completo' => $repre_legal[$i],
						'Ci_Repre_Legal' => $ci_repre_legal[$i],
						'Ci_Expedido' => $Ci_Expedido[$i],
						'Nro_Testimonio_Poder_Legal' => $nro_test_poder_legal[$i],
						'Objeto_Poder_Legal' => $obj_poder_legal[$i],
						'Fecha_Poder_Legal' => date('Y-m-d', strtotime($fecha_poder_legal[$i])));
				$this->personModel->update_repre_legal($id_repre_legal[$i], $dato_repre_legal);
				if($nro_test_rev[$i]!=''){
				$dato_repre_legales = array('Nro_Testimonio_Poder_Revo' => $nro_test_rev[$i],
						'Nro_Testimonio_Nuevo_Poder' => $nro_test_new[$i],
						'Fecha_Testimonio_Revo' => date('Y-m-d', strtotime($fecha_rev_poder[$i])),
						'Fecha_Nuevo_Poder' => date('Y-m-d', strtotime($fecha_new_poder[$i])),
						'Objeto_Nuevo_Poder' => $obj_new_poder[$i]);
				$this->personModel->update_repre_legal($id_repre_legal[$i], $dato_repre_legales);
			}
			}
		}
		//--------------------  actualiza socios
		if ($tipo_operador == 7 || $tipo_operador == 3){
			$num_socios = $this->input->post('num_socios');
			$id_socio = $this->input->post('id_socio');
			$nom_rz_socio = $this->input->post('nom_rz_socio');
			$ci_nit_socio = $this->input->post('ci_nit_socio');
			$por_part = $this->input->post('por_part');
			if($num_socios>0){
				for ($i=0; $i<$num_socios; $i++) {	
					$dato_socios = array('Id_Operador' => $id_operador,
							'Nombre_Rs_Socio' => $nom_rz_socio[$i],
							'Ci_Nit_Socio' => $ci_nit_socio[$i],
							'Porcentaje_Participacion' => $por_part[$i]);
					$this->personModel->update_socios($id_socio[$i], $dato_socios);
				}
			}
		}
		//--------------------  actualiza nominas
		if ($tipo_operador == 1 || $tipo_operador == 3 || $tipo_operador == 4 || $tipo_operador == 5){
			$num_miembros = $this->input->post('num_miembros');
			$Id_Nomina = $this->input->post('Id_Nomina');
			$Nombre = $this->input->post('Nombre');
			$Ci = $this->input->post('Ci');
			$Ci_Expedido_nomina = $this->input->post('Ci_Expedido_nomina');
			$Cargo = $this->input->post('Cargo');
			if($num_miembros>0){
				for ($i=0; $i<$num_miembros; $i++) {	
					$dato_miembros = array('Id_Operador' => $id_operador,
							'Nombre' => $Nombre[$i],
							'Ci' => $Ci[$i],
							'Ci_Expedido_nomina' => $Ci_Expedido_nomina[$i],
							'Cargo' => $Cargo[$i]);
					$this->personModel->update_nominas($Id_Nomina[$i], $dato_miembros);
				}
			}
		}
		//--------------------  guarda representantes legales nuevos
		$vector_repre_legal = $this->input->post('new_repre_legal');
		$vector_ci_repre_legal = $this->input->post('new_ci_repre_legal');
		$vector_Ci_Expedido = $this->input->post('new_Ci_Expedido');
		$vector_nro_test_poder_legal = $this->input->post('new_nro_test_poder_legal');
		$vector_obj_poder_legal = $this->input->post('new_obj_poder_legal');
		$vector_fecha_poder_legal = $this->input->post('new_fecha_poder_legal');
		//$vector_nro_test_rev = $this->input->post('new_nro_test_rev');
		//$vector_nro_test_new = $this->input->post('new_nro_test_new');
		//$vector_fecha_rev_poder = $this->input->post('new_fecha_rev_poder');
		//$vector_obj_new_poder = $this->input->post('new_obj_new_poder');
		//$vector_fecha_new_poder = $this->input->post('new_fecha_new_poder');
		for ($i=0; $i<count($vector_repre_legal); $i++) {	
			if($vector_repre_legal[$i]!=''){
				$dato_repre_legales = array('Id_Operador' => $id_operador,
							'Estado' => '1',
							'Nombre_Completo' => $vector_repre_legal[$i],
							'Ci_Repre_Legal' => $vector_ci_repre_legal[$i],
							'Ci_Expedido' => $vector_Ci_Expedido[$i],
							'Nro_Testimonio_Poder_Legal' => $vector_nro_test_poder_legal[$i],
							'Objeto_Poder_Legal' => $vector_obj_poder_legal[$i],
							'Fecha_Poder_Legal' => date('Y-m-d', strtotime($vector_fecha_poder_legal[$i])));
				$id_repre_legales = $this->personModel->add_repre_legal($dato_repre_legales);
			}
			//--------------------  guarda revocatoria si existe
			/*if($vector_nro_test_rev[$i]!=''){
				$dato_repre_legales = array('Estado' => '2',
							'Nro_Testimonio_Poder_Revo' => $vector_nro_test_rev[$i],
							'Nro_Testimonio_Nuevo_Poder' => $vector_nro_test_new[$i],
							'Fecha_Testimonio_Revo' => date('Y-m-d', strtotime($vector_fecha_rev_poder[$i])),
							'Fecha_Nuevo_Poder' => date('Y-m-d', strtotime($vector_fecha_new_poder[$i])),
							'Objeto_Nuevo_Poder' => $vector_obj_new_poder[$i]);
				$this->personModel->update_repre_legal($id_repre_legal[$i], $dato_repre_legales);
			}*/
		}
		//---------------Socios Nuevos
		if ($tipo_operador == 7 || $tipo_operador == 3){
			$vector_nom_rz_socio = $this->input->post('new_nom_rz_socio');
			$vector_ci_nit_socio = $this->input->post('new_ci_nit_socio');
			$vector_por_part = $this->input->post('new_por_part');
			for ($i=0; $i<count($vector_nom_rz_socio); $i++) {	
				if($vector_nom_rz_socio[$i]!=''){
					$dato_socios = array('Id_Operador' => $id_operador,
								'Nombre_Rs_Socio' => $vector_nom_rz_socio[$i],
								'Ci_Nit_Socio' => $vector_ci_nit_socio[$i],
								'Porcentaje_Participacion' => $vector_por_part[$i]);
					$Id_Socio = $this->personModel->add_socios($dato_socios);
				}
			}
		}
		//---------------Miembros Nuevos
		if ($tipo_operador == 1 || $tipo_operador == 3 || $tipo_operador == 4 || $tipo_operador == 5){
			$vector_Nombre = $this->input->post('new_Nombre');
			$vector_Ci = $this->input->post('new_Ci');
			$vector_Ci_Expedido_nomina = $this->input->post('new_Ci_Expedido_nomina');
			$vector_Cargo = $this->input->post('new_Cargo');
			for ($i=0; $i<count($vector_Nombre); $i++) {	
				if($vector_Nombre[$i]!=''){
					$dato_nomina = array('Id_Operador' => $id_operador,
								'Nombre' => $vector_Nombre[$i],
								'Ci' => $vector_Ci[$i],
								'Ci_Expedido_nomina' => $vector_Ci_Expedido_nomina[$i],
								'Cargo' => $vector_Cargo[$i],);
					$Id_Nomina = $this->personModel->add_nomina($dato_nomina);
				}
			}
		}
		//**************************************************************************************
		//***************   ACTUALIZA INFORMACIÓN   ********************************************
		//**************************************************************************************
		//----------------------Tipo Operador = 1----------------------
		if ($tipo_operador == 1){
			if($this->input->post('Cer_Ant_Penales')==1){
				$var_ck_cert = 'SI';
			}
			else{
				$var_ck_cert = 'NO';	
			}
			$dato_ope = array('RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NumRegDirGralCoop' => $this->input->post('NumRegDirGralCoop'),
							'FechaRegDirGralCoop' => date('Y-m-d', strtotime($this->input->post('FechaRegDirGralCoop'))),
							'NomPresidConAdm' => $this->input->post('NomPresidConAdm'),
							'CIPresidConAdm' => $this->input->post('CIPresidConAdm'),
							'CIPresidConAdm_exp' => $this->input->post('CIPresidConAdm_exp'),
							'NumTestimonioPresidConAdm' => $this->input->post('NumTestimonioPresidConAdm'),
							'FechaTestimonio' => date('Y-m-d', strtotime($this->input->post('FechaTestimonio'))),
							'Num_Test_Estatutos' => $this->input->post('Num_Test_Estatutos'),
							'Fecha_Test_Estatutos' => date('Y-m-d', strtotime($this->input->post('Fecha_Test_Estatutos'))),
							'Obj_Creacion' => $this->input->post('Obj_Creacion'),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => date('Y-m-d', strtotime($this->input->post('fecha_cer_dom'))),
							'Cer_Ant_Penales' => $var_ck_cert,
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'TipoOperador' => $this->input->post('tipo_operador'));
			$this->personModel->update_operador($id_operador, $dato_ope);
		}
		//----------------------Tipo Operador = 2----------------------
		if ($tipo_operador == 2){
			if($this->input->post('Cer_Ant_Penales')==1){
				$var_ck_cert = 'SI';
			}
			else{
				$var_ck_cert = 'NO';	
			}
			$dato_ope = array('RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NomMAE' => $this->input->post('NomMAE'),
							'CIMAE' => $this->input->post('CIMAE'),
							'TNumDocDesigGub' => $this->input->post('TNumDocDesigGub'),
							'FechaDocDesigGub' => date('Y-m-d', strtotime($this->input->post('FechaDocDesigGub'))),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => date('Y-m-d', strtotime($this->input->post('fecha_cer_dom'))),
							'Est_Ri_Func' => $this->input->post('Est_Ri_Func'),
							'Cer_Ant_Penales' => $var_ck_cert,
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'TipoOperador' => $this->input->post('tipo_operador'));
			$this->personModel->update_operador($id_operador, $dato_ope);
		}
		//----------------------Tipo Operador = 3----------------------
		if ($tipo_operador == 3){
			if($this->input->post('Cer_Ant_Penales')==1){
				$var_ck_cert = 'SI';
			}
			else{
				$var_ck_cert = 'NO';	
			}
		$dato_ope = array('RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'CapSociedad' => $this->input->post('cap_sociedad'),
							'NomDirGralONG' => $this->input->post('NomDirGralONG'),
							'CIDirGralONG' => $this->input->post('CIDirGralONG'),
							'NumResGobONG' => $this->input->post('NumResGobONG'),
							'FechaResGobONG' => date('Y-m-d', strtotime($this->input->post('FechaResGobONG'))),
							'Num_Cer_Reg' => $this->input->post('Num_Cer_Reg'),
							'Fecha_Cer_Reg' => date('Y-m-d', strtotime($this->input->post('Fecha_Cer_Reg'))),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => date('Y-m-d', strtotime($this->input->post('fecha_cer_dom'))),
							'Num_Test_Estatutos' => $this->input->post('Num_Test_Estatutos'),
							'Fecha_Test_Estatutos' => date('Y-m-d', strtotime($this->input->post('Fecha_Test_Estatutos'))),
							'Cer_Ant_Penales' => $var_ck_cert,
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'TipoOperador' => $this->input->post('tipo_operador'));
			$this->personModel->update_operador($id_operador, $dato_ope);	
		}
		//----------------------Tipo Operador = 4----------------------
		if ($tipo_operador == 4){
			if($this->input->post('Cer_Ant_Penales')==1){
				$var_ck_cert = 'SI';
			}
			else{
				$var_ck_cert = 'NO';	
			}
		$dato_ope = array('RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NumDocCrea' => $this->input->post('NumDocCrea'),
							'FechaDocCrea' => date('Y-m-d', strtotime($this->input->post('FechaDocCrea'))),
							'NumDocAcred' => $this->input->post('NumDocAcred'),
							'FechaDocAcred' => date('Y-m-d', strtotime($this->input->post('FechaDocAcred'))),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => date('Y-m-d', strtotime($this->input->post('fecha_cer_dom'))),
							'Num_Doc_Min_Auto' => $this->input->post('Num_Doc_Min_Auto'),
							'Fecha_Doc_Min_Auto' => date('Y-m-d', strtotime($this->input->post('Fecha_Doc_Min_Auto'))),
							'Cer_Ant_Penales' => $var_ck_cert,
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'TipoOperador' => $this->input->post('tipo_operador'));
			$this->personModel->update_operador($id_operador, $dato_ope);	
		}	
		//----------------------Tipo Operador = 5----------------------
		if ($tipo_operador == 5){
			if($this->input->post('Cer_Ant_Penales')==1){
				$var_ck_cert = 'SI';
			}
			else{
				$var_ck_cert = 'NO';	
			}
			if($this->input->post('Acta_Nombra_Max')==1){
				$var_ck_acta = 'SI';
			}
			else{
				$var_ck_acta = 'NO';	
			}
			$dato_ope = array('RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NumResMinSind' => $this->input->post('res_min_sindical'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'FechaResMinSind' => date('Y-m-d', strtotime($this->input->post('fecha_resol_sin'))),
							'NomRepSind' => $this->input->post('nom_max_repre'),
							'NumResPersJurid' => $this->input->post('nro_res_juri'),
							'CIRepSind' => $this->input->post('ci_repre_sin'),
							'FechaResPersJurid' => date('Y-m-d', strtotime($this->input->post('fecha_per_jur'))),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => date('Y-m-d', strtotime($this->input->post('fecha_cer_dom'))),
							'Num_Test_Estatutos' => $this->input->post('Num_Test_Estatutos'),
							'Fecha_Test_Estatutos' => date('Y-m-d', strtotime($this->input->post('Fecha_Test_Estatutos'))),
							'Num_Reg_Mt' => $this->input->post('Num_Reg_Mt'),
							'Fecha_Reg_Mt' => date('Y-m-d', strtotime($this->input->post('Fecha_Reg_Mt'))),
							'Acta_Nombra_Max' => $var_ck_acta,
							'Obj_Creacion' => $this->input->post('Obj_Creacion'),
							'Cer_Ant_Penales' => $var_ck_cert,
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'TipoOperador' => $this->input->post('tipo_operador'));
			$this->personModel->update_operador($id_operador, $dato_ope);
		}
		//----------------------Tipo Operador = 6----------------------
		if ($tipo_operador == 6){
			if($this->input->post('Cer_Ant_Penales')==1){
				$var_ck_cert = 'SI';
			}
			else{
				$var_ck_cert = 'NO';	
			}
		$dato_ope = array('RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NumDocCrea' => $this->input->post('NumDocCrea'),
							'FechaDocCrea' => date('Y-m-d', strtotime($this->input->post('FechaDocCrea'))),
							'NumDocAcred' => $this->input->post('NumDocAcred'),
							'FechaDocAcred' => date('Y-m-d', strtotime($this->input->post('FechaDocAcred'))),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => date('Y-m-d', strtotime($this->input->post('fecha_cer_dom'))),
							'Cer_Ant_Penales' => $var_ck_cert,
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'TipoOperador' => $this->input->post('tipo_operador'));
			$this->personModel->update_operador($id_operador, $dato_ope);		
		}
		//----------------------Tipo Operador = 7----------------------
		if ($tipo_operador == 7){
			if($this->input->post('Cer_Ant_Penales')==1){
				$var_ck_cert = 'SI';
			}
			else{
				$var_ck_cert = 'NO';	
			}
			if($this->input->post('Cer_Sol_Fisco')==1){
				$var_ck_sol = 'SI';
			}
			else{
				$var_ck_sol = 'NO';	
			}
		$dato_ope = array('RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NumRegFUNDEMPRESA' => $this->input->post('NumRegFUNDEMPRESA'),
							'FechaRegFUNDEMPRESA' => date('Y-m-d', strtotime($this->input->post('FechaRegFUNDEMPRESA'))),
							'NumCertifTradFUNDEMPRESA' => $this->input->post('NumCertifTradFUNDEMPRESA'),
							'FechaCertifTradFUNDEMPRESA' => date('Y-m-d', strtotime($this->input->post('FechaCertifTradFUNDEMPRESA'))),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => date('Y-m-d', strtotime($this->input->post('fecha_cer_dom'))),
							'Cer_Sol_Fisco' => $var_ck_sol,
							'Num_Test_Const' => $this->input->post('Num_Test_Const'),
							'Fecha_Test_Const' => date('Y-m-d', strtotime($this->input->post('Fecha_Test_Const'))),
							'Num_Test_Modi' => $this->input->post('Num_Test_Modi'),
							'Fecha_Test_Modi' => date('Y-m-d', strtotime($this->input->post('Fecha_Test_Modi'))),
							'Num_Test_Estatutos' => $this->input->post('Num_Test_Estatutos'),
							'Fecha_Test_Estatutos' => date('Y-m-d', strtotime($this->input->post('Fecha_Test_Estatutos'))),
							'Cer_Ant_Penales' => $var_ck_cert,
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'CapSociedad' => $this->input->post('cap_sociedad'),
							'TipoOperador' => $this->input->post('tipo_operador'));
			$this->personModel->update_operador($id_operador, $dato_ope);	
		}		
		//----------------------Tipo Operador = 8----------------------
		if ($tipo_operador == 8){
			if($this->input->post('Cer_Ant_Penales')==1){
				$var_ck_cert = 'SI';
			}
			else{
				$var_ck_cert = 'NO';	
			}
			if($this->input->post('Cer_Sol_Fisco')==1){
				$var_ck_sol = 'SI';
			}
			else{
				$var_ck_sol = 'NO';	
			}
		$dato_ope = array('RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NomPropietario' => $this->input->post('NomPropietario'),
							'CIPropietario' => $this->input->post('CIPropietario'),
							'NumRegFUNDEMPRESA' => $this->input->post('NumRegFUNDEMPRESA'),
							'FechaRegFUNDEMPRESA' => date('Y-m-d', strtotime($this->input->post('FechaRegFUNDEMPRESA'))),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => date('Y-m-d', strtotime($this->input->post('fecha_cer_dom'))),
							'Cer_Sol_Fisco' => $var_ck_sol,
							'Cer_Ant_Penales' => $var_ck_cert,
							'DomLegal' => $this->input->post('dom_legal'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'TipoOperador' => $this->input->post('tipo_operador'));
			$this->personModel->update_operador($id_operador, $dato_ope);	
		}	
		//----------------------Tipo Operador = 9----------------------
		if ($tipo_operador == 9){
			if($this->input->post('Cer_Ant_Penales')==1){
				$var_ck_cert = 'SI';
			}
			else{
				$var_ck_cert = 'NO';	
			}
			if($this->input->post('Cer_Sol_Fisco')==1){
				$var_ck_sol = 'SI';
			}
			else{
				$var_ck_sol = 'NO';	
			}
			$dato_ope = array('RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NomRepSind' => $this->input->post('nom_max_repre'),
							'CIRepSind' => $this->input->post('ci_repre_sin'),
							'Num_Test_Estatutos' => $this->input->post('Num_Test_Estatutos'),
							'Fecha_Test_Estatutos' => date('Y-m-d', strtotime($this->input->post('Fecha_Test_Estatutos'))),
							'NumDocAcred' => $this->input->post('NumDocAcred'),
							'FechaDocAcred' => date('Y-m-d', strtotime($this->input->post('FechaDocAcred'))),
							'Cer_Sol_Fisco' => $var_ck_sol,
							'Cer_Ant_Penales' => $var_ck_cert,
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => date('Y-m-d', strtotime($this->input->post('fecha_cer_dom'))),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),							
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'TipoOperador' => $this->input->post('tipo_operador'));
			$this->personModel->update_operador($id_operador, $dato_ope);	
		}	
		//----------------------Tipo Operador = 10----------------------
		if ($tipo_operador == 10){
			if($this->input->post('Cer_Ant_Penales')==1){
				$var_ck_cert = 'SI';
			}
			else{
				$var_ck_cert = 'NO';	
			}
			if($this->input->post('Cer_Sol_Fisco')==1){
				$var_ck_sol = 'SI';
			}
			else{
				$var_ck_sol = 'NO';	
			}
			$dato_ope = array('RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'Num_Decreto_Alcaldia' => $this->input->post('Num_Decreto_Alcaldia'),
							'Fecha_Decreto_Alcaldia' => date('Y-m-d', strtotime($this->input->post('Fecha_Decreto_Alcaldia'))),
							'Num_Resol_Nom_Alcalde' => $this->input->post('Num_Resol_Nom_Alcalde'),
							'Fecha_Resol_Nom_Alcalde' => date('Y-m-d', strtotime($this->input->post('Fecha_Resol_Nom_Alcalde'))),
							'Cer_Sol_Fisco' => $var_ck_sol,
							'Cer_Ant_Penales' => $var_ck_cert,
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => date('Y-m-d', strtotime($this->input->post('fecha_cer_dom'))),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),							
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'TipoOperador' => $this->input->post('tipo_operador'));
			$this->personModel->update_operador($id_operador, $dato_ope);	
		}	
		//----------------------Tipo Operador = 11----------------------
		if ($tipo_operador == 11){
			if($this->input->post('Cer_Ant_Penales')==1){
				$var_ck_cert = 'SI';
			}
			else{
				$var_ck_cert = 'NO';	
			}
			$dato_ope = array('RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NomRepSind' => $this->input->post('nom_max_repre'),
							'CIRepSind' => $this->input->post('ci_repre_sin'),
							'Cer_Ant_Penales' => $var_ck_cert,
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => date('Y-m-d', strtotime($this->input->post('fecha_cer_dom'))),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),							
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'TipoOperador' => $this->input->post('tipo_operador'));
			$this->personModel->update_operador($id_operador, $dato_ope);	
		}
		//**************************************************************************************
		//***************   MOSTRAR INFORMACIÓN   **********************************************
		//**************************************************************************************
		$datos_operador = $this->personModel->obt_operador_all($id_operador)->row();
		$dep_leg = $this->personModel->obt_departamento($datos_operador->DeptoLegal)->row();
		$dep_proce = $this->personModel->obt_departamento($datos_operador->DeptoProcesal)->row();
		$prov_leg = $this->personModel->obt_provincia($datos_operador->ProvLegal)->row();
		$prov_proce = $this->personModel->obt_provincia($datos_operador->ProvProcesal)->row();
		$ciudad_leg = $this->personModel->obt_ciudad($datos_operador->CiudLocLegal)->row();
		$ciudad_proce = $this->personModel->obt_ciudad($datos_operador->CiudLocProcesal)->row();

		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		$this->table->add_row('<span class="blue">Razon Social:</span>', $datos_operador->RazonSocial,'','');
		$this->table->add_row('<span class="blue">Nombre Comercial Operador:</span>', $datos_operador->NomComercialOperador, '<span class="blue">NIT:</span>', $datos_operador->NIT);
		$this->table->add_row('<span class="blue">Nro. Certificado Domiciliario:</span>', $datos_operador->NumCertifDom, '<span class="blue">Fecha Certificado Domiciliario:</span>', $datos_operador->FechaCertifDom);

		//----------------------Tipo Operador = 1----------------------
		if ($tipo_operador == 1){		
			$data['titulo_tipo_ope'] = 'COOPERATIVA';
			$this->table->add_row('<span class="blue">Nro. Registro Dirección Gral. Coop.:</span>', $datos_operador->NumRegDirGralCoop, '<span class="blue">Fecha Registro Dirección Gral. Coop.:</span>', $datos_operador->FechaRegDirGralCoop);
			$this->table->add_row('<span class="blue">Nombre Pdte. Consejo Administrativo:</span>', $datos_operador->NomPresidConAdm, '<span class="blue">C.I. Pdte. Consejo Administrativo:</span>', $datos_operador->CIPresidConAdm);
			$this->table->add_row('<span class="blue">Nro. Testimonio Pdte. Consejo Adm.:</span>', $datos_operador->NumTestimonioPresidConAdm, '<span class="blue">Fecha Testimonio:</span>', $datos_operador->FechaTestimonio);
			$this->table->add_row('<span class="blue">Nro. Testimonio de Estatutos:</span>', $datos_operador->Num_Test_Estatutos, '<span class="blue">Fecha Testimonio de Estatutos:</span>', $datos_operador->Fecha_Test_Estatutos);
			$this->table->add_row('<span class="blue">Objeto de Creación:</span>', $datos_operador->Obj_Creacion, '', '');
		}
		//----------------------Tipo Operador = 2----------------------
		if ($tipo_operador == 2){		
			$data['titulo_tipo_ope'] = 'GUBERNAMENTAL';
			$this->table->add_row('<span class="blue">Nombre Máxima Autoridad Ejecutiva:</span>', $datos_operador->NomMAE, '<span class="blue">C.I. Máxima Autoridad Ejecutiva:</span>', $datos_operador->CIMAE);
			$this->table->add_row('<span class="blue">Tipo Nro. Documento Designación:</span>', $datos_operador->TNumDocDesigGub, '<span class="blue">Fecha Documento Designación:</span>', $datos_operador->FechaDocDesigGub);
			$this->table->add_row('<span class="blue">Estatuto y/o Reglamento Interno de funcionamiento:</span>', $datos_operador->Est_Ri_Func, '', '');
		}
		//----------------------Tipo Operador = 3----------------------
		if ($tipo_operador == 3){		
			$data['titulo_tipo_ope'] = 'ONG';
			$this->table->add_row('<span class="blue">Nombre Director General ONG:</span>', $datos_operador->NomDirGralONG, '<span class="blue">C.I. Director General ONG:</span>', $datos_operador->CIDirGralONG);
			$this->table->add_row('<span class="blue">Nombre Res. Gobernación ONG:</span>', $datos_operador->NumResGobONG, '<span class="blue">Fecha Res. Gobernación ONG:</span>', $datos_operador->FechaResGobONG);
			$this->table->add_row('<span class="blue">Nro. Testimonio de Estatutos:</span>', $datos_operador->Num_Test_Estatutos, '<span class="blue">Fecha Testimonio de Estatutos:</span>', $datos_operador->Fecha_Test_Estatutos);
			$this->table->add_row('<span class="blue">Nro. de Certificado legalizado del Registro:</span>', $datos_operador->Num_Cer_Reg, '<span class="blue">Fecha del Certificado legalizado del Registro:</span>', $datos_operador->Fecha_Cer_Reg);
		}
		//----------------------Tipo Operador = 4----------------------
		if ($tipo_operador == 4){		
			$data['titulo_tipo_ope'] = 'PUEBLO INDÍGENA ORIGINARIO CAMPESINO';
			$this->table->add_row('<span class="blue">Nro. Documento de creación:</span>', $datos_operador->NumDocCrea, '<span class="blue">Fecha Documento de creación:</span>', $datos_operador->FechaDocCrea);
			$this->table->add_row('<span class="blue">Nro. Documento de Acreditación:</span>', $datos_operador->NumDocAcred, '<span class="blue">Fecha Documento de Acreditación:</span>', $datos_operador->FechaDocAcred);
			$this->table->add_row('<span class="blue">Nro. de Documento de Creación reconocido por el Min. de Autonomías:</span>', $datos_operador->Num_Doc_Min_Auto, '<span class="blue">Fecha de Documento de Creación reconocido por el Min. de Autonomías:</span>', $datos_operador->Fecha_Doc_Min_Auto);
		}
		//----------------------Tipo Operador = 5----------------------
		if ($tipo_operador == 5){
			$data['titulo_tipo_ope'] = 'SINDICATO';
			$this->table->add_row('<span class="blue">Numero de Resolución Min. Sindical:</span>', $datos_operador->NumResMinSind, '<span class="blue">Fecha Resolución Min. Sindical:</span>', $datos_operador->FechaResMinSind);
			$this->table->add_row('<span class="blue">Nombre Máx. Representante Sindicato:</span>', $datos_operador->NomRepSind, '<span class="blue">C.I. Max. Representante Sindicato:</span>', $datos_operador->CIRepSind);
			$this->table->add_row('<span class="blue">Nro. Resolución Personeria Juridica:</span>', $datos_operador->NumResPersJurid, '<span class="blue">Fecha Resolución Personeria Juridica:</span>', $datos_operador->FechaResPersJurid);
			$this->table->add_row('<span class="blue">Nro. de Testimonio de Estatutos Internos y sus Modificaciones:</span>', $datos_operador->Num_Test_Estatutos, '<span class="blue">Fecha de Testimonio de Estatutos Internos y sus Modificaciones:</span>', $datos_operador->Fecha_Test_Estatutos);
			$this->table->add_row('<span class="blue">Objeto de Creación:</span>', $datos_operador->Obj_Creacion, '', '');
			$this->table->add_row('<span class="blue">Nro. de Registro en el Ministerio de Trabajo:</span>', $datos_operador->Num_Reg_Mt, '<span class="blue">Fecha de Registro en el Ministerio de Trabajo:</span>', $datos_operador->Fecha_Reg_Mt);
			$this->table->add_row('<span class="blue">Acta de Nombramiento del Máximo Representante:</span>', $datos_operador->Acta_Nombra_Max, '', '');
		}
		//----------------------Tipo Operador = 6----------------------
		if ($tipo_operador == 6){		
			$data['titulo_tipo_ope'] = 'SOCIAL COMUNITARIO';
			$this->table->add_row('<span class="blue">Nro. Documento de creación:</span>', $datos_operador->NumDocCrea, '<span class="blue">Fecha Documento de creación:</span>', $datos_operador->FechaDocCrea);
			$this->table->add_row('<span class="blue">Nro. de Test. que acredita la Pers. Jurídica de la Organización:</span>', $datos_operador->NumDocAcred, '<span class="blue">Fecha de Test. que acredita la Pers. Jurídica de la Organización:</span>', $datos_operador->FechaDocAcred);
		}
		//----------------------Tipo Operador = 7----------------------
		if ($tipo_operador == 7){		
			$data['titulo_tipo_ope'] = 'SOCIEDAD';
			$this->table->add_row('<span class="blue">Nro. Testimonio de Constitución:</span>', $datos_operador->Num_Test_Const, '<span class="blue">Fecha Testimonio de Constitución:</span>', $datos_operador->Fecha_Test_Const);
			$this->table->add_row('<span class="blue">Nro. Testimonio de Modificaciones (Si existe):</span>', $datos_operador->Num_Test_Modi, '<span class="blue">Fecha Testimonio de Modificaciones (Si existe):</span>', $datos_operador->Fecha_Test_Modi);
			$this->table->add_row('<span class="blue">Nro. Testimonio de Estatutos:</span>', $datos_operador->Num_Test_Estatutos, '<span class="blue">Fecha Testimonio de Estatutos:</span>', $datos_operador->Fecha_Test_Estatutos);
			$this->table->add_row('<span class="blue">Nro. Registro FUNDEMPRESA:</span>', $datos_operador->NumRegFUNDEMPRESA, '<span class="blue">Fecha Registro FUNDEMPRESA:</span>', $datos_operador->FechaRegFUNDEMPRESA);
			$this->table->add_row('<span class="blue">Nro. Certificado Tradición FUNDEMPRESA:</span>', $datos_operador->NumCertifTradFUNDEMPRESA, '<span class="blue">Fecha Certificado Tradición FUNDEMPRESA:</span>', $datos_operador->FechaCertifTradFUNDEMPRESA);
			$this->table->add_row('<span class="blue">Certificado de Solvencia con el FISCO:</span>', $datos_operador->Cer_Sol_Fisco, '', '');
		}
		//----------------------Tipo Operador = 8----------------------
		if ($tipo_operador == 8){		
			$data['titulo_tipo_ope'] = 'UNIPERSONAL';
			$this->table->add_row('<span class="blue">Nombre Propietario:</span>', $datos_operador->NomPropietario, '<span class="blue">C.I. Propietario:</span>', $datos_operador->CIPropietario);
			$this->table->add_row('<span class="blue">Nro. Registro FUNDEMPRESA:</span>', $datos_operador->NumRegFUNDEMPRESA, '<span class="blue">Fecha Registro FUNDEMPRESA:</span>', $datos_operador->FechaRegFUNDEMPRESA);
			$this->table->add_row('<span class="blue">Certificado de Solvencia con el FISCO:</span>', $datos_operador->Cer_Sol_Fisco, '', '');

			$this->table->add_row('<span class="blue">Certificado de Antecedentes Penales:</span>', $datos_operador->Cer_Ant_Penales, '', '');		
			$this->table->add_row('<span class="blue">Domicilio Legal de la Empresa:</span>', $datos_operador->DomLegal, '', '');
			$this->table->add_row('<span class="blue">Departamento Legal:</span>', $dep_leg->Nombre_Dep, '','');
			$this->table->add_row('<span class="blue">Provincia Legal:</span>', $prov_leg->Nombre_Prov, '','');
			$this->table->add_row('<span class="blue">Ciudad/Loc. Legal:</span>', $ciudad_leg->Nombre_Ciudad, '','');
		}
		//----------------------Tipo Operador = 9----------------------
		if ($tipo_operador == 9){		
			$data['titulo_tipo_ope'] = 'Asociaciones, Fundaciones y Org. Religiosas';
			$this->table->add_row('<span class="blue">Nro. de Test. que acredita la Pers. Jurídica de la Organización:</span>', $datos_operador->NumDocAcred, '<span class="blue">Fecha de Test. que acredita la Pers. Jurídica de la Organización:</span>', $datos_operador->FechaDocAcred);
			$this->table->add_row('<span class="blue">Nombre Máx. Representante:</span>', $datos_operador->NomRepSind, '<span class="blue">C.I. Max. Representante:</span>', $datos_operador->CIRepSind);
			$this->table->add_row('<span class="blue">Nro. de Testimonio de Estatutos Internos y sus Modificaciones:</span>', $datos_operador->Num_Test_Estatutos, '<span class="blue">Fecha de Testimonio de Estatutos Internos y sus Modificaciones:</span>', $datos_operador->Fecha_Test_Estatutos);
			$this->table->add_row('<span class="blue">Certificado de Solvencia con el FISCO:</span>', $datos_operador->Cer_Sol_Fisco, '', '');

			$this->table->add_row('<span class="blue">Certificado de Antecedentes Penales:</span>', $datos_operador->Cer_Ant_Penales, '', '');		
			$this->table->add_row('<span class="blue">Domicilio Legal:</span>', $datos_operador->DomLegal, '<span class="blue">Domicilio Procesal Actual:</span>', $datos_operador->DomProcActual);
			$this->table->add_row('<span class="blue">Departamento Procesal:</span>', $dep_proce->Nombre_Dep,'','');
			$this->table->add_row('<span class="blue">Provincia Procesal:</span>', $prov_proce->Nombre_Prov,'','');
			$this->table->add_row('<span class="blue">Ciudad/Loc. Procesal:</span>', $ciudad_proce->Nombre_Ciudad,'','');
		}
		//----------------------Tipo Operador = 10----------------------
		if ($tipo_operador == 10){		
			$data['titulo_tipo_ope'] = 'ALCALDIAS';
			$this->table->add_row('<span class="blue">Nro. de Decreto de Constitución de la Alcaldía:</span>', $datos_operador->Num_Decreto_Alcaldia, '<span class="blue">Fecha de Decreto de Constitución de la Alcaldía:</span>', $datos_operador->Fecha_Decreto_Alcaldia);
			$this->table->add_row('<span class="blue">Nro. de Resol. de nombramiento del actual Alcalde:</span>', $datos_operador->Num_Resol_Nom_Alcalde, '<span class="blue">Fecha de Resol. de nombramiento del actual Alcalde:</span>', $datos_operador->Fecha_Resol_Nom_Alcalde);
			$this->table->add_row('<span class="blue">Certificado de Solvencia con el FISCO:</span>', $datos_operador->Cer_Sol_Fisco, '<span class="blue">Certificado de Antecedentes Penales:</span>', $datos_operador->Cer_Ant_Penales);
			$this->table->add_row('<span class="blue">Domicilio Legal:</span>', $datos_operador->DomLegal, '<span class="blue">Domicilio Procesal Actual:</span>', $datos_operador->DomProcActual);
			$this->table->add_row('<span class="blue">Departamento Procesal:</span>', $dep_proce->Nombre_Dep,'','');
			$this->table->add_row('<span class="blue">Provincia Procesal:</span>', $prov_proce->Nombre_Prov,'','');
			$this->table->add_row('<span class="blue">Ciudad/Loc. Procesal:</span>', $ciudad_proce->Nombre_Ciudad,'','');
		}
		//----------------------Tipo Operador = 11----------------------
		if ($tipo_operador == 11){		
			$data['titulo_tipo_ope'] = 'EMBAJADAS';
			$this->table->add_row('<span class="blue">Nombre Máx. Representante:</span>', $datos_operador->NomRepSind, '<span class="blue">C.I. Max. Representante:</span>', $datos_operador->CIRepSind);
			$this->table->add_row('<span class="blue">Certificado de Antecedentes Penales:</span>', $datos_operador->Cer_Ant_Penales,'','');
			$this->table->add_row('<span class="blue">Domicilio Legal:</span>', $datos_operador->DomLegal, '<span class="blue">Domicilio Procesal Actual:</span>', $datos_operador->DomProcActual);
			$this->table->add_row('<span class="blue">Departamento Procesal:</span>', $dep_proce->Nombre_Dep,'','');
			$this->table->add_row('<span class="blue">Provincia Procesal:</span>', $prov_proce->Nombre_Prov,'','');
			$this->table->add_row('<span class="blue">Ciudad/Loc. Procesal:</span>', $ciudad_proce->Nombre_Ciudad,'','');
		}
		//-------------------------------------------------------------------------------------
		if($tipo_operador == 4){ $var_a = "de la Organización";} if($tipo_operador == 6){ $var_a = "de la Comunidad";} if($tipo_operador == 1 || $tipo_operador == 2 ||$tipo_operador == 3 ||$tipo_operador == 5 ||$tipo_operador == 7 ||$tipo_operador == 8){ $var_a = "de la Empresa";} if($tipo_operador == 9 || $tipo_operador == 10 || $tipo_operador == 11){ $var_a = "";}

		if($tipo_operador == 1 || $tipo_operador == 2 || $tipo_operador == 3 || $tipo_operador == 4 || $tipo_operador == 5 || $tipo_operador == 6 || $tipo_operador == 7 ){
			$this->table->add_row('<span class="blue">Certificado de Antecedentes Penales:</span>', $datos_operador->Cer_Ant_Penales, '', '');		
			$this->table->add_row('<span class="blue">Domicilio Legal '.$var_a.':</span>', $datos_operador->DomLegal, '<span class="blue">Domicilio Procesal Actual:</span>', $datos_operador->DomProcActual);
			$this->table->add_row('<span class="blue">Departamento Legal:</span>', $dep_leg->Nombre_Dep, '<span class="blue">Departamento Procesal:</span>', $dep_proce->Nombre_Dep);
			$this->table->add_row('<span class="blue">Provincia Legal:</span>', $prov_leg->Nombre_Prov, '<span class="blue">Provincia Procesal:</span>', $prov_proce->Nombre_Prov);
			$this->table->add_row('<span class="blue">Ciudad/Loc. Legal:</span>', $ciudad_leg->Nombre_Ciudad, '<span class="blue">Ciudad/Loc. Procesal:</span>', $ciudad_proce->Nombre_Ciudad);
		}
		$this->table->add_row('<span class="blue">Página Web:</span>', $datos_operador->PagWeb, '<span class="blue">Casilla:</span>', $datos_operador->Casilla);
		$this->table->add_row('<span class="blue">Correo:</span>', $datos_operador->Email, '<span class="blue">Fax:</span>', $datos_operador->Fax);
		$this->table->add_row('<span class="blue">Teléfonos:</span>', $datos_operador->TelFij,'','');
		$this->table->add_row('<span class="blue">Celulares:</span>', $datos_operador->TelCel,'','');
		$data['table'] = $this->table->generate();
		//-------------- Mostrar información de Representantes Legales
		$this->table->clear();
		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		$this->table->set_heading('Nombre Completo', 'CI', 'Nro. Testimonio Poder', 'Fecha Poder','Objeto Poder','Nro. Testimonio Rev. Poder', 'Fecha Test. Rev. Poder', 'Nro. Test. Nuevo Poder', 'Fecha Test. Nuevo Poder', 'Objeto Nuevo Poder');
		$datos_representantes = $this->personModel->obt_representantes($id_operador)->result();
		foreach ($datos_representantes as $dato_representantes){
			$this->table->add_row($dato_representantes->Nombre_Completo, $dato_representantes->Ci_Repre_Legal.' '.$dato_representantes->Ci_Expedido, $dato_representantes->Nro_Testimonio_Poder_Legal, $dato_representantes->Fecha_Poder_Legal, $dato_representantes->Objeto_Poder_Legal, $dato_representantes->Nro_Testimonio_Poder_Revo, $dato_representantes->Fecha_Testimonio_Revo, $dato_representantes->Nro_Testimonio_Nuevo_Poder, $dato_representantes->Fecha_Nuevo_Poder, $dato_representantes->Objeto_Nuevo_Poder);			
		}
		$data['table2'] = $this->table->generate();
		//-------------- Mostrar Socios
		if ($tipo_operador == 7 || $tipo_operador == 3){
			$this->table->clear();
			$this->load->library('table');
			$this->table->set_empty("&nbsp;");
			$this->table->set_heading('Nombre Completo / Razon Social', 'CI / NIT', 'Porcentaje de Participación (%)');
			$datos_socios = $this->personModel->obt_socios($id_operador)->result();
			foreach ($datos_socios as $dato_socios){
				$this->table->add_row($dato_socios->Nombre_Rs_Socio, $dato_socios->Ci_Nit_Socio, $dato_socios->Porcentaje_Participacion);			
			}
			$data['table3'] = $this->table->generate();
		}
		//-------------- Mostrar Miembros
		if ($tipo_operador == 1 || $tipo_operador == 3 || $tipo_operador == 4 || $tipo_operador == 5){
			$p=0;
			$this->table->clear();
			$this->load->library('table');
			$this->table->set_empty("&nbsp;");
			$this->table->set_heading('#', 'Nombre Completo', 'CI', 'Cargo');
			$datos_miembros = $this->personModel->obt_nomina($id_operador)->result();
			foreach ($datos_miembros as $dato_miembros){
				$this->table->add_row(++$p, $dato_miembros->Nombre, $dato_miembros->Ci.' '.$dato_miembros->Ci_Expedido_nomina, $dato_miembros->Cargo);			
			}
			$data['table4'] = $this->table->generate();
		}
		//---------------------------------------------------------------
		$data['name_ope'] = $datos_operador->NomComercialOperador;
		$this->load->view('form_paso3', $data);		
	}

	function form_paso4(){
		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$id_operador = $this->session->userdata('nivel');
		$datos_operador = $this->personModel->obt_operador_all($id_operador)->row();
		$data['name_ope'] = $datos_operador->NomComercialOperador;
		$data['usuario'] = $usu;
		$data['nivel'] = $id_operador;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/pdf_dec_jurada');
		
		$tipo_de_operador = $this->input->post('tipo_operador');
		$data['val_tipo_ope'] = $this->input->post('tipo_operador');

		//------------------------------------------------------------------------------------------
		//----------------------Tipo Operador = 1----------------------
		if($tipo_de_operador == 1){
			$data['titulo_tipo_ope'] = 'COOPERATIVA';
		}
		//----------------------Tipo Operador = 2----------------------
		if($tipo_de_operador == 2){
			$data['titulo_tipo_ope'] = 'GUBERNAMENTAL';
		}
		//----------------------Tipo Operador = 3----------------------
		if($tipo_de_operador == 3){
			$data['titulo_tipo_ope'] = 'ONG';
		}
		//----------------------Tipo Operador = 4----------------------
		if($tipo_de_operador == 4){
			$data['titulo_tipo_ope'] = 'PUEBLO INDÍGENA ORIGINARIO CAMPESINO';
		}
		//----------------------Tipo Operador = 5----------------------
		if($tipo_de_operador == 5){
			$data['titulo_tipo_ope'] = 'SINDICATO';
		}
		//----------------------Tipo Operador = 6----------------------
		if($tipo_de_operador == 6){
			$data['titulo_tipo_ope'] = 'SOCIAL COMUNITARIO';
		}
		//----------------------Tipo Operador = 7----------------------
		if($tipo_de_operador == 7){
			$data['titulo_tipo_ope'] = 'SOCIEDAD';
		}
		//----------------------Tipo Operador = 8----------------------
		if($tipo_de_operador == 8){
			$data['titulo_tipo_ope'] = 'UNIPERSONAL';
		}
		//----------------------Tipo Operador = 9----------------------
		if($tipo_de_operador == 9){
			$data['titulo_tipo_ope'] = 'Asociaciones, Fundaciones y Org. Religiosas';
		}
		//----------------------Tipo Operador = 10----------------------
		if($tipo_de_operador == 10){
			$data['titulo_tipo_ope'] = 'ALCALDIAS';
		}
		//----------------------Tipo Operador = 11----------------------
		if($tipo_de_operador == 11){
			$data['titulo_tipo_ope'] = 'EMBAJADAS';
		}
		//------------------------------------------------------------------------------------------
		$this->load->view('form_paso4', $data);	
	}

	function pdf_dec_jurada(){
		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$id_operador = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $id_operador;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/pdf_dec_jurada');

		$data['val_tipo_ope'] = $this->input->post('tipo_operador');
		$tipo_de_operador = $this->input->post('tipo_operador');
		$datos_operador = $this->personModel->obt_operador_all($id_operador)->row();
		$var_a = '';

		$dep_leg = $this->personModel->obt_departamento($datos_operador->DeptoLegal)->row();
		$dep_proce = $this->personModel->obt_departamento($datos_operador->DeptoProcesal)->row();
		$prov_leg = $this->personModel->obt_provincia($datos_operador->ProvLegal)->row();
		$prov_proce = $this->personModel->obt_provincia($datos_operador->ProvProcesal)->row();
		$ciudad_leg = $this->personModel->obt_ciudad($datos_operador->CiudLocLegal)->row();
		$ciudad_proce = $this->personModel->obt_ciudad($datos_operador->CiudLocProcesal)->row();

		//-------------PDF
		$this->cezpdf->cezpdf('a4', 'portrait'); 
		$this->cezpdf->ezImage(base_img_url_att, 35, 50, 'none', 'left');
		$this->cezpdf->selectFont('fonts/Helvetica.afm');
		$this->cezpdf->addText(50,800,11,"<b>AUTORIDAD DE REGULACION Y FISCALIZACION DE TELECOMUNICACIONES Y TRANSPORTES</b>",0,0);
		$this->cezpdf->addText(130,785,11,'<b>FORMULARIO UNICO DE DECLARACION JURADA DE REGISTRO</b>',0,0);
		$this->cezpdf->addText(50,740,10,'<b>Operador Vigente</b>',0,0);
		$this->cezpdf->addText(50,728,10,'<b>Nro. de ID: </b>'.$id_operador,0,0);
		$this->cezpdf->addText(50,718,9,'<b>Impreso en fecha: </b>' . date('m-d-Y h:i:s a'));
		//------Tabla
		$this->cezpdf->ezSetY(690);				
		
		$dato_1 = array(array('etiqueta1'=>'Razon Social:','desc1'=> $datos_operador->RazonSocial,'etiqueta2'=>'Nombre Comercial del Operador','desc2'=>$datos_operador->NomComercialOperador));
		//************************************************************************************
		//************************************************************************************
		//----------------------Tipo Operador = 1----------------------
		if($tipo_de_operador == 1){
			$desc_tipo_ope = 'COOPERATIVA';
			$dato_2 = array(array('etiqueta1'=>'Nombre Pdte. Consejo Administrativo:','desc1'=> $datos_operador->NomPresidConAdm,'etiqueta2'=>'C.I. Pdte. Consejo Administrativo','desc2'=>$datos_operador->CIPresidConAdm),
						array('etiqueta1'=>'Nro. Registro Direccion Gral. Coop.:','desc1'=> $datos_operador->NumRegDirGralCoop,'etiqueta2'=>'Fecha Registro Direccion Gral. Coop.:','desc2'=>$datos_operador->FechaRegDirGralCoop),
						array('etiqueta1'=>'Nro. Testimonio Pdte. Consejo Adm.:','desc1'=> $datos_operador->NumTestimonioPresidConAdm,'etiqueta2'=>'Fecha Testimonio:','desc2'=>$datos_operador->FechaTestimonio),
						array('etiqueta1'=>'Nro. Testimonio de Estatutos:','desc1'=> $datos_operador->Num_Test_Estatutos,'etiqueta2'=>'Fecha Testimonio de Estatutos','desc2'=>$datos_operador->Fecha_Test_Estatutos),
						array('etiqueta1'=>'Objeto de Creacion:','desc1'=> $datos_operador->Obj_Creacion,'etiqueta2'=>'','desc2'=>''));
		}
		//----------------------Tipo Operador = 2----------------------
		if($tipo_de_operador == 2){
			$desc_tipo_ope = 'GUBERNAMENTAL';
			$dato_2 = array(array('etiqueta1'=>'Nombre Máxima Autoridad Ejecutiva:','desc1'=> $datos_operador->NomMAE,'etiqueta2'=>'C.I. Máxima Autoridad Ejecutiva','desc2'=>$datos_operador->CIMAE),
						array('etiqueta1'=>'Tipo Nro. Documento Designación:','desc1'=> $datos_operador->TNumDocDesigGub,'etiqueta2'=>'Fecha Documento Designación:','desc2'=>$datos_operador->FechaDocDesigGub),
						array('etiqueta1'=>'Tipo Nro. Documento Designación:','desc1'=> $datos_operador->TNumDocDesigGub,'etiqueta2'=>'Estatuto y/o Reglamento Interno de funcionamiento:','desc2'=>$datos_operador->Est_Ri_Func));
		}
		//----------------------Tipo Operador = 3----------------------
		if($tipo_de_operador == 3){
			$desc_tipo_ope = 'ONG';
			$dato_2 = array(array('etiqueta1'=>'Nombre Director General ONG:','desc1'=> $datos_operador->NomDirGralONG,'etiqueta2'=>'C.I. Director General ONG','desc2'=>$datos_operador->CIDirGralONG),
						array('etiqueta1'=>'Nombre Res. Gobernación ONG:','desc1'=> $datos_operador->NumResGobONG,'etiqueta2'=>'Fecha Res. Gobernación ONG:','desc2'=>$datos_operador->FechaResGobONG),
						array('etiqueta1'=>'Nro. Testimonio de Estatutos:','desc1'=> $datos_operador->Num_Test_Estatutos,'etiqueta2'=>'Fecha Testimonio de Estatutos','desc2'=>$datos_operador->Fecha_Test_Estatutos),
						array('etiqueta1'=>'Nro. de Certificado legalizado del Registro:','desc1'=> $datos_operador->Num_Cer_Reg,'etiqueta2'=>'Fecha del Certificado legalizado del Registro','desc2'=>$datos_operador->Fecha_Cer_Reg));
		}
		//----------------------Tipo Operador = 4----------------------
		if($tipo_de_operador == 4){
			$desc_tipo_ope = 'PUEBLO INDIGENA';
			$dato_2 = array(array('etiqueta1'=>'Nombre Propietario:','desc1'=> $datos_operador->NomPropietario,'etiqueta2'=>'C.I. Propietario','desc2'=>$datos_operador->CIPropietario),
						array('etiqueta1'=>'Nro. Documento de creacion:','desc1'=> $datos_operador->NumDocCrea,'etiqueta2'=>'Fecha Documento de creacion','desc2'=>$datos_operador->FechaDocCrea),
						array('etiqueta1'=>'Nro. Documento de Acreditacion:','desc1'=> $datos_operador->NumDocAcred,'etiqueta2'=>'Fecha Documento de Acreditacion:','desc2'=>$datos_operador->FechaDocAcred),						
						array('etiqueta1'=>'Nro. de Documento de Creacion reconocido por el Min. de Autonomias:','desc1'=> $datos_operador->Num_Doc_Min_Auto,'etiqueta2'=>'Fecha de Documento de Creacion reconocido por el Min. de Autonomias:','desc2'=>$datos_operador->Fecha_Doc_Min_Auto));
		}
		//----------------------Tipo Operador = 5----------------------
		if($tipo_de_operador == 5){
			$desc_tipo_ope = 'SINDICATO';
			$dato_2 = array(array('etiqueta1'=>'Nombre Maximo Repre. Sindicato:','desc1'=> $datos_operador->NomRepSind,'etiqueta2'=>'C.I. Maximo Repre. Sindicato','desc2'=>$datos_operador->CIRepSind),
						array('etiqueta1'=>'Nro. Resolucion Min. Recono. Direc. Sindical:','desc1'=> $datos_operador->NumResMinSind,'etiqueta2'=>'Fecha Resolucion Min. Recono. Direc. Sindical','desc2'=>$datos_operador->FechaResMinSind),
						array('etiqueta1'=>'Nro. Res. Suprema Reconoce Personeria Juridica:','desc1'=> $datos_operador->NumResPersJurid,'etiqueta2'=>'Fecha Res. Suprema Conoce Personeria Juridica:','desc2'=>$datos_operador->FechaResPersJurid),
						array('etiqueta1'=>'Nro. Testimonio de Estatutos Internos y sus Modificaciones:','desc1'=> $datos_operador->Num_Test_Estatutos,'etiqueta2'=>'Fecha Testimonio de Estatutos Internos','desc2'=>$datos_operador->Fecha_Test_Estatutos),
						array('etiqueta1'=>'Objeto de Creacion:','desc1'=> $datos_operador->Obj_Creacion,'etiqueta2'=>'','desc2'=>''),
						array('etiqueta1'=>'Nro. de Registro en el Ministerio de Trabajo:','desc1'=> $datos_operador->Num_Reg_Mt,'etiqueta2'=>'Fecha de Registro en el Ministerio de Trabajo','desc2'=>$datos_operador->Fecha_Reg_Mt),
						array('etiqueta1'=>'Acta de Nombramiento del Maximo Representante:','desc1'=> $datos_operador->Acta_Nombra_Max,'etiqueta2'=>'','desc2'=>''));
		}
		//----------------------Tipo Operador = 6----------------------
		if($tipo_de_operador == 6){
			$desc_tipo_ope = 'SOCIAL COMUNITARIO';
			$dato_2 = array(array('etiqueta1'=>'Nro. Documento de creacion:','desc1'=> $datos_operador->NumDocCrea,'etiqueta2'=>'Fecha Documento de creacion','desc2'=>$datos_operador->FechaDocCrea),
						array('etiqueta1'=>'Nro. de Test. que acredita la Pers. Juridica de la Organizacion:','desc1'=> $datos_operador->NumDocAcred,'etiqueta2'=>'Fecha de Test. que acredita la Pers. Juridica de la Organizacion:','desc2'=>$datos_operador->FechaDocAcred));
		}
		//----------------------Tipo Operador = 7----------------------
		if($tipo_de_operador == 7){
			$desc_tipo_ope = 'SOCIEDAD';
			$dato_2 = array(array('etiqueta1'=>'Nro. Testimonio de Constitucion:','desc1'=> $datos_operador->Num_Test_Const,'etiqueta2'=>'Fecha Testimonio de Constitución','desc2'=>$datos_operador->Fecha_Test_Const),
				array('etiqueta1'=>'Nro. Testimonio de Modificaciones (Si existe):','desc1'=> $datos_operador->Num_Test_Modi,'etiqueta2'=>'Fecha Testimonio de Modificaciones (Si existe)','desc2'=>$datos_operador->Fecha_Test_Modi),
				array('etiqueta1'=>'Nro. Testimonio de Estatutos:','desc1'=> $datos_operador->Num_Test_Estatutos,'etiqueta2'=>'Fecha Testimonio de Estatutos','desc2'=>$datos_operador->Fecha_Test_Estatutos),
				array('etiqueta1'=>'Nro. Registro FUNDEMPRESA:','desc1'=> $datos_operador->NumRegFUNDEMPRESA,'etiqueta2'=>'Fecha Registro FUNDEMPRESA','desc2'=>$datos_operador->FechaRegFUNDEMPRESA),
						array('etiqueta1'=>'Nro. Certificado Tradición FUNDEMPRESA:','desc1'=> $datos_operador->NumCertifTradFUNDEMPRESA,'etiqueta2'=>'Fecha Certificado Tradición FUNDEMPRESA:','desc2'=>$datos_operador->FechaCertifTradFUNDEMPRESA),
						array('etiqueta1'=>'Certificado de Solvencia con el FISCO:','desc1'=> $datos_operador->Cer_Sol_Fisco,'etiqueta2'=>'','desc2'=>''));
		}
		//----------------------Tipo Operador = 8----------------------
		if($tipo_de_operador == 8){
			$desc_tipo_ope = 'UNIPERSONAL';
			$dato_2 = array(array('etiqueta1'=>'Nombre Propietario:','desc1'=> $datos_operador->NomPropietario,'etiqueta2'=>'C.I. Propietario','desc2'=>$datos_operador->CIPropietario),
						array('etiqueta1'=>'Nro. Registro FUNDEMPRESA:','desc1'=> $datos_operador->NumRegFUNDEMPRESA,'etiqueta2'=>'Fecha Registro FUNDEMPRESA','desc2'=>$datos_operador->FechaRegFUNDEMPRESA));
			$dato_3 = array(array('etiqueta1'=>'Certificado de Antecedentes Penales:','desc1'=> $datos_operador->Cer_Ant_Penales,'etiqueta2'=>'Certificado de Solvencia con el FISCO','desc2'=>$datos_operador->Cer_Sol_Fisco),
						array('etiqueta1'=>'Nro. Certificado Domiciliario:','desc1'=> $datos_operador->NumCertifDom,'etiqueta2'=>'Fecha Certificado Domiciliario','desc2'=>$datos_operador->FechaCertifDom),			
						array('etiqueta1'=>'Domicilio Legal de la Empresa:','desc1'=> $datos_operador->DomLegal,'etiqueta2'=>'Departamento Legal','desc2'=>$dep_leg->Nombre_Dep),
						array('etiqueta1'=>'Casilla:','desc1'=> $datos_operador->Casilla,'etiqueta2'=>'Pagina Web','desc2'=>$datos_operador->PagWeb),
						array('etiqueta1'=>'E-mail:','desc1'=> $datos_operador->Email,'etiqueta2'=>'Telefonos','desc2'=>$datos_operador->TelFij),
						array('etiqueta1'=>'Fax:','desc1'=> $datos_operador->Fax,'etiqueta2'=>'Fecha Actualizada','desc2'=>$fecha),
						array('etiqueta1'=>'ID Asignado:','desc1'=> $id_operador,'etiqueta2'=>'NIT','desc2'=>$datos_operador->NIT));
		}
		//----------------------Tipo Operador = 9----------------------
		if($tipo_de_operador == 9){
			$desc_tipo_ope = 'Asociaciones, Fundaciones y Org. Religiosas';
			$dato_2 = array(array('etiqueta1'=>'Nombre Maximo Representante:','desc1'=> $datos_operador->NomRepSind,'etiqueta2'=>'C.I. Maximo Representante','desc2'=>$datos_operador->CIRepSind),
							array('etiqueta1'=>'Nro. Testimonio de Estatutos Internos y sus Modificaciones:','desc1'=> $datos_operador->Num_Test_Estatutos,'etiqueta2'=>'Fecha Testimonio de Estatutos Internos','desc2'=>$datos_operador->Fecha_Test_Estatutos),
							array('etiqueta1'=>'Nro. de Test. que acredita la Pers. Juridica:','desc1'=> $datos_operador->NumDocAcred,'etiqueta2'=>'Fecha de Test. que acredita la Pers. Juridica:','desc2'=>$datos_operador->FechaDocAcred));
			$dato_3 = array(array('etiqueta1'=>'Certificado de Antecedentes Penales:','desc1'=> $datos_operador->Cer_Ant_Penales,'etiqueta2'=>'Certificado de Solvencia con el FISCO','desc2'=>$datos_operador->Cer_Sol_Fisco),
						array('etiqueta1'=>'Nro. Certificado Domiciliario:','desc1'=> $datos_operador->NumCertifDom,'etiqueta2'=>'Fecha Certificado Domiciliario','desc2'=>$datos_operador->FechaCertifDom),	
						array('etiqueta1'=>'Domicilio Legal:','desc1'=> $datos_operador->DomLegal,'etiqueta2'=>'','desc2'=>''),
						array('etiqueta1'=>'Domicilio Procesal Actual:','desc1'=> $datos_operador->DomProcActual,'etiqueta2'=>'Departamento Procesal','desc2'=>$dep_proce->Nombre_Dep),
						array('etiqueta1'=>'Casilla:','desc1'=> $datos_operador->Casilla,'etiqueta2'=>'Pagina Web','desc2'=>$datos_operador->PagWeb),
						array('etiqueta1'=>'E-mail:','desc1'=> $datos_operador->Email,'etiqueta2'=>'Telefonos','desc2'=>$datos_operador->TelFij),
						array('etiqueta1'=>'Fax:','desc1'=> $datos_operador->Fax,'etiqueta2'=>'Fecha Actualizada','desc2'=>$fecha),
						array('etiqueta1'=>'ID Asignado:','desc1'=> $id_operador,'etiqueta2'=>'NIT','desc2'=>$datos_operador->NIT));
		}
		//----------------------Tipo Operador = 10----------------------
		if($tipo_de_operador == 10){
			$desc_tipo_ope = 'ALCALDIAS';
			$dato_2 = array(array('etiqueta1'=>'Nro. de Decreto de Constitucion de la Alcaldia:','desc1'=> $datos_operador->Num_Decreto_Alcaldia,'etiqueta2'=>'Fecha de Decreto de Constitucion de la Alcaldia','desc2'=>$datos_operador->Fecha_Decreto_Alcaldia),
							array('etiqueta1'=>'Nro. de Resol. de nombramiento del actual Alcalde:','desc1'=> $datos_operador->Num_Resol_Nom_Alcalde,'etiqueta2'=>'Fecha de Resol. de nombramiento del actual Alcalde','desc2'=>$datos_operador->Fecha_Resol_Nom_Alcalde));
			$dato_3 = array(array('etiqueta1'=>'Certificado de Antecedentes Penales:','desc1'=> $datos_operador->Cer_Ant_Penales,'etiqueta2'=>'Certificado de Solvencia con el FISCO','desc2'=>$datos_operador->Cer_Sol_Fisco),
						array('etiqueta1'=>'Nro. Certificado Domiciliario:','desc1'=> $datos_operador->NumCertifDom,'etiqueta2'=>'Fecha Certificado Domiciliario','desc2'=>$datos_operador->FechaCertifDom),
						array('etiqueta1'=>'Domicilio Legal:','desc1'=> $datos_operador->DomLegal,'etiqueta2'=>'','desc2'=>''),
						array('etiqueta1'=>'Domicilio Procesal Actual:','desc1'=> $datos_operador->DomProcActual,'etiqueta2'=>'Departamento Procesal','desc2'=>$dep_proce->Nombre_Dep),
						array('etiqueta1'=>'Casilla:','desc1'=> $datos_operador->Casilla,'etiqueta2'=>'Pagina Web','desc2'=>$datos_operador->PagWeb),
						array('etiqueta1'=>'E-mail:','desc1'=> $datos_operador->Email,'etiqueta2'=>'Telefonos','desc2'=>$datos_operador->TelFij),
						array('etiqueta1'=>'Fax:','desc1'=> $datos_operador->Fax,'etiqueta2'=>'Fecha Actualizada','desc2'=>$fecha),
						array('etiqueta1'=>'ID Asignado:','desc1'=> $id_operador,'etiqueta2'=>'NIT','desc2'=>$datos_operador->NIT));
		}
		//----------------------Tipo Operador = 11----------------------
		if($tipo_de_operador == 11){
			$desc_tipo_ope = 'EMBAJADAS';
			$dato_2 = array(array('etiqueta1'=>'Nombre Maximo Representante:','desc1'=> $datos_operador->NomRepSind,'etiqueta2'=>'C.I. Maximo Representante','desc2'=>$datos_operador->CIRepSind));
			$dato_3 = array(array('etiqueta1'=>'Certificado de Antecedentes Penales:','desc1'=> $datos_operador->Cer_Ant_Penales,'etiqueta2'=>'','desc2'=>''),
						array('etiqueta1'=>'Nro. Certificado Domiciliario:','desc1'=> $datos_operador->NumCertifDom,'etiqueta2'=>'Fecha Certificado Domiciliario','desc2'=>$datos_operador->FechaCertifDom),
						array('etiqueta1'=>'Domicilio Legal:','desc1'=> $datos_operador->DomLegal,'etiqueta2'=>'','desc2'=>''),
						array('etiqueta1'=>'Domicilio Procesal Actual:','desc1'=> $datos_operador->DomProcActual,'etiqueta2'=>'Departamento Procesal','desc2'=>$dep_proce->Nombre_Dep),
						array('etiqueta1'=>'Casilla:','desc1'=> $datos_operador->Casilla,'etiqueta2'=>'Pagina Web','desc2'=>$datos_operador->PagWeb),
						array('etiqueta1'=>'E-mail:','desc1'=> $datos_operador->Email,'etiqueta2'=>'Telefonos','desc2'=>$datos_operador->TelFij),
						array('etiqueta1'=>'Fax:','desc1'=> $datos_operador->Fax,'etiqueta2'=>'Fecha Actualizada','desc2'=>$fecha),
						array('etiqueta1'=>'ID Asignado:','desc1'=> $id_operador,'etiqueta2'=>'NIT','desc2'=>$datos_operador->NIT));
		}
		//************************************************************************************
		//************************************************************************************
		if($tipo_de_operador == 4){ $var_a = "de la Organizacion";} if($tipo_de_operador == 6){ $var_a = "de la Comunidad";} if($tipo_de_operador == 1 || $tipo_de_operador == 2 ||$tipo_de_operador == 3 ||$tipo_de_operador == 5 ||$tipo_de_operador == 7 ||$tipo_de_operador == 8){ $var_a = "de la Empresa";}

		if($tipo_de_operador == 1 || $tipo_de_operador == 2 || $tipo_de_operador == 3 || $tipo_de_operador == 4 || $tipo_de_operador == 5 || $tipo_de_operador == 6 || $tipo_de_operador == 7 ){
			$dato_3 = array(array('etiqueta1'=>'Certificado de Antecedentes Penales:','desc1'=> $datos_operador->Cer_Ant_Penales,'etiqueta2'=>'','desc2'=>''),
						array('etiqueta1'=>'Nro. Certificado Domiciliario:','desc1'=> $datos_operador->NumCertifDom,'etiqueta2'=>'Fecha Certificado Domiciliario','desc2'=>$datos_operador->FechaCertifDom),			
						array('etiqueta1'=>'Domicilio Legal '.$var_a.':','desc1'=> $datos_operador->DomLegal,'etiqueta2'=>'Ciudad Poblacion Legal','desc2'=>$ciudad_leg->Nombre_Ciudad),
						array('etiqueta1'=>'Domicilio Procesal Actual:','desc1'=> $datos_operador->DomProcActual,'etiqueta2'=>'Ciudad Poblacion Procesal','desc2'=>$ciudad_proce->Nombre_Ciudad),
						array('etiqueta1'=>'Casilla:','desc1'=> $datos_operador->Casilla,'etiqueta2'=>'Pagina Web','desc2'=>$datos_operador->PagWeb),
						array('etiqueta1'=>'E-mail:','desc1'=> $datos_operador->Email,'etiqueta2'=>'Telefonos','desc2'=>$datos_operador->TelFij),
						array('etiqueta1'=>'Fax:','desc1'=> $datos_operador->Fax,'etiqueta2'=>'Fecha Actualizada','desc2'=>$fecha),
						array('etiqueta1'=>'ID Asignado:','desc1'=> $id_operador,'etiqueta2'=>'NIT','desc2'=>$datos_operador->NIT));
		}

		$dato = array_merge($dato_1,$dato_2,$dato_3);
		$this->cezpdf->ezTable($dato,array('etiqueta1'=>'','desc1'=>'','etiqueta2'=>'','desc2'=>''),'DATOS GENERALES DEL DECLARANTE - TIPO OPERADOR: <b>'.$desc_tipo_ope.'</b>',array('showHeadings'=>0,'showBgCol'=>1,'fontSize' => 7, 'width'=>550));
		$this->cezpdf->ezText("\n",10);
		$datos_representantes = $this->personModel->obt_representantes($id_operador)->result();	
		foreach ($datos_representantes as $dato_representantes){
			$valor_repre[] = array('nombre' => $dato_representantes->Nombre_Completo,
						            'ci' => $dato_representantes->Ci_Repre_Legal.' '.$dato_representantes->Ci_Expedido,
						            'nro_test_poder' => $dato_representantes->Nro_Testimonio_Poder_Legal,
									'fecha_poder' => $dato_representantes->Fecha_Poder_Legal,
									'objeto_poder' =>  $dato_representantes->Objeto_Poder_Legal);
		}

		$col_names = array('nombre' => '<b>Nombre Completo</b>',
							'ci' => '<b>C.I.</b>',
							'nro_test_poder' => '<b>Nro. Testimonio Poder</b>',
							'fecha_poder' => '<b>Fecha Poder</b>',
							'objeto_poder' => '<b>Objeto Poder</b>');
		$this->cezpdf->ezTable($valor_repre,$col_names,'Representante(s) Legal(es) Vigentes',array('showHeadings'=>1,'showBgCol'=>1,'fontSize' => 8, 'width'=>550,'cols'=> array('name'=>array('bgcolor'=>array(0.9,0.9,0.9)),'desc2'=>array('bgcolor'=>array(0.4,0.6,0.6)))));
		//---------Socios
		if($tipo_de_operador == 7 || $tipo_de_operador == 3){
			$this->cezpdf->ezText("\n",10);
			$datos_socios = $this->personModel->obt_socios($id_operador)->result();	
			foreach ($datos_socios as $dato_socios){
				$valor_socio[] = array('nombre_rs' => $dato_socios->Nombre_Rs_Socio,
							            'ci_nit' => $dato_socios->Ci_Nit_Socio,
							            'por_part' => $dato_socios->Porcentaje_Participacion);
			}

			$col_names_socio = array('nombre_rs' => '<b>Nombre Completo / Razon Social</b>',
								'ci_nit' => '<b>C.I. / N.I.T.</b>',
								'por_part' => '<b>Porcentaje de Participacion (%)</b>');
			$this->cezpdf->ezTable($valor_socio,$col_names_socio,'Socios',array('showHeadings'=>1,'showBgCol'=>1,'fontSize' => 8, 'width'=>550,'cols'=> array('name'=>array('bgcolor'=>array(0.9,0.9,0.9)),'desc2'=>array('bgcolor'=>array(0.4,0.6,0.6)))));
		}
		//---------Miembros
		if($tipo_de_operador == 1 || $tipo_de_operador == 3 || $tipo_de_operador == 4 || $tipo_de_operador == 5){
			$this->cezpdf->ezText("\n",10);
			$datos_nominas = $this->personModel->obt_nomina($id_operador)->result();	
			foreach ($datos_nominas as $dato_nominas){
				$valor_nomina[] = array('Nombre_Miembro' => $dato_nominas->Nombre,
							            'Ci_Miembro' => $dato_nominas->Ci.' '.$dato_nominas->Ci_Expedido_nomina,
							            'Cargo_Miembro' => $dato_nominas->Cargo);
			}
			$col_names_nomina = array('Nombre_Miembro' => '<b>Nombre Completo</b>',
								'Ci_Miembro' => '<b>C.I.</b>',
								'Cargo_Miembro' => '<b>Cargo</b>');
			$this->cezpdf->ezTable($valor_nomina,$col_names_nomina,'Miembros',array('showHeadings'=>1,'showBgCol'=>1,'fontSize' => 8, 'width'=>550));
		}
		//---------Footer
		$this->cezpdf->ezText("\n",10);
		$this->cezpdf->ezText('Declaro que la informacion detallada en este formulario es fiel y verdadera. De comprobarse lo contrario, sere sujeto a las sanciones que establece la ley. El contenido de la presente declaracion es exclusiva responsabilidad del declarante.',8);

		$this->cezpdf->rectangle(50,80,160,100);
		$this->cezpdf->addText(55,70,8,'Area reservada para la Institucion',0,0);
		$this->cezpdf->addText(255,70,8,'Nombres y Apellidos del Declarante',0,0);
		$this->cezpdf->addText(450,70,8,'Firma del Declarante',0,0);

		$this->cezpdf->ezSetMargins(50,50,50,50);
		$this->cezpdf->ezStartPageNumbers(500,28,8,'','{PAGENUM}',1);
		$this->cezpdf->line(20,40,578,40);
		$this->cezpdf->ezStream();
	}

	function validar_info(){
		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$nivel = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $nivel;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/encontrar_operador');

		$this->load->view('validar_info', $data);		
	}

	function encontrar_operador(){
		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$nivel = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $nivel;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/encontrar_operador');

		$texto_tipo_ope = '';
		$word_operador = $this->input->post('operador');
		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		$this->table->set_heading('ID Operador', 'NIT', 'Razon Social', 'Nombre Comercial', 'Tipo Operador', 'Fecha Registro', 'Accion');
		$datos_operador = $this->personModel->encontrar_operador($word_operador)->result();
		foreach ($datos_operador as $dato_operador){
			if($dato_operador->TipoOperador == 1){
				$texto_tipo_ope = 'COOPERATIVA';
			}
			if($dato_operador->TipoOperador == 2){
				$texto_tipo_ope = 'GUBERNAMENTAL';
			}
			if($dato_operador->TipoOperador == 3){
				$texto_tipo_ope = 'ONG';
			}
			if($dato_operador->TipoOperador == 4){
				$texto_tipo_ope = 'PUEBLO INDÍGENA ORIGINARIO CAMPESINO';
			}
			if($dato_operador->TipoOperador == 5){
				$texto_tipo_ope = 'SINDICATO';
			}
			if($dato_operador->TipoOperador == 6){
				$texto_tipo_ope = 'SOCIAL COMUNITARIO';
			}
			if($dato_operador->TipoOperador == 7){
				$texto_tipo_ope = 'SOCIEDAD';
			}
			if($dato_operador->TipoOperador == 8){
				$texto_tipo_ope = 'UNIPERSONAL';
			}
			if($dato_operador->TipoOperador == 9){
				$texto_tipo_ope = 'Asociaciones, Fundaciones y Org. Religiosas';
			}
			if($dato_operador->TipoOperador == 10){
				$texto_tipo_ope = 'ALCALDIAS';
			}
			if($dato_operador->TipoOperador == 11){
				$texto_tipo_ope = 'EMBAJADAS';
			}
			if($dato_operador->TipoOperador != ''){
				$this->table->add_row($dato_operador->IdOperador, $dato_operador->NIT, $dato_operador->RazonSocial, $dato_operador->NomComercialOperador, $texto_tipo_ope, '',  anchor('person/validar_paso2/'.$dato_operador->IdOperador,'<i class="icon-ok icon-white"></i> Validar',array('class'=>'btn btn-success')));	
			}
			if($dato_operador->TipoOperador == ''){
				$this->table->add_row($dato_operador->IdOperador, $dato_operador->NIT, $dato_operador->RazonSocial, $dato_operador->NomComercialOperador, $texto_tipo_ope, '','');	
			}
					
		}
		$data['table'] = $this->table->generate();

		$this->load->view('find_ope', $data);	
	}

	function validar_paso2($id_operador){
		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$nivel = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $nivel;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/guarda_validacion');
		$data['Id_Operador'] = $id_operador;

		$datos_operador = $this->personModel->obt_operador_all($id_operador)->row();

		$dep_leg = $this->personModel->obt_departamento($datos_operador->DeptoLegal)->row();
		$dep_proce = $this->personModel->obt_departamento($datos_operador->DeptoProcesal)->row();
		$prov_leg = $this->personModel->obt_provincia($datos_operador->ProvLegal)->row();
		$prov_proce = $this->personModel->obt_provincia($datos_operador->ProvProcesal)->row();
		$ciudad_leg = $this->personModel->obt_ciudad($datos_operador->CiudLocLegal)->row();
		$ciudad_proce = $this->personModel->obt_ciudad($datos_operador->CiudLocProcesal)->row();

		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		$this->table->add_row('<center><h4><span class="red">REFERENCIA</span></h4></center>', '<center><h4><span class="red">INFORMACIÓN</span></h4></center>', '', '<center><h4><span class="red">OBSERVACIÓN</span></h4></center>', '<center><h4><span class="red">ADJUNTOS</span></h4></center>');
		//$this->table->add_row('','','<input type="checkbox" class="checkall" onclick="check_all();">','Seleccionar Todos');
		$this->table->add_row('<span class="blue">Razon Social:</span>', $datos_operador->RazonSocial,'<input type="checkbox" name="chk_razon_social" id="checkbox" value="1" class="ck" onchange="ckobservadovalidar(this.checked,\'razon_social\')">','<input class="input-xxlarge" id="razon_social" name="razon_social" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_razon_social">');
		$this->table->add_row('<span class="blue">Nombre Comercial Operador:</span>', $datos_operador->NomComercialOperador,'<input type="checkbox" name="chk_nom_com" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'nom_com\')">','<input class="input-xxlarge" id="nom_com" name="nom_com" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_nom_com">');
		$this->table->add_row('<span class="blue">NIT:</span>', $datos_operador->NIT,'<input type="checkbox" name="chk_nit" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'nit\')">','<input class="input-xxlarge" id="nit" name="nit" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_nit">');
		//************************************************************************************************************
		//************************************************************************************************************
		//----------------------Tipo Operador = 1----------------------
		if($datos_operador->TipoOperador == 1){
			$texto_tipo_ope = 'COOPERATIVA';
			$this->table->add_row('<span class="blue">Nombre Pdte. Consejo Administrativo:</span>', $datos_operador->NomPresidConAdm,'<input type="checkbox" name="chk_NomPresidConAdm" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NomPresidConAdm\')">','<input class="input-xxlarge" id="NomPresidConAdm" name="NomPresidConAdm" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NomPresidConAdm">');
			$this->table->add_row('<span class="blue">C.I. Pdte. Consejo Administrativo:</span>', $datos_operador->CIPresidConAdm.' '.$datos_operador->CIPresidConAdm_exp,'<input type="checkbox" name="chk_CIPresidConAdm" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'CIPresidConAdm\')">','<input class="input-xxlarge" id="CIPresidConAdm" name="CIPresidConAdm" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_CIPresidConAdm">');
			$this->table->add_row('<span class="blue">Nro. Registro de los Estatutos en la Dirección Gral. de Coop.:</span>', $datos_operador->NumRegDirGralCoop,'<input type="checkbox" name="chk_NumRegDirGralCoop" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NumRegDirGralCoop\')">','<input class="input-xxlarge" id="NumRegDirGralCoop" name="NumRegDirGralCoop" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NumRegDirGralCoop">');
			$this->table->add_row('<span class="blue">Fecha Registro de los Estatutos en la Dirección Gral. de Coop.:</span>', $datos_operador->FechaRegDirGralCoop,'<input type="checkbox" name="chk_FechaRegDirGralCoop" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'FechaRegDirGralCoop\')">','<input class="input-xxlarge" id="FechaRegDirGralCoop" name="FechaRegDirGralCoop" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FechaRegDirGralCoop">');
			$this->table->add_row('<span class="blue">Nro. Testimonio de Estatutos:</span>', $datos_operador->Num_Test_Estatutos,'<input type="checkbox" name="chk_Num_Test_Estatutos" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Num_Test_Estatutos\')">','<input class="input-xxlarge" id="Num_Test_Estatutos" name="Num_Test_Estatutos" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Num_Test_Estatutos">');
			$this->table->add_row('<span class="blue">Fecha Testimonio de Estatutos:</span>', $datos_operador->Fecha_Test_Estatutos,'<input type="checkbox" name="chk_Fecha_Test_Estatutos" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Fecha_Test_Estatutos\')">','<input class="input-xxlarge" id="Fecha_Test_Estatutos" name="Fecha_Test_Estatutos" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Fecha_Test_Estatutos">');
			$this->table->add_row('<span class="blue">Objeto de Creación:</span>', $datos_operador->Obj_Creacion,'<input type="checkbox" name="chk_Obj_Creacion" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Obj_Creacion\')">','<input class="input-xxlarge" id="Obj_Creacion" name="Obj_Creacion" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Obj_Creacion">');
			$this->table->add_row('<span class="blue">Nro. Testimonio Pdte. Consejo Adm.:</span>', $datos_operador->NumTestimonioPresidConAdm,'<input type="checkbox" name="chk_NumTestimonioPresidConAdm" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NumTestimonioPresidConAdm\')">','<input class="input-xxlarge" id="NumTestimonioPresidConAdm" name="NumTestimonioPresidConAdm" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NumTestimonioPresidConAdm">');
			$this->table->add_row('<span class="blue">Fecha Testimonio:</span>', $datos_operador->FechaTestimonio,'<input type="checkbox" name="chk_FechaTestimonio" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'FechaTestimonio\')">','<input class="input-xxlarge" id="FechaTestimonio" name="FechaTestimonio" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FechaTestimonio">');
		}
		//----------------------Tipo Operador = 2----------------------
		if($datos_operador->TipoOperador == 2){
			$texto_tipo_ope = 'GUBERNAMENTAL';
			$this->table->add_row('<span class="blue">Nombre Máxima Autoridad Ejecutiva:</span>', $datos_operador->NomMAE,'<input type="checkbox" name="chk_NomMAE" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NomMAE\')">','<input class="input-xxlarge" id="NomMAE" name="NomMAE" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NomMAE">');
			$this->table->add_row('<span class="blue">C.I. Máxima Autoridad Ejecutiva:</span>', $datos_operador->CIMAE,'<input type="checkbox" name="chk_CIMAE" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'CIMAE\')">','<input class="input-xxlarge" id="CIMAE" name="CIMAE" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_CIMAE">');
			$this->table->add_row('<span class="blue">Tipo Nro. Documento Designación:</span>', $datos_operador->TNumDocDesigGub,'<input type="checkbox" name="chk_TNumDocDesigGub" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'TNumDocDesigGub\')">','<input class="input-xxlarge" id="TNumDocDesigGub" name="TNumDocDesigGub" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_TNumDocDesigGub">');
			$this->table->add_row('<span class="blue">Fecha Documento Designación:</span>', $datos_operador->FechaDocDesigGub,'<input type="checkbox" name="chk_FechaDocDesigGub" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'FechaDocDesigGub\')">','<input class="input-xxlarge" id="FechaDocDesigGub" name="FechaDocDesigGub" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FechaDocDesigGub">');
			$this->table->add_row('<span class="blue">Estatuto y/o Reglamento Interno de funcionamiento:</span>', $datos_operador->Est_Ri_Func,'<input type="checkbox" name="chk_Est_Ri_Func" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Est_Ri_Func\')">','<input class="input-xxlarge" id="Est_Ri_Func" name="Est_Ri_Func" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Est_Ri_Func">');
		}
		//----------------------Tipo Operador = 3----------------------
		if($datos_operador->TipoOperador == 3){
			$texto_tipo_ope = 'ONG';
			$this->table->add_row('<span class="blue">Nombre Director General ONG:</span>', $datos_operador->NomDirGralONG,'<input type="checkbox" name="chk_NomDirGralONG" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NomDirGralONG\')">','<input class="input-xxlarge" id="NomDirGralONG" name="NomDirGralONG" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NomDirGralONG">');
			$this->table->add_row('<span class="blue">C.I. Director General ONG:</span>', $datos_operador->CIDirGralONG,'<input type="checkbox" name="chk_CIDirGralONG" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'CIDirGralONG\')">','<input class="input-xxlarge" id="CIDirGralONG" name="CIDirGralONG" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_CIDirGralONG">');
			$this->table->add_row('<span class="blue">Nombre Res. Gobernación ONG:</span>', $datos_operador->NumResGobONG,'<input type="checkbox" name="chk_NumResGobONG" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NumResGobONG\')">','<input class="input-xxlarge" id="NumResGobONG" name="NumResGobONG" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NumResGobONG">');
			$this->table->add_row('<span class="blue">Fecha Res. Gobernación ONG:</span>', $datos_operador->FechaResGobONG,'<input type="checkbox" name="chk_FechaResGobONG" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'FechaResGobONG\')">','<input class="input-xxlarge" id="FechaResGobONG" name="FechaResGobONG" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FechaResGobONG">');
			$this->table->add_row('<span class="blue">Nro. de Certificado legalizado del Registro:</span>', $datos_operador->Num_Cer_Reg,'<input type="checkbox" name="chk_Num_Cer_Reg" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Num_Cer_Reg\')">','<input class="input-xxlarge" id="Num_Cer_Reg" name="Num_Cer_Reg" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Num_Cer_Reg">');
			$this->table->add_row('<span class="blue">Fecha del Certificado legalizado del Registro:</span>', $datos_operador->Fecha_Cer_Reg,'<input type="checkbox" name="chk_Fecha_Cer_Reg" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Fecha_Cer_Reg\')">','<input class="input-xxlarge" id="Fecha_Cer_Reg" name="Fecha_Cer_Reg" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Fecha_Cer_Reg">');
			$this->table->add_row('<span class="blue">Nro. Testimonio de Estatutos Internos:</span>', $datos_operador->Num_Test_Estatutos,'<input type="checkbox" name="chk_Num_Test_Estatutos" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Num_Test_Estatutos\')">','<input class="input-xxlarge" id="Num_Test_Estatutos" name="Num_Test_Estatutos" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Num_Test_Estatutos">');
			$this->table->add_row('<span class="blue">Fecha Testimonio de Estatutos Internos:</span>', $datos_operador->Fecha_Test_Estatutos,'<input type="checkbox" name="chk_Fecha_Test_Estatutos" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Fecha_Test_Estatutos\')">','<input class="input-xxlarge" id="Fecha_Test_Estatutos" name="Fecha_Test_Estatutos" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Fecha_Test_Estatutos">');
		}
		//----------------------Tipo Operador = 4----------------------
		if($datos_operador->TipoOperador == 4){
			$texto_tipo_ope = 'PUEBLO INDÍGENA ORIGINARIO CAMPESINO';
			//$this->table->add_row('<span class="blue">Nombre Propietario:</span>', $datos_operador->NomPropietario,'<input type="checkbox" name="chk_NomPropietario" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NomPropietario\')">','<input class="input-xxlarge" id="NomPropietario" name="NomPropietario" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NomPropietario">');
			//$this->table->add_row('<span class="blue">C.I. Propietario:</span>', $datos_operador->CIPropietario,'<input type="checkbox" name="chk_CIPropietario" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'CIPropietario\')">','<input class="input-xxlarge" id="CIPropietario" name="CIPropietario" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_CIPropietario">');
			$this->table->add_row('<span class="blue">Nro. Documento de creación:</span>', $datos_operador->NumDocCrea,'<input type="checkbox" name="chk_NumDocCrea" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NumDocCrea\')">','<input class="input-xxlarge" id="NumDocCrea" name="NumDocCrea" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NumDocCrea">');
			$this->table->add_row('<span class="blue">Fecha Documento de creación:</span>', $datos_operador->FechaDocCrea,'<input type="checkbox" name="chk_FechaDocCrea" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'FechaDocCrea\')">','<input class="input-xxlarge" id="FechaDocCrea" name="FechaDocCrea" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FechaDocCrea">');
			$this->table->add_row('<span class="blue">Nro. Documento de Acreditación:</span>', $datos_operador->NumDocAcred,'<input type="checkbox" name="chk_NumDocAcred" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NumDocAcred\')">','<input class="input-xxlarge" id="NumDocAcred" name="NumDocAcred" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NumDocAcred">');
			$this->table->add_row('<span class="blue">Fecha Documento de Acreditación:</span>', $datos_operador->FechaDocAcred,'<input type="checkbox" name="chk_FechaDocAcred" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'FechaDocAcred\')">','<input class="input-xxlarge" id="FechaDocAcred" name="FechaDocAcred" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FechaDocAcred">');
			$this->table->add_row('<span class="blue">Nro. de Documento de Creación reconocido por el Min. de Autonomías:</span>', $datos_operador->Num_Doc_Min_Auto,'<input type="checkbox" name="chk_Num_Doc_Min_Auto" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Num_Doc_Min_Auto\')">','<input class="input-xxlarge" id="Num_Doc_Min_Auto" name="Num_Doc_Min_Auto" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Num_Doc_Min_Auto">');
			$this->table->add_row('<span class="blue">Fecha de Documento de Creación reconocido por el Min. de Autonomías:</span>', $datos_operador->Fecha_Doc_Min_Auto,'<input type="checkbox" name="chk_Fecha_Doc_Min_Auto" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Fecha_Doc_Min_Auto\')">','<input class="input-xxlarge" id="Fecha_Doc_Min_Auto" name="Fecha_Doc_Min_Auto" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Fecha_Doc_Min_Auto">');
		}
		//----------------------Tipo Operador = 5----------------------
		if ($datos_operador->TipoOperador == 5){
			$texto_tipo_ope = 'SINDICATO';
			$this->table->add_row('<span class="blue">Nro. Resolución Min. Sindical:</span>', $datos_operador->NumResMinSind,'<input type="checkbox" name="chk_res_min_sindical" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'res_min_sindical\')">','<input class="input-xxlarge" id="res_min_sindical" name="res_min_sindical" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_res_min_sindical">');
			$this->table->add_row('<span class="blue">Fecha Resolución Min. Sindical:</span>', $datos_operador->FechaResMinSind,'<input type="checkbox" name="chk_fecha_resol_sin" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'fecha_resol_sin\')">','<input class="input-xxlarge" id="fecha_resol_sin" name="fecha_resol_sin" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_fecha_resol_sin">');
			$this->table->add_row('<span class="blue">Nombre Máx. Representante Sindicato:</span>', $datos_operador->NomRepSind,'<input type="checkbox" name="chk_nom_max_repre" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'nom_max_repre\')">','<input class="input-xxlarge" id="nom_max_repre" name="nom_max_repre" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_nom_max_repre">');
			$this->table->add_row('<span class="blue">Nro. Resolución Personeria Juridica:</span>', $datos_operador->NumResPersJurid,'<input type="checkbox" name="chk_nro_res_juri" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'nro_res_juri\')">','<input class="input-xxlarge" id="nro_res_juri" name="nro_res_juri" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_nro_res_juri">');
			$this->table->add_row('<span class="blue">C.I. Max. Representante Sindicato:</span>', $datos_operador->CIRepSind,'<input type="checkbox" name="chk_ci_repre_sin" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'ci_repre_sin\')">','<input class="input-xxlarge" id="ci_repre_sin" name="ci_repre_sin" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_ci_repre_sin">');
			$this->table->add_row('<span class="blue">Fecha Resolución Personeria Juridica:</span>', $datos_operador->FechaResPersJurid,'<input type="checkbox" name="chk_fecha_per_jur" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'fecha_per_jur\')">','<input class="input-xxlarge" id="fecha_per_jur" name="fecha_per_jur" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_fecha_per_jur">');	
			$this->table->add_row('<span class="blue">Nro. Testimonio de Estatutos Internos y sus Modificaciones:</span>', $datos_operador->Num_Test_Estatutos,'<input type="checkbox" name="chk_Num_Test_Estatutos" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Num_Test_Estatutos\')">','<input class="input-xxlarge" id="Num_Test_Estatutos" name="Num_Test_Estatutos" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Num_Test_Estatutos">');	
			$this->table->add_row('<span class="blue">Fecha Testimonio de Estatutos Internos:</span>', $datos_operador->Fecha_Test_Estatutos,'<input type="checkbox" name="chk_Fecha_Test_Estatutos" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Fecha_Test_Estatutos\')">','<input class="input-xxlarge" id="Fecha_Test_Estatutos" name="Fecha_Test_Estatutos" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Fecha_Test_Estatutos">');	
			$this->table->add_row('<span class="blue">Nro. de Registro en el Ministerio de Trabajo:</span>', $datos_operador->Num_Reg_Mt,'<input type="checkbox" name="chk_Num_Reg_Mt" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Num_Reg_Mt\')">','<input class="input-xxlarge" id="Num_Reg_Mt" name="Num_Reg_Mt" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Num_Reg_Mt">');	
			$this->table->add_row('<span class="blue">Fecha de Registro en el Ministerio de Trabajo:</span>', $datos_operador->Fecha_Reg_Mt,'<input type="checkbox" name="chk_Fecha_Reg_Mt" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Fecha_Reg_Mt\')">','<input class="input-xxlarge" id="Fecha_Reg_Mt" name="Fecha_Reg_Mt" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Fecha_Reg_Mt">');	
			$this->table->add_row('<span class="blue">Objeto de Creación:</span>', $datos_operador->Obj_Creacion,'<input type="checkbox" name="chk_Obj_Creacion" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Obj_Creacion\')">','<input class="input-xxlarge" id="Obj_Creacion" name="Obj_Creacion" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Obj_Creacion">');	
			$this->table->add_row('<span class="blue">Acta de Nombramiento del Máximo Representante:</span>', $datos_operador->Acta_Nombra_Max,'<input type="checkbox" name="chk_Acta_Nombra_Max" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Acta_Nombra_Max\')">','<input class="input-xxlarge" id="Acta_Nombra_Max" name="Acta_Nombra_Max" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Acta_Nombra_Max">');			
		}
		//----------------------Tipo Operador = 6----------------------
		if($datos_operador->TipoOperador == 6){
			$texto_tipo_ope = 'SOCIAL COMUNITARIO';
			//$this->table->add_row('<span class="blue">Nombre Propietario:</span>', $datos_operador->NomPropietario,'<input type="checkbox" name="chk_NomPropietario" id="checkbox-1" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NomPropietario\')">','<input class="input-xxlarge" id="NomPropietario" name="NomPropietario" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NomPropietario">');
			//$this->table->add_row('<span class="blue">C.I. Propietario:</span>', $datos_operador->CIPropietario,'<input type="checkbox" name="chk_CIPropietario" id="checkbox-2" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'CIPropietario\')">','<input class="input-xxlarge" id="CIPropietario" name="CIPropietario" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_CIPropietario">');
			$this->table->add_row('<span class="blue">Nro. Documento de creación:</span>', $datos_operador->NumDocCrea,'<input type="checkbox" name="chk_NumDocCrea" id="checkbox-3" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NumDocCrea\')">','<input class="input-xxlarge" id="NumDocCrea" name="NumDocCrea" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NumDocCrea">');
			$this->table->add_row('<span class="blue">Fecha Documento de creación:</span>', $datos_operador->FechaDocCrea,'<input type="checkbox" name="chk_FechaDocCrea" id="checkbox-4" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'FechaDocCrea\')">','<input class="input-xxlarge" id="FechaDocCrea" name="FechaDocCrea" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FechaDocCrea">');
			$this->table->add_row('<span class="blue">Nro. de Test. que acredita la Pers. Jurídica de la Organización:</span>', $datos_operador->NumDocAcred,'<input type="checkbox" name="chk_NumDocAcred" id="checkbox-5" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NumDocAcred\')">','<input class="input-xxlarge" id="NumDocAcred" name="NumDocAcred" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NumDocAcred">');
			$this->table->add_row('<span class="blue">Fecha de Test. que acredita la Pers. Jurídica de la Organización:</span>', $datos_operador->FechaDocAcred,'<input type="checkbox" name="chk_FechaDocAcred" id="checkbox-6" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'FechaDocAcred\')">','<input class="input-xxlarge" id="FechaDocAcred" name="FechaDocAcred" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FechaDocAcred">');
		}
		//----------------------Tipo Operador = 7----------------------
		if($datos_operador->TipoOperador == 7){
			$texto_tipo_ope = 'SOCIEDAD';
			$this->table->add_row('<span class="blue">Nro. Registro FUNDEMPRESA:</span>', $datos_operador->NumRegFUNDEMPRESA,'<input type="checkbox" name="chk_NumRegFUNDEMPRESA" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NumRegFUNDEMPRESA\')">','<input class="input-xxlarge" id="NumRegFUNDEMPRESA" name="NumRegFUNDEMPRESA" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NumRegFUNDEMPRESA">');
			$this->table->add_row('<span class="blue">Fecha Registro FUNDEMPRESA:</span>', $datos_operador->FechaRegFUNDEMPRESA,'<input type="checkbox" name="chk_FechaRegFUNDEMPRESA" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'FechaRegFUNDEMPRESA\')">','<input class="input-xxlarge" id="FechaRegFUNDEMPRESA" name="FechaRegFUNDEMPRESA" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FechaRegFUNDEMPRESA">');
			$this->table->add_row('<span class="blue">Nro. Certificado Tradición FUNDEMPRESA:</span>', $datos_operador->NumCertifTradFUNDEMPRESA,'<input type="checkbox" name="chk_NumCertifTradFUNDEMPRESA" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NumCertifTradFUNDEMPRESA\')">','<input class="input-xxlarge" id="NumCertifTradFUNDEMPRESA" name="NumCertifTradFUNDEMPRESA" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NumCertifTradFUNDEMPRESA">');
			$this->table->add_row('<span class="blue">Fecha Certificado Tradición FUNDEMPRESA:</span>', $datos_operador->FechaCertifTradFUNDEMPRESA,'<input type="checkbox" name="chk_FechaCertifTradFUNDEMPRESA" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'FechaCertifTradFUNDEMPRESA\')">','<input class="input-xxlarge" id="FechaCertifTradFUNDEMPRESA" name="FechaCertifTradFUNDEMPRESA" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FechaCertifTradFUNDEMPRESA">');
			$this->table->add_row('<span class="blue">Nro. Testimonio de Constitución:</span>', $datos_operador->Num_Test_Const,'<input type="checkbox" name="chk_Num_Test_Const" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Num_Test_Const\')">','<input class="input-xxlarge" id="Num_Test_Const" name="Num_Test_Const" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Num_Test_Const">');
			$this->table->add_row('<span class="blue">Fecha Testimonio de Constitución:</span>', $datos_operador->Fecha_Test_Const,'<input type="checkbox" name="chk_Fecha_Test_Const" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Fecha_Test_Const\')">','<input class="input-xxlarge" id="Fecha_Test_Const" name="Fecha_Test_Const" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Fecha_Test_Const">');
			$this->table->add_row('<span class="blue">Nro. Testimonio de Modificaciones (Si existe):</span>', $datos_operador->Num_Test_Modi,'<input type="checkbox" name="chk_Num_Test_Modi" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Num_Test_Modi\')">','<input class="input-xxlarge" id="Num_Test_Modi" name="Num_Test_Modi" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Num_Test_Modi">');
			$this->table->add_row('<span class="blue">Fecha Testimonio de Modificaciones (Si existe):</span>', $datos_operador->Fecha_Test_Modi,'<input type="checkbox" name="chk_Fecha_Test_Modi" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Fecha_Test_Modi\')">','<input class="input-xxlarge" id="Fecha_Test_Modi" name="Fecha_Test_Modi" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Fecha_Test_Modi">');
			$this->table->add_row('<span class="blue">Nro. Testimonio de Estatutos:</span>', $datos_operador->Num_Test_Estatutos,'<input type="checkbox" name="chk_Num_Test_Estatutos" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Num_Test_Estatutos\')">','<input class="input-xxlarge" id="Num_Test_Estatutos" name="Num_Test_Estatutos" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Num_Test_Estatutos">');
			$this->table->add_row('<span class="blue">Fecha Testimonio de Estatutos:</span>', $datos_operador->Fecha_Test_Estatutos,'<input type="checkbox" name="chk_Fecha_Test_Estatutos" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Fecha_Test_Estatutos\')">','<input class="input-xxlarge" id="Fecha_Test_Estatutos" name="Fecha_Test_Estatutos" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Fecha_Test_Estatutos">');
			$this->table->add_row('<span class="blue">Certificado de Solvencia con el FISCO:</span>', $datos_operador->Cer_Sol_Fisco,'<input type="checkbox" name="chk_Cer_Sol_Fisco" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Cer_Sol_Fisco\')">','<input class="input-xxlarge" id="Cer_Sol_Fisco" name="Cer_Sol_Fisco" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Cer_Sol_Fisco">');
		}
		//----------------------Tipo Operador = 8----------------------
		if($datos_operador->TipoOperador == 8){
			$texto_tipo_ope = 'UNIPERSONAL';
			$this->table->add_row('<span class="blue">Nombre Propietario:</span>', $datos_operador->NomPropietario,'<input type="checkbox" name="chk_NomPropietario" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NomPropietario\')">','<input class="input-xxlarge" id="NomPropietario" name="NomPropietario" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NomPropietario">');
			$this->table->add_row('<span class="blue">C.I. Propietario:</span>', $datos_operador->CIPropietario,'<input type="checkbox" name="chk_CIPropietario" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'CIPropietario\')">','<input class="input-xxlarge" id="CIPropietario" name="CIPropietario" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_CIPropietario">');
			$this->table->add_row('<span class="blue">Nro. Registro FUNDEMPRESA:</span>', $datos_operador->NumRegFUNDEMPRESA,'<input type="checkbox" name="chk_NumRegFUNDEMPRESA" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NumRegFUNDEMPRESA\')">','<input class="input-xxlarge" id="NumRegFUNDEMPRESA" name="NumRegFUNDEMPRESA" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NumRegFUNDEMPRESA">');
			$this->table->add_row('<span class="blue">Fecha Registro FUNDEMPRESA:</span>', $datos_operador->FechaRegFUNDEMPRESA,'<input type="checkbox" name="chk_FechaRegFUNDEMPRESA" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'FechaRegFUNDEMPRESA\')">','<input class="input-xxlarge" id="FechaRegFUNDEMPRESA" name="FechaRegFUNDEMPRESA" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FechaRegFUNDEMPRESA">');
			$this->table->add_row('<span class="blue">Certificado de Solvencia con el FISCO:</span>', $datos_operador->Cer_Sol_Fisco,'<input type="checkbox" name="chk_Cer_Sol_Fisco" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Cer_Sol_Fisco\')">','<input class="input-xxlarge" id="Cer_Sol_Fisco" name="Cer_Sol_Fisco" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Cer_Sol_Fisco">');
		}
		//----------------------Tipo Operador = 9----------------------
		if($datos_operador->TipoOperador == 9){
			$texto_tipo_ope = 'Asociaciones, Fundaciones y Org. Religiosas';
			$this->table->add_row('<span class="blue">Nro. de Test. que acredita la Pers. Jurídica:</span>', $datos_operador->NumDocAcred,'<input type="checkbox" name="chk_NumDocAcred" id="checkbox-5" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'NumDocAcred\')">','<input class="input-xxlarge" id="NumDocAcred" name="NumDocAcred" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_NumDocAcred">');
			$this->table->add_row('<span class="blue">Fecha de Test. que acredita la Pers. Jurídica:</span>', $datos_operador->FechaDocAcred,'<input type="checkbox" name="chk_FechaDocAcred" id="checkbox-6" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'FechaDocAcred\')">','<input class="input-xxlarge" id="FechaDocAcred" name="FechaDocAcred" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FechaDocAcred">');
			$this->table->add_row('<span class="blue">Nro. Testimonio de Estatutos Internos y sus Modificaciones:</span>', $datos_operador->Num_Test_Estatutos,'<input type="checkbox" name="chk_Num_Test_Estatutos" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Num_Test_Estatutos\')">','<input class="input-xxlarge" id="Num_Test_Estatutos" name="Num_Test_Estatutos" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Num_Test_Estatutos">');
			$this->table->add_row('<span class="blue">Fecha Testimonio de Estatutos Internos:</span>', $datos_operador->Fecha_Test_Estatutos,'<input type="checkbox" name="chk_Fecha_Test_Estatutos" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Fecha_Test_Estatutos\')">','<input class="input-xxlarge" id="Fecha_Test_Estatutos" name="Fecha_Test_Estatutos" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Fecha_Test_Estatutos">');
			$this->table->add_row('<span class="blue">Nombre Máx. Representante:</span>', $datos_operador->NomRepSind,'<input type="checkbox" name="chk_nom_max_repre" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'nom_max_repre\')">','<input class="input-xxlarge" id="nom_max_repre" name="nom_max_repre" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_nom_max_repre">');
			$this->table->add_row('<span class="blue">C.I. Max. Representante:</span>', $datos_operador->CIRepSind,'<input type="checkbox" name="chk_ci_repre_sin" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'ci_repre_sin\')">','<input class="input-xxlarge" id="ci_repre_sin" name="ci_repre_sin" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_ci_repre_sin">');
			$this->table->add_row('<span class="blue">Certificado de Solvencia con el FISCO:</span>', $datos_operador->Cer_Sol_Fisco,'<input type="checkbox" name="chk_Cer_Sol_Fisco" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Cer_Sol_Fisco\')">','<input class="input-xxlarge" id="Cer_Sol_Fisco" name="Cer_Sol_Fisco" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Cer_Sol_Fisco">');
		}
		//----------------------Tipo Operador = 10----------------------
		if($datos_operador->TipoOperador == 10){
			$texto_tipo_ope = 'ALCALDIAS';
			$this->table->add_row('<span class="blue">Nro. de Decreto de Constitución de la Alcaldía:</span>', $datos_operador->Num_Decreto_Alcaldia,'<input type="checkbox" name="chk_Num_Decreto_Alcaldia" id="checkbox-5" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Num_Decreto_Alcaldia\')">','<input class="input-xxlarge" id="Num_Decreto_Alcaldia" name="Num_Decreto_Alcaldia" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Num_Decreto_Alcaldia">');
			$this->table->add_row('<span class="blue">Fecha de Decreto de Constitución de la Alcaldía:</span>', $datos_operador->Fecha_Decreto_Alcaldia,'<input type="checkbox" name="chk_Fecha_Decreto_Alcaldia" id="checkbox-6" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Fecha_Decreto_Alcaldia\')">','<input class="input-xxlarge" id="Fecha_Decreto_Alcaldia" name="Fecha_Decreto_Alcaldia" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Fecha_Decreto_Alcaldia">');
			$this->table->add_row('<span class="blue">Nro. de Resol. de nombramiento del actual Alcalde:</span>', $datos_operador->Num_Resol_Nom_Alcalde,'<input type="checkbox" name="chk_Num_Resol_Nom_Alcalde" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Num_Resol_Nom_Alcalde\')">','<input class="input-xxlarge" id="Num_Resol_Nom_Alcalde" name="Num_Resol_Nom_Alcalde" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Num_Resol_Nom_Alcalde">');
			$this->table->add_row('<span class="blue">Fecha de Resol. de nombramiento del actual Alcalde:</span>', $datos_operador->Fecha_Resol_Nom_Alcalde,'<input type="checkbox" name="chk_Fecha_Resol_Nom_Alcalde" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Fecha_Resol_Nom_Alcalde\')">','<input class="input-xxlarge" id="Fecha_Resol_Nom_Alcalde" name="Fecha_Resol_Nom_Alcalde" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Fecha_Resol_Nom_Alcalde">');
			$this->table->add_row('<span class="blue">Certificado de Solvencia con el FISCO:</span>', $datos_operador->Cer_Sol_Fisco,'<input type="checkbox" name="chk_Cer_Sol_Fisco" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Cer_Sol_Fisco\')">','<input class="input-xxlarge" id="Cer_Sol_Fisco" name="Cer_Sol_Fisco" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Cer_Sol_Fisco">');
		}
		//----------------------Tipo Operador = 11----------------------
		if($datos_operador->TipoOperador == 11){
			$texto_tipo_ope = 'EMBAJADAS';
			$this->table->add_row('<span class="blue">Nombre Máx. Representante:</span>', $datos_operador->NomRepSind,'<input type="checkbox" name="chk_nom_max_repre" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'nom_max_repre\')">','<input class="input-xxlarge" id="nom_max_repre" name="nom_max_repre" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_nom_max_repre">');
			$this->table->add_row('<span class="blue">C.I. Max. Representante:</span>', $datos_operador->CIRepSind,'<input type="checkbox" name="chk_ci_repre_sin" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'ci_repre_sin\')">','<input class="input-xxlarge" id="ci_repre_sin" name="ci_repre_sin" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_ci_repre_sin">');
		}
		//************************************************************************************************************
		//************************************************************************************************************
		$this->table->add_row('<span class="blue">Certificado de Antecedentes Penales:</span>', $datos_operador->Cer_Ant_Penales,'<input type="checkbox" name="chk_Cer_Ant_Penales" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'Cer_Ant_Penales\')">','<input class="input-xxlarge" id="Cer_Ant_Penales" name="Cer_Ant_Penales" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Cer_Ant_Penales">');

		$this->table->add_row('<span class="blue">Nro. Certificado Domiciliario:</span>', $datos_operador->NumCertifDom,'<input type="checkbox" name="chk_nro_cer_dom" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'nro_cer_dom\')">','<input class="input-xxlarge" id="nro_cer_dom" name="nro_cer_dom" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_nro_cer_dom">');
		$this->table->add_row('<span class="blue">Fecha Certificado Domiciliario:</span>', $datos_operador->FechaCertifDom,'<input type="checkbox" name="chk_fecha_cer_dom" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'fecha_cer_dom\')">','<input class="input-xxlarge" id="fecha_cer_dom" name="fecha_cer_dom" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_fecha_cer_dom">');
		$this->table->add_row('<span class="blue">Domicilio Legal Empresa:</span>', $datos_operador->DomLegal,'<input type="checkbox" name="chk_dom_legal" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'dom_legal\')">','<input class="input-xxlarge" id="dom_legal" name="dom_legal" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_dom_legal">');

		if($datos_operador->TipoOperador == 1 || $datos_operador->TipoOperador == 2 || $datos_operador->TipoOperador == 3 || $datos_operador->TipoOperador == 4 || $datos_operador->TipoOperador == 5 || $datos_operador->TipoOperador == 6 || $datos_operador->TipoOperador == 7 || $datos_operador->TipoOperador == 9 || $datos_operador->TipoOperador == 10 || $datos_operador->TipoOperador == 11){
			$this->table->add_row('<span class="blue">Domicilio Procesal Actual:</span>', $datos_operador->DomProcActual,'<input type="checkbox" name="chk_dom_proc" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'dom_proc\')">','<input class="input-xxlarge" id="dom_proc" name="dom_proc" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_dom_proc">');
			$this->table->add_row('<span class="blue">Departamento Procesal:</span>', $dep_proce->Nombre_Dep,'<input type="checkbox" name="chk_dep_proc" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'dep_proc\')">','<input class="input-xxlarge" id="dep_proc" name="dep_proc" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_dep_proc">');
			$this->table->add_row('<span class="blue">Provincia Procesal:</span>', $prov_proce->Nombre_Prov,'<input type="checkbox" name="chk_prov_proc" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'prov_proc\')">','<input class="input-xxlarge" id="prov_proc" name="prov_proc" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_prov_proc">');
			$this->table->add_row('<span class="blue">Ciudad/Loc. Procesal:</span>', $ciudad_proce->Nombre_Ciudad,'<input type="checkbox" name="chk_ciu_proc" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'ciu_proc\')">','<input class="input-xxlarge" id="ciu_proc" name="ciu_proc" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_ciu_proc">');
		}
		if($datos_operador->TipoOperador == 1 || $datos_operador->TipoOperador == 2 || $datos_operador->TipoOperador == 3 || $datos_operador->TipoOperador == 4 || $datos_operador->TipoOperador == 5 || $datos_operador->TipoOperador == 6 || $datos_operador->TipoOperador == 7 || $datos_operador->TipoOperador == 8){			
			$this->table->add_row('<span class="blue">Departamento Legal:</span>', $dep_leg->Nombre_Dep,'<input type="checkbox" name="chk_dep_legal" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'dep_legal\')">','<input class="input-xxlarge" id="dep_legal" name="dep_legal" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_dep_legal">');
			$this->table->add_row('<span class="blue">Provincia Legal:</span>', $prov_leg->Nombre_Prov,'<input type="checkbox" name="chk_prov_legal" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'prov_legal\')">','<input class="input-xxlarge" id="prov_legal" name="prov_legal" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_prov_legal">');
			$this->table->add_row('<span class="blue">Ciudad/Loc. Legal:</span>', $ciudad_leg->Nombre_Ciudad,'<input type="checkbox" name="chk_ciu_legal" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'ciu_legal\')">','<input class="input-xxlarge" id="ciu_legal" name="ciu_legal" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_ciu_legal">');
			}
		
		$this->table->add_row('<span class="blue">Página Web:</span>', $datos_operador->PagWeb,'<input type="checkbox" name="chk_pag_web" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'pag_web\')">','<input class="input-xxlarge" id="pag_web" name="pag_web" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_pag_web">');
		$this->table->add_row('<span class="blue">Casilla:</span>', $datos_operador->Casilla,'<input type="checkbox" name="chk_casilla" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'casilla\')">','<input class="input-xxlarge" id="casilla" name="casilla" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_casilla">');
		$this->table->add_row('<span class="blue">Correo:</span>', $datos_operador->Email,'<input type="checkbox" name="chk_correo" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'correo\')">','<input class="input-xxlarge" id="correo" name="correo" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_correo">');
		$this->table->add_row('<span class="blue">Fax:</span>', $datos_operador->Fax,'<input type="checkbox" name="chk_fax" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'fax\')">','<input class="input-xxlarge" id="fax" name="fax" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_fax">');
		$this->table->add_row('<span class="blue">Teléfonos:</span>', $datos_operador->TelFij,'<input type="checkbox" name="chk_telefonos" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'telefonos\')">','<input class="input-xxlarge" id="telefonos" name="telefonos" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_telefonos">');
		$this->table->add_row('<span class="blue">Celulares:</span>', $datos_operador->TelCel,'<input type="checkbox" name="chk_celulares" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'celulares\')">','<input class="input-xxlarge" id="celulares" name="celulares" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_celulares">');
		$data['table'] = $this->table->generate();
		//--------------Representantes Legales
		$j=0;$k=0;$l=0;$m=0;$n=0;$o=0;$p=0;$q=0;$r=0;$s=0;
		$this->table->clear();
		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		$this->table->set_heading('Nombre Completo', 'CI', 'Nro. Testimonio Poder', 'Fecha Poder','Objeto Poder','Nro. Testimonio Rev. Poder', 'Fecha Test. Rev. Poder', 'Nro. Test. Nuevo Poder', 'Fecha Test. Nuevo Poder', 'Objeto Nuevo Poder');
		$datos_representantes = $this->personModel->obt_representantes($id_operador)->result();
		foreach ($datos_representantes as $dato_representantes){
			$this->table->add_row($dato_representantes->Nombre_Completo.'<br><input type="hidden" id="id_repre_legal" name="id_repre_legal[]" value="'.$dato_representantes->Id_Repre_Legal.'"><input type="checkbox" name="chk_'.$j.'" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'repre_legal'.$j.'\')">'.'<input class="input-small" id="repre_legal'.$j.'" name="repre_legal[]" type="text" required>', $dato_representantes->Ci_Repre_Legal.'<br><input type="checkbox" name="chk_'.$k.'" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'ci_repre_legal'.$k.'\')">'.'<input class="input-small" id="ci_repre_legal'.$k.'" name="ci_repre_legal[]" type="text" required>', $dato_representantes->Nro_Testimonio_Poder_Legal.'<br><input type="checkbox" name="chk_'.$l.'" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'nro_test_poder_legal'.$l.'\')">'.'<input class="input-small" id="nro_test_poder_legal'.$l.'" name="nro_test_poder_legal[]" type="text" required>', $dato_representantes->Fecha_Poder_Legal.'<br><input type="checkbox" name="chk_'.$m.'" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'fecha_poder_legal'.$m.'\')">'.'<input class="input-small" id="fecha_poder_legal'.$m.'" name="fecha_poder_legal[]" type="text" required>', $dato_representantes->Objeto_Poder_Legal.'<br><input type="checkbox" name="chk_'.$n.'" id="checkbox" value="1" class="ck" onclick="ckobservadovalidar(this.checked,\'obj_poder_legal'.$n.'\')">'.'<input class="input-small" id="obj_poder_legal'.$n.'" name="obj_poder_legal[]" type="text" required>', $dato_representantes->Nro_Testimonio_Poder_Revo, $dato_representantes->Fecha_Testimonio_Revo, $dato_representantes->Nro_Testimonio_Nuevo_Poder, $dato_representantes->Fecha_Nuevo_Poder, $dato_representantes->Objeto_Nuevo_Poder);	
			$j=$j+1;$k=$k+1;$l=$l+1;$m=$m+1;$n=$n+1;$o=$o+1;$p=$p+1;$q=$q+1;$r=$r+1;$s=$s+1;	
		}
		$data['table2'] = $this->table->generate();
		$data['num_representantes'] = $j;
		//----------------
		$data['texto_tipo_ope'] = $texto_tipo_ope;
		$this->load->view('valida_paso2', $data);				
	}

	function guarda_validacion(){
		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$nivel = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $nivel;
		$fecha=date("d-m-Y h:i:s");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/validar_paso2');

		$Id_Operador = $this->input->post('Id_Operador');
		$datos_operador = $this->personModel->obt_operador_all($Id_Operador)->row();
		//$dep_leg = $this->personModel->obt_departamento($datos_operador->DeptoLegal)->row();
		//$dep_proce = $this->personModel->obt_departamento($datos_operador->DeptoProcesal)->row();
		//$prov_leg = $this->personModel->obt_provincia($datos_operador->ProvLegal)->row();
		//$prov_proce = $this->personModel->obt_provincia($datos_operador->ProvProcesal)->row();
		$ciudad_leg = $this->personModel->obt_ciudad($datos_operador->CiudLocLegal)->row();
		$ciudad_proce = $this->personModel->obt_ciudad($datos_operador->CiudLocProcesal)->row();
		//--------------------  Guarda Observaciones de representantes legales
		$id_repre_legal = $this->input->post('id_repre_legal');
		$repre_legal = $this->input->post('repre_legal');
		$ci_repre_legal = $this->input->post('ci_repre_legal');
		$nro_test_poder_legal = $this->input->post('nro_test_poder_legal');
		$obj_poder_legal = $this->input->post('obj_poder_legal');
		$fecha_poder_legal = $this->input->post('fecha_poder_legal');
		//$nro_test_rev = $this->input->post('nro_test_rev');
		//$nro_test_new = $this->input->post('nro_test_new');
		//$fecha_rev_poder = $this->input->post('fecha_rev_poder');
		//$fecha_new_poder = $this->input->post('fecha_new_poder');
		//$obj_new_poder = $this->input->post('obj_new_poder');
		//if($num_de_repre>0){
			for ($i=0; $i<count($repre_legal); $i++) {	
				$dato_repre_legal = array('Id_Repre_Legal' => $id_repre_legal[$i],
							'Id_Operador' => $Id_Operador,
							'Nombre_Completo' => $repre_legal[$i],
							'Ci_Repre_Legal' => $ci_repre_legal[$i],
							'Nro_Testimonio_Poder_Legal' => $nro_test_poder_legal[$i],
							'Objeto_Poder_Legal' => $obj_poder_legal[$i],
							'Fecha_Poder_Legal' => $fecha_poder_legal[$i],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
							//'Nro_Testimonio_Poder_Revo' => $nro_test_rev[$i],
							//'Nro_Testimonio_Nuevo_Poder' => $nro_test_new[$i],
							//'Fecha_Testimonio_Revo' => date('Y-m-d', strtotime($fecha_rev_poder[$i])),
							//'Fecha_Nuevo_Poder' => date('Y-m-d', strtotime($fecha_new_poder[$i])),
							//'Objeto_Nuevo_Poder' => $obj_new_poder[$i]);
				$Id_Obser_Repre[$i] = $this->personModel->add_obs_repre($dato_repre_legal);
			}
		//}
		//*************************************************************************************************************
		//*********************              GUARDA OBSERVACIONES              ****************************************
		//*************************************************************************************************************
		if(!file_exists("uploads/".$Id_Operador."/")){
			mkdir("uploads/".$Id_Operador."/",0777);
		}
		//----------------------Tipo Operador = 1----------------------
		if ($datos_operador->TipoOperador == 1){
			$desc_tipo_ope = 'COOPERATIVA';
			$observados = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NumRegDirGralCoop' => $this->input->post('NumRegDirGralCoop'),
							'FechaRegDirGralCoop' => $this->input->post('FechaRegDirGralCoop'),							
							'Num_Test_Estatutos' => $this->input->post('Num_Test_Estatutos'),
							'Fecha_Test_Estatutos' => $this->input->post('Fecha_Test_Estatutos'),
							'Obj_Creacion' => $this->input->post('Obj_Creacion'),
							'Cer_Ant_Penales' => $this->input->post('Cer_Ant_Penales'),
							'NomPresidConAdm' => $this->input->post('NomPresidConAdm'),
							'CIPresidConAdm' => $this->input->post('CIPresidConAdm'),
							'NumTestimonioPresidConAdm' => $this->input->post('NumTestimonioPresidConAdm'),
							'FechaTestimonio' => $this->input->post('FechaTestimonio'),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => $this->input->post('fecha_cer_dom'),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
			$Id_Observados = $this->personModel->add_observaciones($observados);
			//-------------------------------Guarda Adjuntos
			if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_NumRegDirGralCoop"]["name"] != '' || $_FILES["file_FechaRegDirGralCoop"]["name"] != '' || $_FILES["file_NomPresidConAdm"]["name"] != '' || $_FILES["file_CIPresidConAdm"]["name"] != '' || $_FILES["file_NumTestimonioPresidConAdm"]["name"] != '' || $_FILES["file_FechaTestimonio"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dom_proc"]["name"] != '' || $_FILES["file_dep_legal"]["name"] != '' || $_FILES["file_dep_proc"]["name"] != '' || $_FILES["file_prov_legal"]["name"] != '' || $_FILES["file_prov_proc"]["name"] != '' || $_FILES["file_ciu_legal"]["name"] != '' || $_FILES["file_ciu_proc"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != '' || $_FILES["file_Obj_Creacion"]["name"] != '' || $_FILES["file_Fecha_Test_Estatutos"]["name"] != '' || $_FILES["file_Num_Test_Estatutos"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'NumRegDirGralCoop' => $_FILES["file_NumRegDirGralCoop"]["name"],
							'FechaRegDirGralCoop' => $_FILES["file_FechaRegDirGralCoop"]["name"],
							'NomPresidConAdm' => $_FILES["file_NomPresidConAdm"]["name"],
							'CIPresidConAdm' => $_FILES["file_CIPresidConAdm"]["name"],
							'NumTestimonioPresidConAdm' => $_FILES["file_NumTestimonioPresidConAdm"]["name"],
							'FechaTestimonio' => $_FILES["file_FechaTestimonio"]["name"],
							'Num_Test_Estatutos' => $_FILES["file_Num_Test_Estatutos"]["name"],
							'Fecha_Test_Estatutos' => $_FILES["file_Fecha_Test_Estatutos"]["name"],
							'Obj_Creacion' => $_FILES["file_Obj_Creacion"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DomProcActual' => $_FILES["file_dom_proc"]["name"],
							'DeptoLegal' => $_FILES["file_dep_legal"]["name"],
							'DeptoProcesal' => $_FILES["file_dep_proc"]["name"],
							'ProvLegal' => $_FILES["file_prov_legal"]["name"],
							'ProvProcesal' => $_FILES["file_prov_proc"]["name"],
							'CiudLocLegal' => $_FILES["file_ciu_legal"]["name"],
							'CiudLocProcesal' => $_FILES["file_ciu_proc"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos);
				
				move_uploaded_file($_FILES["file_NumRegDirGralCoop"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumRegDirGralCoop"]["name"]);
				move_uploaded_file($_FILES["file_FechaRegDirGralCoop"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaRegDirGralCoop"]["name"]);
				move_uploaded_file($_FILES["file_NomPresidConAdm"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NomPresidConAdm"]["name"]);
				move_uploaded_file($_FILES["file_CIPresidConAdm"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_CIPresidConAdm"]["name"]);
				move_uploaded_file($_FILES["file_NumTestimonioPresidConAdm"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumTestimonioPresidConAdm"]["name"]);
				move_uploaded_file($_FILES["file_FechaTestimonio"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaTestimonio"]["name"]);				
				move_uploaded_file($_FILES["file_Num_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_Obj_Creacion"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Obj_Creacion"]["name"]);
			}
		}
		//----------------------Tipo Operador = 2----------------------
		if ($datos_operador->TipoOperador == 2){
			$desc_tipo_ope = 'GUBERNAMENTAL';
			$observados = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NomMAE' => $this->input->post('NomMAE'),
							'CIMAE' => $this->input->post('CIMAE'),
							'TNumDocDesigGub' => $this->input->post('TNumDocDesigGub'),
							'FechaDocDesigGub' => $this->input->post('FechaDocDesigGub'),
							'Est_Ri_Func' => $this->input->post('Est_Ri_Func'),
							'Cer_Ant_Penales' => $this->input->post('Cer_Ant_Penales'),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => $this->input->post('fecha_cer_dom'),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
			$Id_Observados = $this->personModel->add_observaciones($observados);
			//-------------------------------Guarda Adjuntos
			if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_NomMAE"]["name"] != '' || $_FILES["file_CIMAE"]["name"] != '' || $_FILES["file_TNumDocDesigGub"]["name"] != '' || $_FILES["file_FechaDocDesigGub"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dom_proc"]["name"] != '' || $_FILES["file_dep_legal"]["name"] != '' || $_FILES["file_dep_proc"]["name"] != '' || $_FILES["file_prov_legal"]["name"] != '' || $_FILES["file_prov_proc"]["name"] != '' || $_FILES["file_ciu_legal"]["name"] != '' || $_FILES["file_ciu_proc"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != '' || $_FILES["file_Est_Ri_Func"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'NomMAE' => $_FILES["file_NomMAE"]["name"],
							'CIMAE' => $_FILES["file_CIMAE"]["name"],
							'TNumDocDesigGub' => $_FILES["file_TNumDocDesigGub"]["name"],
							'FechaDocDesigGub' => $_FILES["file_FechaDocDesigGub"]["name"],
							'Est_Ri_Func' => $_FILES["file_Est_Ri_Func"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DomProcActual' => $_FILES["file_dom_proc"]["name"],
							'DeptoLegal' => $_FILES["file_dep_legal"]["name"],
							'DeptoProcesal' => $_FILES["file_dep_proc"]["name"],
							'ProvLegal' => $_FILES["file_prov_legal"]["name"],
							'ProvProcesal' => $_FILES["file_prov_proc"]["name"],
							'CiudLocLegal' => $_FILES["file_ciu_legal"]["name"],
							'CiudLocProcesal' => $_FILES["file_ciu_proc"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos);
				
				move_uploaded_file($_FILES["file_NomMAE"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NomMAE"]["name"]);
				move_uploaded_file($_FILES["file_CIMAE"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_CIMAE"]["name"]);
				move_uploaded_file($_FILES["file_TNumDocDesigGub"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_TNumDocDesigGub"]["name"]);
				move_uploaded_file($_FILES["file_FechaDocDesigGub"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaDocDesigGub"]["name"]);
				move_uploaded_file($_FILES["file_Est_Ri_Func"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Est_Ri_Func"]["name"]);
			}
		}
		//----------------------Tipo Operador = 3----------------------
		if ($datos_operador->TipoOperador == 3){
			$desc_tipo_ope = 'ONG';
			$observados = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NomDirGralONG' => $this->input->post('NomDirGralONG'),
							'CIDirGralONG' => $this->input->post('CIDirGralONG'),
							'NumResGobONG' => $this->input->post('NumResGobONG'),
							'FechaResGobONG' => $this->input->post('FechaResGobONG'),
							'Num_Cer_Reg' => $this->input->post('Num_Cer_Reg'),
							'Fecha_Cer_Reg' => $this->input->post('Fecha_Cer_Reg'),
							'Num_Test_Estatutos' => $this->input->post('Num_Test_Estatutos'),
							'Fecha_Test_Estatutos' => $this->input->post('Fecha_Test_Estatutos'),
							'Cer_Ant_Penales' => $this->input->post('Cer_Ant_Penales'),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => $this->input->post('fecha_cer_dom'),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
			$Id_Observados = $this->personModel->add_observaciones($observados);
			//-------------------------------Guarda Adjuntos
			if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_NomDirGralONG"]["name"] != '' || $_FILES["file_CIDirGralONG"]["name"] != '' || $_FILES["file_NumResGobONG"]["name"] != '' || $_FILES["file_FechaResGobONG"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dom_proc"]["name"] != '' || $_FILES["file_dep_legal"]["name"] != '' || $_FILES["file_dep_proc"]["name"] != '' || $_FILES["file_prov_legal"]["name"] != '' || $_FILES["file_prov_proc"]["name"] != '' || $_FILES["file_ciu_legal"]["name"] != '' || $_FILES["file_ciu_proc"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != '' || $_FILES["file_Num_Cer_Reg"]["name"] != '' || $_FILES["file_Fecha_Cer_Reg"]["name"] != '' || $_FILES["file_Num_Test_Estatutos"]["name"] != '' || $_FILES["file_Fecha_Test_Estatutos"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'NomDirGralONG' => $_FILES["file_NomDirGralONG"]["name"],
							'CIDirGralONG' => $_FILES["file_CIDirGralONG"]["name"],
							'NumResGobONG' => $_FILES["file_NumResGobONG"]["name"],
							'FechaResGobONG' => $_FILES["file_FechaResGobONG"]["name"],
							'Num_Cer_Reg' => $_FILES["file_Num_Cer_Reg"]["name"],
							'Fecha_Cer_Reg' => $_FILES["file_Fecha_Cer_Reg"]["name"],
							'Num_Test_Estatutos' => $_FILES["file_Num_Test_Estatutos"]["name"],
							'Fecha_Test_Estatutos' => $_FILES["file_Fecha_Test_Estatutos"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DomProcActual' => $_FILES["file_dom_proc"]["name"],
							'DeptoLegal' => $_FILES["file_dep_legal"]["name"],
							'DeptoProcesal' => $_FILES["file_dep_proc"]["name"],
							'ProvLegal' => $_FILES["file_prov_legal"]["name"],
							'ProvProcesal' => $_FILES["file_prov_proc"]["name"],
							'CiudLocLegal' => $_FILES["file_ciu_legal"]["name"],
							'CiudLocProcesal' => $_FILES["file_ciu_proc"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos);
				
				move_uploaded_file($_FILES["file_NomDirGralONG"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NomDirGralONG"]["name"]);
				move_uploaded_file($_FILES["file_CIDirGralONG"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_CIDirGralONG"]["name"]);
				move_uploaded_file($_FILES["file_NumResGobONG"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumResGobONG"]["name"]);
				move_uploaded_file($_FILES["file_FechaResGobONG"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaResGobONG"]["name"]);
				move_uploaded_file($_FILES["file_Num_Cer_Reg"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Cer_Reg"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Cer_Reg"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Cer_Reg"]["name"]);
				move_uploaded_file($_FILES["file_Num_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Test_Estatutos"]["name"]);
			}
		}
		//----------------------Tipo Operador = 4----------------------
		if ($datos_operador->TipoOperador == 4){
			$desc_tipo_ope = 'PUEBLO INDIGENA ORIGINARIO CAMPESINO';
			$observados = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'Num_Doc_Min_Auto' => $this->input->post('Num_Doc_Min_Auto'),
							'Fecha_Doc_Min_Auto' => $this->input->post('Fecha_Doc_Min_Auto'),
							'NumDocCrea' => $this->input->post('NumDocCrea'),
							'FechaDocCrea' => $this->input->post('FechaDocCrea'),
							'NumDocAcred' => $this->input->post('NumDocAcred'),
							'FechaDocAcred' => $this->input->post('FechaDocAcred'),
							'Cer_Ant_Penales' => $this->input->post('Cer_Ant_Penales'),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => $this->input->post('fecha_cer_dom'),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
			$Id_Observados = $this->personModel->add_observaciones($observados);
			//-------------------------------Guarda Adjuntos
			if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_Num_Doc_Min_Auto"]["name"] != '' || $_FILES["file_Fecha_Doc_Min_Auto"]["name"] != '' || $_FILES["file_NumDocCrea"]["name"] != '' || $_FILES["file_FechaDocCrea"]["name"] != '' || $_FILES["file_NumDocAcred"]["name"] != '' || $_FILES["file_FechaDocAcred"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dom_proc"]["name"] != '' || $_FILES["file_dep_legal"]["name"] != '' || $_FILES["file_dep_proc"]["name"] != '' || $_FILES["file_prov_legal"]["name"] != '' || $_FILES["file_prov_proc"]["name"] != '' || $_FILES["file_ciu_legal"]["name"] != '' || $_FILES["file_ciu_proc"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'Num_Doc_Min_Auto' => $_FILES["file_Num_Doc_Min_Auto"]["name"],
							'Fecha_Doc_Min_Auto' => $_FILES["file_Fecha_Doc_Min_Auto"]["name"],
							'NumDocCrea' => $_FILES["file_NumDocCrea"]["name"],
							'FechaDocCrea' => $_FILES["file_FechaDocCrea"]["name"],
							'NumDocAcred' => $_FILES["file_NumDocAcred"]["name"],
							'FechaDocAcred' => $_FILES["file_FechaDocAcred"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DomProcActual' => $_FILES["file_dom_proc"]["name"],
							'DeptoLegal' => $_FILES["file_dep_legal"]["name"],
							'DeptoProcesal' => $_FILES["file_dep_proc"]["name"],
							'ProvLegal' => $_FILES["file_prov_legal"]["name"],
							'ProvProcesal' => $_FILES["file_prov_proc"]["name"],
							'CiudLocLegal' => $_FILES["file_ciu_legal"]["name"],
							'CiudLocProcesal' => $_FILES["file_ciu_proc"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos);
				
				move_uploaded_file($_FILES["file_Num_Doc_Min_Auto"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Doc_Min_Auto"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Doc_Min_Auto"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Doc_Min_Auto"]["name"]);
				move_uploaded_file($_FILES["file_NumDocCrea"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumDocCrea"]["name"]);
				move_uploaded_file($_FILES["file_FechaDocCrea"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaDocCrea"]["name"]);
				move_uploaded_file($_FILES["file_NumDocAcred"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumDocAcred"]["name"]);
				move_uploaded_file($_FILES["file_FechaDocAcred"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaDocAcred"]["name"]);
			}
		}	
		//----------------------Tipo Operador = 5----------------------
		if ($datos_operador->TipoOperador == 5){
			$desc_tipo_ope = 'SINDICATO';
			$observados = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NumResMinSind' => $this->input->post('res_min_sindical'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'FechaResMinSind' => $this->input->post('fecha_resol_sin'),
							'NomRepSind' => $this->input->post('nom_max_repre'),
							'NumResPersJurid' => $this->input->post('nro_res_juri'),
							'CIRepSind' => $this->input->post('ci_repre_sin'),
							'FechaResPersJurid' => $this->input->post('fecha_per_jur'),
							'Num_Test_Estatutos' => $this->input->post('Num_Test_Estatutos'),
							'Fecha_Test_Estatutos' => $this->input->post('Fecha_Test_Estatutos'),
							'Num_Reg_Mt' => $this->input->post('Num_Reg_Mt'),
							'Fecha_Reg_Mt' => $this->input->post('Fecha_Reg_Mt'),
							'Obj_Creacion' => $this->input->post('Obj_Creacion'),
							'Acta_Nombra_Max' => $this->input->post('Acta_Nombra_Max'),
							'Cer_Ant_Penales' => $this->input->post('Cer_Ant_Penales'),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => $this->input->post('fecha_cer_dom'),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
			$Id_Observados = $this->personModel->add_observaciones($observados);
			//-------------------------------Guarda Adjuntos
			if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_res_min_sindical"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_fecha_resol_sin"]["name"] != '' || $_FILES["file_nom_max_repre"]["name"] != '' || $_FILES["file_nro_res_juri"]["name"] != '' || $_FILES["file_ci_repre_sin"]["name"] != '' || $_FILES["file_fecha_per_jur"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dom_proc"]["name"] != '' || $_FILES["file_dep_legal"]["name"] != '' || $_FILES["file_dep_proc"]["name"] != '' || $_FILES["file_prov_legal"]["name"] != '' || $_FILES["file_prov_proc"]["name"] != '' || $_FILES["file_ciu_legal"]["name"] != '' || $_FILES["file_ciu_proc"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != '' || $_FILES["file_Num_Test_Estatutos"]["name"] != '' || $_FILES["file_Fecha_Test_Estatutos"]["name"] != '' || $_FILES["file_Num_Reg_Mt"]["name"] != '' || $_FILES["file_Fecha_Reg_Mt"]["name"] != '' || $_FILES["file_Obj_Creacion"]["name"] != '' || $_FILES["file_Acta_Nombra_Max"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NumResMinSind' => $_FILES["file_res_min_sindical"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'FechaResMinSind' => $_FILES["file_fecha_resol_sin"]["name"],
							'NomRepSind' => $_FILES["file_nom_max_repre"]["name"],
							'NumResPersJurid' => $_FILES["file_nro_res_juri"]["name"],
							'CIRepSind' => $_FILES["file_ci_repre_sin"]["name"],
							'Num_Test_Estatutos' => $_FILES["file_Num_Test_Estatutos"]["name"],
							'Fecha_Test_Estatutos' => $_FILES["file_Fecha_Test_Estatutos"]["name"],
							'Num_Reg_Mt' => $_FILES["file_Num_Reg_Mt"]["name"],
							'Fecha_Reg_Mt' => $_FILES["file_Fecha_Reg_Mt"]["name"],
							'Obj_Creacion' => $_FILES["file_Obj_Creacion"]["name"],
							'Acta_Nombra_Max' => $_FILES["file_Acta_Nombra_Max"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'FechaResPersJurid' => $_FILES["file_fecha_per_jur"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DomProcActual' => $_FILES["file_dom_proc"]["name"],
							'DeptoLegal' => $_FILES["file_dep_legal"]["name"],
							'DeptoProcesal' => $_FILES["file_dep_proc"]["name"],
							'ProvLegal' => $_FILES["file_prov_legal"]["name"],
							'ProvProcesal' => $_FILES["file_prov_proc"]["name"],
							'CiudLocLegal' => $_FILES["file_ciu_legal"]["name"],
							'CiudLocProcesal' => $_FILES["file_ciu_proc"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos);
				
				move_uploaded_file($_FILES["file_res_min_sindical"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_res_min_sindical"]["name"]);
				move_uploaded_file($_FILES["file_fecha_resol_sin"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_fecha_resol_sin"]["name"]);
				move_uploaded_file($_FILES["file_nom_max_repre"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_nom_max_repre"]["name"]);
				move_uploaded_file($_FILES["file_nro_res_juri"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_nro_res_juri"]["name"]);
				move_uploaded_file($_FILES["file_ci_repre_sin"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_ci_repre_sin"]["name"]);
				move_uploaded_file($_FILES["file_fecha_per_jur"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_fecha_per_jur"]["name"]);
				move_uploaded_file($_FILES["file_Num_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_Num_Reg_Mt"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Reg_Mt"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Reg_Mt"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Reg_Mt"]["name"]);
				move_uploaded_file($_FILES["file_Obj_Creacion"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Obj_Creacion"]["name"]);
				move_uploaded_file($_FILES["file_Acta_Nombra_Max"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Acta_Nombra_Max"]["name"]);
			}
		}
		//----------------------Tipo Operador = 6----------------------
		if ($datos_operador->TipoOperador == 6){
			$desc_tipo_ope = 'SOCIAL COMUNITARIO';
			$observados = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NumDocCrea' => $this->input->post('NumDocCrea'),
							'FechaDocCrea' => $this->input->post('FechaDocCrea'),
							'NumDocAcred' => $this->input->post('NumDocAcred'),
							'FechaDocAcred' => $this->input->post('FechaDocAcred'),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => $this->input->post('fecha_cer_dom'),
							'Cer_Ant_Penales' => $this->input->post('Cer_Ant_Penales'),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
			$Id_Observados = $this->personModel->add_observaciones($observados);
			//-------------------------------Guarda Adjuntos
			if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_NumDocCrea"]["name"] != '' || $_FILES["file_FechaDocCrea"]["name"] != '' || $_FILES["file_NumDocAcred"]["name"] != '' || $_FILES["file_FechaDocAcred"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dom_proc"]["name"] != '' || $_FILES["file_dep_legal"]["name"] != '' || $_FILES["file_dep_proc"]["name"] != '' || $_FILES["file_prov_legal"]["name"] != '' || $_FILES["file_prov_proc"]["name"] != '' || $_FILES["file_ciu_legal"]["name"] != '' || $_FILES["file_ciu_proc"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'NumDocCrea' => $_FILES["file_NumDocCrea"]["name"],
							'FechaDocCrea' => $_FILES["file_FechaDocCrea"]["name"],
							'NumDocAcred' => $_FILES["file_NumDocAcred"]["name"],
							'FechaDocAcred' => $_FILES["file_FechaDocAcred"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DomProcActual' => $_FILES["file_dom_proc"]["name"],
							'DeptoLegal' => $_FILES["file_dep_legal"]["name"],
							'DeptoProcesal' => $_FILES["file_dep_proc"]["name"],
							'ProvLegal' => $_FILES["file_prov_legal"]["name"],
							'ProvProcesal' => $_FILES["file_prov_proc"]["name"],
							'CiudLocLegal' => $_FILES["file_ciu_legal"]["name"],
							'CiudLocProcesal' => $_FILES["file_ciu_proc"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos);
				
				move_uploaded_file($_FILES["file_NumDocCrea"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumDocCrea"]["name"]);
				move_uploaded_file($_FILES["file_FechaDocCrea"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaDocCrea"]["name"]);
				move_uploaded_file($_FILES["file_NumDocAcred"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumDocAcred"]["name"]);
				move_uploaded_file($_FILES["file_FechaDocAcred"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaDocAcred"]["name"]);
			}
		}
		//----------------------Tipo Operador = 7----------------------
		if ($datos_operador->TipoOperador == 7){
			$desc_tipo_ope = 'SOCIEDAD';
			$observados = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NumRegFUNDEMPRESA' => $this->input->post('NumRegFUNDEMPRESA'),
							'FechaRegFUNDEMPRESA' => $this->input->post('FechaRegFUNDEMPRESA'),
							'NumCertifTradFUNDEMPRESA' => $this->input->post('NumCertifTradFUNDEMPRESA'),
							'FechaCertifTradFUNDEMPRESA' => $this->input->post('FechaCertifTradFUNDEMPRESA'),
							'Num_Test_Const' => $this->input->post('Num_Test_Const'),
							'Fecha_Test_Const' => $this->input->post('Fecha_Test_Const'),
							'Num_Test_Modi' => $this->input->post('Num_Test_Modi'),
							'Fecha_Test_Modi' => $this->input->post('Fecha_Test_Modi'),
							'Num_Test_Estatutos' => $this->input->post('Num_Test_Estatutos'),
							'Fecha_Test_Estatutos' => $this->input->post('Fecha_Test_Estatutos'),
							'Cer_Ant_Penales' => $this->input->post('Cer_Ant_Penales'),
							'Cer_Sol_Fisco' => $this->input->post('Cer_Sol_Fisco'),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => $this->input->post('fecha_cer_dom'),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
			$Id_Observados = $this->personModel->add_observaciones($observados);
			//-------------------------------Guarda Adjuntos
			if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_NumRegFUNDEMPRESA"]["name"] != '' || $_FILES["file_FechaRegFUNDEMPRESA"]["name"] != '' || $_FILES["file_NumCertifTradFUNDEMPRESA"]["name"] != '' || $_FILES["file_FechaCertifTradFUNDEMPRESA"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dom_proc"]["name"] != '' || $_FILES["file_dep_legal"]["name"] != '' || $_FILES["file_dep_proc"]["name"] != '' || $_FILES["file_prov_legal"]["name"] != '' || $_FILES["file_prov_proc"]["name"] != '' || $_FILES["file_ciu_legal"]["name"] != '' || $_FILES["file_ciu_proc"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != ''				|| $_FILES["file_Num_Test_Const"]["name"] != '' || $_FILES["file_Fecha_Test_Const"]["name"] != '' || $_FILES["file_Num_Test_Modi"]["name"] != '' || $_FILES["file_Fecha_Test_Modi"]["name"] != '' || $_FILES["file_Num_Test_Estatutos"]["name"] != '' || $_FILES["file_Fecha_Test_Estatutos"]["name"] != '' || $_FILES["file_Cer_Sol_Fisco"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'NumRegFUNDEMPRESA' => $_FILES["file_NumRegFUNDEMPRESA"]["name"],
							'FechaRegFUNDEMPRESA' => $_FILES["file_FechaRegFUNDEMPRESA"]["name"],
							'NumCertifTradFUNDEMPRESA' => $_FILES["file_NumCertifTradFUNDEMPRESA"]["name"],
							'FechaCertifTradFUNDEMPRESA' => $_FILES["file_FechaCertifTradFUNDEMPRESA"]["name"],
							'Num_Test_Estatutos' => $_FILES["file_Num_Test_Estatutos"]["name"],
							'Fecha_Test_Estatutos' => $_FILES["file_Fecha_Test_Estatutos"]["name"],
							'Num_Test_Const' => $_FILES["file_Num_Test_Const"]["name"],
							'Fecha_Test_Const' => $_FILES["file_Fecha_Test_Const"]["name"],
							'Num_Test_Modi' => $_FILES["file_Num_Test_Modi"]["name"],
							'Fecha_Test_Modi' => $_FILES["file_Fecha_Test_Modi"]["name"],
							'Cer_Sol_Fisco' => $_FILES["file_Cer_Sol_Fisco"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DomProcActual' => $_FILES["file_dom_proc"]["name"],
							'DeptoLegal' => $_FILES["file_dep_legal"]["name"],
							'DeptoProcesal' => $_FILES["file_dep_proc"]["name"],
							'ProvLegal' => $_FILES["file_prov_legal"]["name"],
							'ProvProcesal' => $_FILES["file_prov_proc"]["name"],
							'CiudLocLegal' => $_FILES["file_ciu_legal"]["name"],
							'CiudLocProcesal' => $_FILES["file_ciu_proc"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos);
				
				move_uploaded_file($_FILES["file_NumRegFUNDEMPRESA"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumRegFUNDEMPRESA"]["name"]);
				move_uploaded_file($_FILES["file_FechaRegFUNDEMPRESA"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaRegFUNDEMPRESA"]["name"]);
				move_uploaded_file($_FILES["file_NumCertifTradFUNDEMPRESA"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumCertifTradFUNDEMPRESA"]["name"]);
				move_uploaded_file($_FILES["file_FechaCertifTradFUNDEMPRESA"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaCertifTradFUNDEMPRESA"]["name"]);
				move_uploaded_file($_FILES["file_Num_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_Num_Test_Const"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Test_Const"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Test_Const"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Test_Const"]["name"]);
				move_uploaded_file($_FILES["file_Num_Test_Modi"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Test_Modi"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Test_Modi"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Test_Modi"]["name"]);
				move_uploaded_file($_FILES["file_Cer_Sol_Fisco"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Cer_Sol_Fisco"]["name"]);
			}
		}
		//----------------------Tipo Operador = 8----------------------	
		if ($datos_operador->TipoOperador == 8){
			$desc_tipo_ope = 'UNIPERSONAL';
			$observados = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),							
							'NomPropietario' => $this->input->post('NomPropietario'),
							'CIPropietario' => $this->input->post('CIPropietario'),
							'NumRegFUNDEMPRESA' => $this->input->post('NumRegFUNDEMPRESA'),
							'FechaRegFUNDEMPRESA' => $this->input->post('FechaRegFUNDEMPRESA'),							
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => $this->input->post('fecha_cer_dom'),
							'Cer_Ant_Penales' => $this->input->post('Cer_Ant_Penales'),
							'Cer_Sol_Fisco' => $this->input->post('Cer_Sol_Fisco'),
							'DomLegal' => $this->input->post('dom_legal'),
							'DeptoLegal' => $this->input->post('dep_legal'),
							'ProvLegal' => $this->input->post('prov_legal'),
							'CiudLocLegal' => $this->input->post('ciu_legal'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
			$Id_Observados = $this->personModel->add_observaciones($observados);
			//-------------------------------Guarda Adjuntos
			if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_NumRegFUNDEMPRESA"]["name"] != '' || $_FILES["file_FechaRegFUNDEMPRESA"]["name"] != '' || $_FILES["file_NomPropietario"]["name"] != '' || $_FILES["file_CIPropietario"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dep_legal"]["name"] != '' || $_FILES["file_prov_legal"]["name"] != '' || $_FILES["file_ciu_legal"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != '' || $_FILES["file_Cer_Sol_Fisco"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'NumRegFUNDEMPRESA' => $_FILES["file_NumRegFUNDEMPRESA"]["name"],
							'FechaRegFUNDEMPRESA' => $_FILES["file_FechaRegFUNDEMPRESA"]["name"],
							'NomPropietario' => $_FILES["file_NomPropietario"]["name"],
							'CIPropietario' => $_FILES["file_CIPropietario"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'Cer_Sol_Fisco' => $_FILES["file_Cer_Sol_Fisco"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DeptoLegal' => $_FILES["file_dep_legal"]["name"],
							'ProvLegal' => $_FILES["file_prov_legal"]["name"],
							'CiudLocLegal' => $_FILES["file_ciu_legal"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos);
				
				move_uploaded_file($_FILES["file_NumRegFUNDEMPRESA"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumRegFUNDEMPRESA"]["name"]);
				move_uploaded_file($_FILES["file_FechaRegFUNDEMPRESA"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaRegFUNDEMPRESA"]["name"]);
				move_uploaded_file($_FILES["file_NomPropietario"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NomPropietario"]["name"]);
				move_uploaded_file($_FILES["file_CIPropietario"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_CIPropietario"]["name"]);
				move_uploaded_file($_FILES["file_Cer_Sol_Fisco"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Cer_Sol_Fisco"]["name"]);
			}
		}
		//----------------------Tipo Operador = 9----------------------	
		if ($datos_operador->TipoOperador == 9){
			$desc_tipo_ope = 'Asociaciones, Fundaciones y Org. Religiosas';
			$observados = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NomRepSind' => $this->input->post('nom_max_repre'),
							'CIRepSind' => $this->input->post('ci_repre_sin'),
							'Num_Test_Estatutos' => $this->input->post('Num_Test_Estatutos'),
							'Fecha_Test_Estatutos' => $this->input->post('Fecha_Test_Estatutos'),
							'NumDocAcred' => $this->input->post('NumDocAcred'),
							'FechaDocAcred' => $this->input->post('FechaDocAcred'),
							'Cer_Sol_Fisco' => $this->input->post('Cer_Sol_Fisco'),
							'Cer_Ant_Penales' => $this->input->post('Cer_Ant_Penales'),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => $this->input->post('fecha_cer_dom'),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
			$Id_Observados = $this->personModel->add_observaciones($observados);
			//-------------------------------Guarda Adjuntos
			if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_nom_max_repre"]["name"] != '' || $_FILES["file_ci_repre_sin"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dom_proc"]["name"] != '' || $_FILES["file_dep_proc"]["name"] != '' || $_FILES["file_prov_proc"]["name"] != '' || $_FILES["file_ciu_proc"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != '' || $_FILES["file_Num_Test_Estatutos"]["name"] != '' || $_FILES["file_Fecha_Test_Estatutos"]["name"] != '' || $_FILES["file_NumDocAcred"]["name"] != '' || $_FILES["file_FechaDocAcred"]["name"] != '' || $_FILES["file_Cer_Sol_Fisco"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'NomRepSind' => $_FILES["file_nom_max_repre"]["name"],
							'CIRepSind' => $_FILES["file_ci_repre_sin"]["name"],
							'Num_Test_Estatutos' => $_FILES["file_Num_Test_Estatutos"]["name"],
							'Fecha_Test_Estatutos' => $_FILES["file_Fecha_Test_Estatutos"]["name"],
							'NumDocAcred' => $_FILES["file_NumDocAcred"]["name"],
							'FechaDocAcred' => $_FILES["file_FechaDocAcred"]["name"],
							'Cer_Sol_Fisco' => $_FILES["file_Cer_Sol_Fisco"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DomProcActual' => $_FILES["file_dom_proc"]["name"],
							'DeptoProcesal' => $_FILES["file_dep_proc"]["name"],
							'ProvProcesal' => $_FILES["file_prov_proc"]["name"],
							'CiudLocProcesal' => $_FILES["file_ciu_proc"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos);
				
				move_uploaded_file($_FILES["file_nom_max_repre"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_nom_max_repre"]["name"]);
				move_uploaded_file($_FILES["file_ci_repre_sin"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_ci_repre_sin"]["name"]);
				move_uploaded_file($_FILES["file_Num_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_NumDocAcred"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumDocAcred"]["name"]);
				move_uploaded_file($_FILES["file_FechaDocAcred"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaDocAcred"]["name"]);
				move_uploaded_file($_FILES["file_Cer_Sol_Fisco"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Cer_Sol_Fisco"]["name"]);
			}
		}
		//----------------------Tipo Operador = 10----------------------	
		if ($datos_operador->TipoOperador == 10){
			$desc_tipo_ope = 'ALCALDIAS';
			$observados = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'Num_Decreto_Alcaldia' => $this->input->post('Num_Decreto_Alcaldia'),
							'Fecha_Decreto_Alcaldia' => $this->input->post('Fecha_Decreto_Alcaldia'),
							'Num_Resol_Nom_Alcalde' => $this->input->post('Num_Resol_Nom_Alcalde'),
							'Fecha_Resol_Nom_Alcalde' => $this->input->post('Fecha_Resol_Nom_Alcalde'),
							'Cer_Sol_Fisco' => $this->input->post('Cer_Sol_Fisco'),
							'Cer_Ant_Penales' => $this->input->post('Cer_Ant_Penales'),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => $this->input->post('fecha_cer_dom'),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
			$Id_Observados = $this->personModel->add_observaciones($observados);
			//-------------------------------Guarda Adjuntos
			if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dom_proc"]["name"] != '' || $_FILES["file_dep_proc"]["name"] != '' || $_FILES["file_prov_proc"]["name"] != '' || $_FILES["file_ciu_proc"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != '' || $_FILES["file_Num_Decreto_Alcaldia"]["name"] != '' || $_FILES["file_Fecha_Decreto_Alcaldia"]["name"] != '' || $_FILES["file_Num_Resol_Nom_Alcalde"]["name"] != '' || $_FILES["file_Fecha_Resol_Nom_Alcalde"]["name"] != '' || $_FILES["file_Cer_Sol_Fisco"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'Num_Decreto_Alcaldia' => $_FILES["file_Num_Decreto_Alcaldia"]["name"],
							'Fecha_Decreto_Alcaldia' => $_FILES["file_Fecha_Decreto_Alcaldia"]["name"],
							'Num_Resol_Nom_Alcalde' => $_FILES["file_Num_Resol_Nom_Alcalde"]["name"],
							'Fecha_Resol_Nom_Alcalde' => $_FILES["file_Fecha_Resol_Nom_Alcalde"]["name"],
							'Cer_Sol_Fisco' => $_FILES["file_Cer_Sol_Fisco"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DomProcActual' => $_FILES["file_dom_proc"]["name"],
							'DeptoProcesal' => $_FILES["file_dep_proc"]["name"],
							'ProvProcesal' => $_FILES["file_prov_proc"]["name"],
							'CiudLocProcesal' => $_FILES["file_ciu_proc"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos);
				
				move_uploaded_file($_FILES["file_Num_Decreto_Alcaldia"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Decreto_Alcaldia"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Decreto_Alcaldia"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Decreto_Alcaldia"]["name"]);
				move_uploaded_file($_FILES["file_Num_Resol_Nom_Alcalde"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Resol_Nom_Alcalde"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Resol_Nom_Alcalde"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Resol_Nom_Alcalde"]["name"]);
				move_uploaded_file($_FILES["file_Cer_Sol_Fisco"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Cer_Sol_Fisco"]["name"]);
			}
		}
		//----------------------Tipo Operador = 11----------------------	
		if ($datos_operador->TipoOperador == 11){
			$desc_tipo_ope = 'EMBAJADAS';
			$observados = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $this->input->post('razon_social'),
							'NIT' => $this->input->post('nit'),
							'NomComercialOperador' => $this->input->post('nom_com'),
							'NomRepSind' => $this->input->post('nom_max_repre'),
							'CIRepSind' => $this->input->post('ci_repre_sin'),
							'Cer_Ant_Penales' => $this->input->post('Cer_Ant_Penales'),
							'NumCertifDom' => $this->input->post('nro_cer_dom'),
							'FechaCertifDom' => $this->input->post('fecha_cer_dom'),
							'DomLegal' => $this->input->post('dom_legal'),
							'DomProcActual' => $this->input->post('dom_proc'),
							'DeptoProcesal' => $this->input->post('dep_proc'),
							'ProvProcesal' => $this->input->post('prov_proc'),
							'CiudLocProcesal' => $this->input->post('ciu_proc'),
							'PagWeb' => $this->input->post('pag_web'),
							'Casilla' => $this->input->post('casilla'),
							'Email' => $this->input->post('correo'),
							'Fax' => $this->input->post('fax'),
							'TelFij' => $this->input->post('telefonos'),
							'TelCel' => $this->input->post('celulares'),
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
			$Id_Observados = $this->personModel->add_observaciones($observados);
			//-------------------------------Guarda Adjuntos
			if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_nom_max_repre"]["name"] != '' || $_FILES["file_ci_repre_sin"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dom_proc"]["name"] != '' || $_FILES["file_dep_proc"]["name"] != '' || $_FILES["file_prov_proc"]["name"] != '' || $_FILES["file_ciu_proc"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'NomRepSind' => $_FILES["file_nom_max_repre"]["name"],
							'CIRepSind' => $_FILES["file_ci_repre_sin"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DomProcActual' => $_FILES["file_dom_proc"]["name"],
							'DeptoProcesal' => $_FILES["file_dep_proc"]["name"],
							'ProvProcesal' => $_FILES["file_prov_proc"]["name"],
							'CiudLocProcesal' => $_FILES["file_ciu_proc"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos);
				
				move_uploaded_file($_FILES["file_nom_max_repre"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_nom_max_repre"]["name"]);
				move_uploaded_file($_FILES["file_ci_repre_sin"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_ci_repre_sin"]["name"]);
			}
		}


		move_uploaded_file($_FILES["file_Cer_Ant_Penales"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Cer_Ant_Penales"]["name"]);
		move_uploaded_file($_FILES["file_razon_social"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_razon_social"]["name"]);
		move_uploaded_file($_FILES["file_nit"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_nit"]["name"]);
				
		move_uploaded_file($_FILES["file_nom_com"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_nom_com"]["name"]);
		move_uploaded_file($_FILES["file_nro_cer_dom"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_nro_cer_dom"]["name"]);
		move_uploaded_file($_FILES["file_fecha_cer_dom"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_fecha_cer_dom"]["name"]);		
		move_uploaded_file($_FILES["file_dom_legal"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_dom_legal"]["name"]);
		
		if($datos_operador->TipoOperador == 1 || $datos_operador->TipoOperador == 2 || $datos_operador->TipoOperador == 3 || $datos_operador->TipoOperador == 4 || $datos_operador->TipoOperador == 5 || $datos_operador->TipoOperador == 6 || $datos_operador->TipoOperador == 7 || $datos_operador->TipoOperador == 9 || $datos_operador->TipoOperador == 10 || $datos_operador->TipoOperador == 11){
			move_uploaded_file($_FILES["file_dom_proc"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_dom_proc"]["name"]);
			move_uploaded_file($_FILES["file_dep_proc"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_dep_proc"]["name"]);
			move_uploaded_file($_FILES["file_prov_proc"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_prov_proc"]["name"]);
			move_uploaded_file($_FILES["file_ciu_proc"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_ciu_proc"]["name"]);
		}
		if($datos_operador->TipoOperador == 1 || $datos_operador->TipoOperador == 2 || $datos_operador->TipoOperador == 3 || $datos_operador->TipoOperador == 4 || $datos_operador->TipoOperador == 5 || $datos_operador->TipoOperador == 6 || $datos_operador->TipoOperador == 7 || $datos_operador->TipoOperador == 8){
			move_uploaded_file($_FILES["file_dep_legal"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_dep_legal"]["name"]);
			move_uploaded_file($_FILES["file_prov_legal"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_prov_legal"]["name"]);
			move_uploaded_file($_FILES["file_ciu_legal"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_ciu_legal"]["name"]);
			}
		
		move_uploaded_file($_FILES["file_pag_web"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_pag_web"]["name"]);
		move_uploaded_file($_FILES["file_casilla"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_casilla"]["name"]);
		move_uploaded_file($_FILES["file_correo"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_correo"]["name"]);
		move_uploaded_file($_FILES["file_fax"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_fax"]["name"]);
		move_uploaded_file($_FILES["file_telefonos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_telefonos"]["name"]);
		move_uploaded_file($_FILES["file_celulares"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_celulares"]["name"]);
		//*************************************************************************************************************
		//*********************************        MUESTRA    PDF            ******************************************
		//*************************************************************************************************************
		$datos_observados = $this->personModel->obt_observados_all($Id_Observados)->row();
		$this->cezpdf->cezpdf('a4', 'portrait'); 
		$this->cezpdf->selectFont('fonts/Helvetica.afm');
		//$this->cezpdf->ezImage(base_img_url_att, 35, 50, 'none', 'right');
		//$this->cezpdf->ezImage(base_img_url_bol, 25, 80, 'none', 'left');
		$this->cezpdf->addText(50,800,11,"<b>AUTORIDAD DE REGULACION Y FISCALIZACION DE TELECOMUNICACIONES Y TRANSPORTES</b>",0,0);
		$this->cezpdf->addText(130,785,11,'<b>FORMULARIO UNICO DE DECLARACION JURADA DE REGISTRO</b>',0,0);
		$this->cezpdf->addText(50,740,10,'<b>Nro. de ID: </b>'.$Id_Operador,0,0);
		$this->cezpdf->addText(50,730,9,'<b>Impreso en fecha: </b>' . date('m/d/Y h:i:s a'));
		//----------//------//------Tabla
		$this->cezpdf->ezSetY(715);						
		
		$dato_1 = array(array('etiqueta1'=>'Razon Social o Denominacion:','etiqueta2'=> $datos_operador->RazonSocial,'etiqueta3'=>$datos_observados->RazonSocial),
					array('etiqueta1'=>'Nombre Comercial del Operador:','etiqueta2'=> $datos_operador->NomComercialOperador,'etiqueta3'=>$datos_observados->NomComercialOperador),
					array('etiqueta1'=>'NIT:','etiqueta2'=> $datos_operador->NIT,'etiqueta3'=>$datos_observados->NIT));
		//--------------------------------- DATOS  ------------------------------------------------------------
		//----------------------Tipo Operador = 1----------------------
		if ($datos_operador->TipoOperador == 1){
			$dato_2 = array(array('etiqueta1'=>'Nombre Pdte. Consejo Administrativo:','etiqueta2'=> $datos_operador->NomPresidConAdm,'etiqueta3'=>$datos_observados->NomPresidConAdm),
					array('etiqueta1'=>'C.I. Pdte. Consejo Administrativo:','etiqueta2'=> $datos_operador->CIPresidConAdm.' '.$datos_operador->CIPresidConAdm_exp,'etiqueta3'=>$datos_observados->CIPresidConAdm),
					array('etiqueta1'=>'Nro. Registro de los Estatutos en la Direccion Gral. de Coop.:','etiqueta2'=> $datos_operador->NumRegDirGralCoop,'etiqueta3'=>$datos_observados->NumRegDirGralCoop),
					array('etiqueta1'=>'Fecha Registro de los Estatutos en la Direccion Gral. de Coop.:','etiqueta2'=> $datos_operador->FechaRegDirGralCoop,'etiqueta3'=>$datos_observados->FechaRegDirGralCoop),
					array('etiqueta1'=>'Nro. Testimonio Pdte. Consejo Adm.:','etiqueta2'=> $datos_operador->NumTestimonioPresidConAdm,'etiqueta3'=>$datos_observados->NumTestimonioPresidConAdm),
					array('etiqueta1'=>'Fecha Testimonio:','etiqueta2'=> $datos_operador->FechaTestimonio,'etiqueta3'=>$datos_observados->FechaTestimonio),
					array('etiqueta1'=>'Nro. Testimonio de Estatutos:','etiqueta2'=> $datos_operador->Num_Test_Estatutos,'etiqueta3'=>$datos_observados->Num_Test_Estatutos),
					array('etiqueta1'=>'Fecha Testimonio de Estatutos:','etiqueta2'=> $datos_operador->Fecha_Test_Estatutos,'etiqueta3'=>$datos_observados->Fecha_Test_Estatutos),
					array('etiqueta1'=>'Objeto de Creacion:','etiqueta2'=> $datos_operador->Obj_Creacion,'etiqueta3'=>$datos_observados->Obj_Creacion));
		}
		//----------------------Tipo Operador = 2----------------------
		if ($datos_operador->TipoOperador == 2){
			$dato_2 = array(array('etiqueta1'=>'Nombre Maxima Autoridad Ejecutiva:','etiqueta2'=> $datos_operador->NomMAE,'etiqueta3'=>$datos_observados->NomMAE),
					array('etiqueta1'=>'C.I. Maxima Autoridad Ejecutiva:','etiqueta2'=> $datos_operador->CIMAE,'etiqueta3'=>$datos_observados->CIMAE),
					array('etiqueta1'=>'Tipo Nro. Documento Designacion:','etiqueta2'=> $datos_operador->TNumDocDesigGub,'etiqueta3'=>$datos_observados->TNumDocDesigGub),
					array('etiqueta1'=>'Fecha Documento Designacion:','etiqueta2'=> $datos_operador->FechaDocDesigGub,'etiqueta3'=>$datos_observados->FechaDocDesigGub),
					array('etiqueta1'=>'Estatuto y/o Reglamento Interno de funcionamiento:','etiqueta2'=> $datos_operador->Est_Ri_Func,'etiqueta3'=>$datos_observados->Est_Ri_Func));
		}
		//----------------------Tipo Operador = 3----------------------
		if ($datos_operador->TipoOperador == 3){
			$dato_2 = array(array('etiqueta1'=>'Nombre Director General ONG:','etiqueta2'=> $datos_operador->NomDirGralONG,'etiqueta3'=>$datos_observados->NomDirGralONG),
					array('etiqueta1'=>'C.I. Director General ONG:','etiqueta2'=> $datos_operador->CIDirGralONG,'etiqueta3'=>$datos_observados->CIDirGralONG),
					array('etiqueta1'=>'Nombre Res. Gobernacion ONG:','etiqueta2'=> $datos_operador->NumResGobONG,'etiqueta3'=>$datos_observados->NumResGobONG),
					array('etiqueta1'=>'Fecha Res. Gobernacion ONG:','etiqueta2'=> $datos_operador->FechaResGobONG,'etiqueta3'=>$datos_observados->FechaResGobONG),
					array('etiqueta1'=>'Nro. de Certificado legalizado del Registro:','etiqueta2'=> $datos_operador->Num_Cer_Reg,'etiqueta3'=>$datos_observados->Num_Cer_Reg),
					array('etiqueta1'=>'Fecha del Certificado legalizado del Registro:','etiqueta2'=> $datos_operador->Fecha_Cer_Reg,'etiqueta3'=>$datos_observados->Fecha_Cer_Reg),
					array('etiqueta1'=>'Nro. Testimonio de Estatutos Internos:','etiqueta2'=> $datos_operador->Num_Test_Estatutos,'etiqueta3'=>$datos_observados->Num_Test_Estatutos),
					array('etiqueta1'=>'Fecha Testimonio de Estatutos Internos:','etiqueta2'=> $datos_operador->Fecha_Test_Estatutos,'etiqueta3'=>$datos_observados->Fecha_Test_Estatutos));
		}
		//----------------------Tipo Operador = 4----------------------
		if ($datos_operador->TipoOperador == 4){
			$dato_2 = array(array('etiqueta1'=>'Nro. de Documento de Creacion reconocido por el Min. de Autonomias:','etiqueta2'=> $datos_operador->Num_Doc_Min_Auto,'etiqueta3'=>$datos_observados->Num_Doc_Min_Auto),
					array('etiqueta1'=>'Fecha de Documento de Creacion reconocido por el Min. de Autonomias:','etiqueta2'=> $datos_operador->Fecha_Doc_Min_Auto,'etiqueta3'=>$datos_observados->Fecha_Doc_Min_Auto),
					array('etiqueta1'=>'Nro. Documento de creacion:','etiqueta2'=> $datos_operador->NumDocCrea,'etiqueta3'=>$datos_observados->NumDocCrea),
					array('etiqueta1'=>'Fecha Documento de creacion:','etiqueta2'=> $datos_operador->FechaDocCrea,'etiqueta3'=>$datos_observados->FechaDocCrea),
					array('etiqueta1'=>'Nro. Documento de Acreditacion:','etiqueta2'=> $datos_operador->NumDocAcred,'etiqueta3'=>$datos_observados->NumDocAcred),
					array('etiqueta1'=>'Fecha Documento de Acreditacion:','etiqueta2'=> $datos_operador->FechaDocAcred,'etiqueta3'=>$datos_observados->FechaDocAcred));
		}
		//----------------------Tipo Operador = 5----------------------
		if ($datos_operador->TipoOperador == 5){
			$dato_2 = array(array('etiqueta1'=>'Nro. Resolucion Ministerial Recono. Direc. Sindical:','etiqueta2'=> $datos_operador->NumResMinSind,'etiqueta3'=>$datos_observados->NumResMinSind),
					array('etiqueta1'=>'Fecha Resolucion Ministerial Recono. Direc. Sindical:','etiqueta2'=> $datos_operador->FechaResMinSind,'etiqueta3'=>$datos_observados->FechaResMinSind),
					array('etiqueta1'=>'Nombre Maximo Representante Sindicato:','etiqueta2'=> $datos_operador->NomRepSind,'etiqueta3'=>$datos_observados->NomRepSind),
					array('etiqueta1'=>'C.I. Maximo Representante Sindicato:','etiqueta2'=> $datos_operador->CIRepSind,'etiqueta3'=>$datos_observados->CIRepSind),
					array('etiqueta1'=>'Nro. Resolucion Suprema Reconoce Personeria Juridica:','etiqueta2'=> $datos_operador->NumResPersJurid,'etiqueta3'=>$datos_observados->NumResPersJurid),
					array('etiqueta1'=>'Fecha Resolucion Suprema Conoce Personeria Juridica:','etiqueta2'=> $datos_operador->FechaResPersJurid,'etiqueta3'=>$datos_observados->FechaResPersJurid),
					array('etiqueta1'=>'Nro. Testimonio de Estatutos Internos y sus Modificaciones:','etiqueta2'=> $datos_operador->Num_Test_Estatutos,'etiqueta3'=>$datos_observados->Num_Test_Estatutos),
					array('etiqueta1'=>'Fecha Testimonio de Estatutos Internos y sus Modificaciones:','etiqueta2'=> $datos_operador->Fecha_Test_Estatutos,'etiqueta3'=>$datos_observados->Fecha_Test_Estatutos),
					array('etiqueta1'=>'Nro. de Registro en el Ministerio de Trabajo:','etiqueta2'=> $datos_operador->Num_Reg_Mt,'etiqueta3'=>$datos_observados->Num_Reg_Mt),
					array('etiqueta1'=>'Fecha de Registro en el Ministerio de Trabajo:','etiqueta2'=> $datos_operador->Fecha_Reg_Mt,'etiqueta3'=>$datos_observados->Fecha_Reg_Mt),
					array('etiqueta1'=>'Objeto de Creacion:','etiqueta2'=> $datos_operador->Obj_Creacion,'etiqueta3'=>$datos_observados->Obj_Creacion),
					array('etiqueta1'=>'Acta de Nombramiento del Maximo Representante:','etiqueta2'=> $datos_operador->Acta_Nombra_Max,'etiqueta3'=>$datos_observados->Acta_Nombra_Max));
		}	
		//----------------------Tipo Operador = 6----------------------
		if ($datos_operador->TipoOperador == 6){
			$dato_2 = array(array('etiqueta1'=>'Nombre Propietario:','etiqueta2'=> $datos_operador->NomPropietario,'etiqueta3'=>$datos_observados->NomPropietario),
					array('etiqueta1'=>'C.I. Propietario:','etiqueta2'=> $datos_operador->CIPropietario,'etiqueta3'=>$datos_observados->CIPropietario),
					array('etiqueta1'=>'Nro. Documento de creación:','etiqueta2'=> $datos_operador->NumDocCrea,'etiqueta3'=>$datos_observados->NumDocCrea),
					array('etiqueta1'=>'Fecha Documento de creación:','etiqueta2'=> $datos_operador->FechaDocCrea,'etiqueta3'=>$datos_observados->FechaDocCrea),
					array('etiqueta1'=>'Nro. de Test. que acredita la Pers. Juridica de la Organizacion:','etiqueta2'=> $datos_operador->NumDocAcred,'etiqueta3'=>$datos_observados->NumDocAcred),
					array('etiqueta1'=>'Fecha de Test. que acredita la Pers. Juridica de la Organizacion:','etiqueta2'=> $datos_operador->FechaDocAcred,'etiqueta3'=>$datos_observados->FechaDocAcred));
		}
		//----------------------Tipo Operador = 7----------------------
		if ($datos_operador->TipoOperador == 7){
			$dato_2 = array(array('etiqueta1'=>'Nro. Registro FUNDEMPRESA:','etiqueta2'=> $datos_operador->NumRegFUNDEMPRESA,'etiqueta3'=>$datos_observados->NumRegFUNDEMPRESA),
					array('etiqueta1'=>'Fecha Registro FUNDEMPRESA:','etiqueta2'=> $datos_operador->FechaRegFUNDEMPRESA,'etiqueta3'=>$datos_observados->FechaRegFUNDEMPRESA),
					array('etiqueta1'=>'Nro. Certificado Tradicion FUNDEMPRESA:','etiqueta2'=> $datos_operador->NumCertifTradFUNDEMPRESA,'etiqueta3'=>$datos_observados->NumCertifTradFUNDEMPRESA),					
					array('etiqueta1'=>'Fecha Certificado Tradicion FUNDEMPRESA:','etiqueta2'=> $datos_operador->FechaCertifTradFUNDEMPRESA,'etiqueta3'=>$datos_observados->FechaCertifTradFUNDEMPRESA),
					array('etiqueta1'=>'Nro. Testimonio de Constitucion:','etiqueta2'=> $datos_operador->Num_Test_Const,'etiqueta3'=>$datos_observados->Num_Test_Const),
					array('etiqueta1'=>'Fecha Testimonio de Constitucion:','etiqueta2'=> $datos_operador->Fecha_Test_Const,'etiqueta3'=>$datos_observados->Fecha_Test_Const),
					array('etiqueta1'=>'Nro. Testimonio de Modificaciones (Si existe):','etiqueta2'=> $datos_operador->Num_Test_Modi,'etiqueta3'=>$datos_observados->Num_Test_Modi),
					array('etiqueta1'=>'Fecha Testimonio de Modificaciones (Si existe):','etiqueta2'=> $datos_operador->Fecha_Test_Modi,'etiqueta3'=>$datos_observados->Fecha_Test_Modi),
					array('etiqueta1'=>'Nro. Testimonio de Estatutos:','etiqueta2'=> $datos_operador->Num_Test_Estatutos,'etiqueta3'=>$datos_observados->Num_Test_Estatutos),
					array('etiqueta1'=>'Fecha Testimonio de Estatutos:','etiqueta2'=> $datos_operador->Fecha_Test_Estatutos,'etiqueta3'=>$datos_observados->Fecha_Test_Estatutos),
					array('etiqueta1'=>'Certificado de Solvencia con el FISCO:','etiqueta2'=> $datos_operador->Cer_Sol_Fisco,'etiqueta3'=>$datos_observados->Cer_Sol_Fisco));
		}
		//----------------------Tipo Operador = 8----------------------	
		if ($datos_operador->TipoOperador == 8){
			$dato_2 = array(array('etiqueta1'=>'Nombre Propietario:','etiqueta2'=> $datos_operador->NomPropietario,'etiqueta3'=>$datos_observados->NomPropietario),
					array('etiqueta1'=>'C.I. Propietario:','etiqueta2'=> $datos_operador->CIPropietario,'etiqueta3'=>$datos_observados->CIPropietario),
					array('etiqueta1'=>'Nro. Registro FUNDEMPRESA:','etiqueta2'=> $datos_operador->NumRegFUNDEMPRESA,'etiqueta3'=>$datos_observados->NumRegFUNDEMPRESA),
					array('etiqueta1'=>'Fecha Registro FUNDEMPRESA:','etiqueta2'=> $datos_operador->FechaRegFUNDEMPRESA,'etiqueta3'=>$datos_observados->FechaRegFUNDEMPRESA),
					array('etiqueta1'=>'Certificado de Solvencia con el FISCO:','etiqueta2'=> $datos_operador->Cer_Sol_Fisco,'etiqueta3'=>$datos_observados->Cer_Sol_Fisco));
		}
		//----------------------Tipo Operador = 9----------------------
		if ($datos_operador->TipoOperador == 9){
			$dato_2 = array(array('etiqueta1'=>'Nombre Maximo Representante Sindicato:','etiqueta2'=> $datos_operador->NomRepSind,'etiqueta3'=>$datos_observados->NomRepSind),
					array('etiqueta1'=>'C.I. Maximo Representante Sindicato:','etiqueta2'=> $datos_operador->CIRepSind,'etiqueta3'=>$datos_observados->CIRepSind),
					array('etiqueta1'=>'Nro. Testimonio de Estatutos Internos y sus Modificaciones:','etiqueta2'=> $datos_operador->Num_Test_Estatutos,'etiqueta3'=>$datos_observados->Num_Test_Estatutos),
					array('etiqueta1'=>'Fecha Testimonio de Estatutos Internos:','etiqueta2'=> $datos_operador->Fecha_Test_Estatutos,'etiqueta3'=>$datos_observados->Fecha_Test_Estatutos),
					array('etiqueta1'=>'Nro. de Test. que acredita la Pers. Juridica:','etiqueta2'=> $datos_operador->NumDocAcred,'etiqueta3'=>$datos_observados->NumDocAcred),
					array('etiqueta1'=>'Fecha de Test. que acredita la Pers. Juridica:','etiqueta2'=> $datos_operador->FechaDocAcred,'etiqueta3'=>$datos_observados->FechaDocAcred),
					array('etiqueta1'=>'Certificado de Solvencia con el FISCO:','etiqueta2'=> $datos_operador->Cer_Sol_Fisco,'etiqueta3'=>$datos_observados->Cer_Sol_Fisco));
		}
		//----------------------Tipo Operador = 10----------------------
		if ($datos_operador->TipoOperador == 10){
			$dato_2 = array(array('etiqueta1'=>'Nro. de Decreto de Constitución de la Alcaldia:','etiqueta2'=> $datos_operador->Num_Decreto_Alcaldia,'etiqueta3'=>$datos_observados->Num_Decreto_Alcaldia),
					array('etiqueta1'=>'Fecha de Decreto de Constitución de la Alcaldia:','etiqueta2'=> $datos_operador->Fecha_Decreto_Alcaldia,'etiqueta3'=>$datos_observados->Fecha_Decreto_Alcaldia),
					array('etiqueta1'=>'Nro. de Resol. de nombramiento del actual Alcalde:','etiqueta2'=> $datos_operador->Num_Resol_Nom_Alcalde,'etiqueta3'=>$datos_observados->Num_Resol_Nom_Alcalde),
					array('etiqueta1'=>'Fecha de Resol. de nombramiento del actual Alcalde:','etiqueta2'=> $datos_operador->Fecha_Resol_Nom_Alcalde,'etiqueta3'=>$datos_observados->Fecha_Resol_Nom_Alcalde),
					array('etiqueta1'=>'Certificado de Solvencia con el FISCO:','etiqueta2'=> $datos_operador->Cer_Sol_Fisco,'etiqueta3'=>$datos_observados->Cer_Sol_Fisco));
		}
		//----------------------Tipo Operador = 11----------------------
		if ($datos_operador->TipoOperador == 11){
			$dato_2 = array(array('etiqueta1'=>'Nombre Maximo Representante Sindicato:','etiqueta2'=> $datos_operador->NomRepSind,'etiqueta3'=>$datos_observados->NomRepSind),
					array('etiqueta1'=>'C.I. Maximo Representante Sindicato:','etiqueta2'=> $datos_operador->CIRepSind,'etiqueta3'=>$datos_observados->CIRepSind));
		}
		//*************************************************************************************************************
		//*************************************************************************************************************
		$dato_3 = array(array('etiqueta1'=>'Certificado de Antecedentes Penales:','etiqueta2'=> $datos_operador->Cer_Ant_Penales,'etiqueta3'=>$datos_observados->Cer_Ant_Penales),
					array('etiqueta1'=>'Nro. Certificado Domiciliario:','etiqueta2'=> $datos_operador->NumCertifDom,'etiqueta3'=>$datos_observados->NumCertifDom),
					array('etiqueta1'=>'Fecha Certificado Domiciliario:','etiqueta2'=> $datos_operador->FechaCertifDom,'etiqueta3'=>$datos_observados->FechaCertifDom),
					array('etiqueta1'=>'Domicilio Legal Empresa:','etiqueta2'=> $datos_operador->DomLegal,'etiqueta3'=>$datos_observados->DomLegal),
					array('etiqueta1'=>'Pagina Web:','etiqueta2'=> $datos_operador->PagWeb,'etiqueta3'=>$datos_observados->PagWeb),
					array('etiqueta1'=>'E-mail:','etiqueta2'=> $datos_operador->Email,'etiqueta3'=>$datos_observados->Email),
					array('etiqueta1'=>'Casilla:','etiqueta2'=> $datos_operador->Casilla,'etiqueta3'=>$datos_observados->Casilla),
					array('etiqueta1'=>'Telefonos:','etiqueta2'=> $datos_operador->TelFij,'etiqueta3'=>$datos_observados->TelFij),
					array('etiqueta1'=>'Fax:','etiqueta2'=> $datos_operador->Fax,'etiqueta3'=>$datos_observados->Fax));
		if($datos_operador->TipoOperador == 1 || $datos_operador->TipoOperador == 2 || $datos_operador->TipoOperador == 3 || $datos_operador->TipoOperador == 4 || $datos_operador->TipoOperador == 5 || $datos_operador->TipoOperador == 6 || $datos_operador->TipoOperador == 7 || $datos_operador->TipoOperador == 9 || $datos_operador->TipoOperador == 10 || $datos_operador->TipoOperador == 11){
						$dato_4 = array(array('etiqueta1'=>'Domicilio Procesal Actual:','etiqueta2'=> $datos_operador->DomProcActual,'etiqueta3'=>$datos_observados->DomProcActual),
								array('etiqueta1'=>'Ciudad/Loc. Procesal:','etiqueta2'=> $ciudad_proce->Nombre_Ciudad,'etiqueta3'=>$datos_observados->CiudLocProcesal));
					}
					else{
						$dato_4 = array();
					}
		if($datos_operador->TipoOperador == 1 || $datos_operador->TipoOperador == 2 || $datos_operador->TipoOperador == 3 || $datos_operador->TipoOperador == 4 || $datos_operador->TipoOperador == 5 || $datos_operador->TipoOperador == 6 || $datos_operador->TipoOperador == 7 || $datos_operador->TipoOperador == 8){
						$dato_5 = array(array('etiqueta1'=>'Ciudad/Loc. Legal:','etiqueta2'=> $ciudad_leg->Nombre_Ciudad,'etiqueta3'=>$datos_observados->CiudLocLegal));
		}
		else{
			$dato_5 = array();
		}

		$dato = array_merge($dato_1,$dato_2,$dato_3,$dato_4,$dato_5);
		$this->cezpdf->ezTable($dato,array('etiqueta1'=>'<b>REFERENCIA</b>','etiqueta2'=>'<b>DESCRIPCION</b>','etiqueta3'=>'<b>OBSERVACIONES</b>'),'Datos Generales del Declarante - Tipo de Operador <b>'.$desc_tipo_ope.'</b>',array('showHeadings'=>1,'showBgCol'=>1,'fontSize' => 8, 'width'=>500,'cols'=> array('name'=>array('bgcolor'=>array(0.9,0.9,0.9)))));
		$this->cezpdf->selectFont('fonts/Helvetica.afm');
		$j=0;
		for ($i=0; $i < count($Id_Obser_Repre); $i++) { 
			$datos_observ_repre = $this->personModel->obt_observ_repre($Id_Obser_Repre[$i])->result();	
			foreach ($datos_observ_repre as $datos_observ_repres){
				$datos_representantes = $this->personModel->obt_representantes_legales($datos_observ_repres->Id_Repre_Legal)->row();
				$valor_obser_repre = array(array('etiqueta1'=>'Nombre Completo:','etiqueta2'=> $datos_representantes->Nombre_Completo,'etiqueta3'=>$datos_observ_repres->Nombre_Completo),
					array('etiqueta1'=>'C.I.:','etiqueta2'=> $datos_representantes->Ci_Repre_Legal,'etiqueta3'=>$datos_observ_repres->Ci_Repre_Legal),
					array('etiqueta1'=>'Nro. Testimonio Poder:','etiqueta2'=> $datos_representantes->Nro_Testimonio_Poder_Legal,'etiqueta3'=>$datos_observ_repres->Nro_Testimonio_Poder_Legal),
					array('etiqueta1'=>'Fecha Poder:','etiqueta2'=> $datos_representantes->Fecha_Poder_Legal,'etiqueta3'=>$datos_observ_repres->Fecha_Poder_Legal),
					array('etiqueta1'=>'Objeto Poder:','etiqueta2'=> $datos_representantes->Objeto_Poder_Legal,'etiqueta3'=>$datos_observ_repres->Objeto_Poder_Legal));						
			}
			$j=$i+1;
			$this->cezpdf->ezText("\n",10);
			$this->cezpdf->ezTable($valor_obser_repre,array('etiqueta1'=>'<b>REFERENCIA</b>','etiqueta2'=>'<b>DESCRIPCION</b>','etiqueta3'=>'<b>OBSERVACIONES</b>'),'Representante Legal Vigente '.$j,array('showHeadings'=>1,'showBgCol'=>0,'fontSize' => 8, 'width'=>500, 'shaded'=>1, 'cols'=> array('name'=>array('bgcolor'=>array(0.9,0.9,0.9)))));
		}
		//---------Footer
		$this->cezpdf->ezText("\n",10);
		$this->cezpdf->line(230,70,400,70);
		$this->cezpdf->addText(250,60,8,'Nombres y Apellidos del Responsable',0,0);
		$this->cezpdf->ezSetMargins(50,50,50,50);
		$this->cezpdf->ezStartPageNumbers(500,28,8,'','{PAGENUM}',1);
		$this->cezpdf->line(20,40,578,40);
		$this->cezpdf->ezStream();
	}

	function eliminar_repre($id,$tipo_de_ope){
		$this->personModel->eliminar_rep_legal($id);
		redirect('person/form_paso2/'.$tipo_de_ope,'refresh');
	}

	function eliminar_socio($id,$tipo_de_ope){
		$this->personModel->eliminar_socios($id);
		redirect('person/form_paso2/'.$tipo_de_ope,'refresh');
	}

	function eliminar_nomina($id,$tipo_de_ope){
		$this->personModel->eliminar_nominas($id);
		redirect('person/form_paso2/'.$tipo_de_ope,'refresh');
	}

	function _set_fields_usuarios(){
		$fields['id'] = 'id';
		$fields['ci_user'] = 'ci_user';
		$fields['usuario'] = 'usuario';
		$fields['password'] = 'password';
		$fields['email'] = 'email';
		$fields['nivel'] = 'nivel';
		$fields['tipo_operador'] = 'tipo_operador';

		$this->validation->set_fields($fields);
	}

	function _set_rules_usuarios(){
		$rules['tipo_operador'] = 'trim|required';

        $this->validation->set_rules($rules);
		$this->validation->set_message('required', '* required');
		$this->validation->set_message('isset', '* required');
		$this->validation->set_error_delimiters('<p class="error">', '</p>');
    }

    function _set_fields_paso2(){
		$fields['id'] = 'id';
		$fields['ci_user'] = 'ci_user';
		$fields['usuario'] = 'usuario';
		$fields['password'] = 'password';
		$fields['email'] = 'email';
		$fields['nivel'] = 'nivel';
		$fields['tipo_operador'] = 'tipo_operador';

		$this->validation->set_fields($fields);
	}

	function _set_rules_paso2(){
		$rules['tipo_operador'] = 'trim|required';

        $this->validation->set_rules($rules);
		$this->validation->set_message('required', '* required');
		$this->validation->set_message('isset', '* required');
		$this->validation->set_error_delimiters('<p class="error">', '</p>');
    }

    //---------------------------------------------------------------------------------
    //-----------------    Revision Previa    -----------------------------------------
    //---------------------------------------------------------------------------------
    function parte_tecnica(){
    	$usu = $this->session->userdata('usuario');
		$id_operador = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $id_operador;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;

		$data['action'] = site_url('person/parte_tecnica_paso_dos');// ion/'.$seccion_finds->cod_seccion

		$this->load->view('view_paso_uno', $data);
    }

    function parte_tecnica_paso_dos(){
    	$this->_set_fields_tec();
    	$usu = $this->session->userdata('usuario');
		$id_operador = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $id_operador;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/parte_tecnica_paso_tres');
		//$data['action1'] = site_url('person/parte_tecnica_paso_tres');
		//echo $this->input->post('modo');
		//$data['modo'] = $this->input->post('modo');
		//servicio
		$servicios  = $this->input->post('servicio');//num. de servicio
		$data['servicios'] = $servicios;


		//$grad_lat = $this->input->post('grad_lat'); ///
		//$data['grad_lat'] = $grad_lat;

		//echo $servicios;
		/*if($Tipo_Servicio==1 || $Tipo_Servicio==4 || $Tipo_Servicio==5 || $Tipo_Servicio==6 || $Tipo_Servicio==9 || $Tipo_Servicio==10 || $Tipo_Servicio==11 || $Tipo_Servicio==12 || $Tipo_Servicio==13 || $Tipo_Servicio==14 || $Tipo_Servicio==15 || $Tipo_Servicio==16){
			$data['Tipo_Plantilla']='plantilla_uno.xls';
		}
		if($Tipo_Servicio==3 || $Tipo_Servicio==7 || $Tipo_Servicio==8 || $Tipo_Servicio==17 || $Tipo_Servicio==18){
			$data['Tipo_Plantilla']='plantilla_dos.xls';
		}
		if($Tipo_Servicio==2){
			$data['Tipo_Plantilla']='plantilla_tres.xls';
		}*/

		//tabla (del id_operador ó id_trámite)
		$datos_tecnicos = $this->personModel->obt_dtec_tramite($id_operador)->result();
		$i=0;		
		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		$tmpl = array (
                    'table_open'          => '<table class="table table-bordered table-striped table_vam" id="dt_gal">',

                    'heading_row_start'   => '<thead>',
                    'heading_row_end'     => '</thead>',
                    'heading_cell_start'  => '<th>',
                    'heading_cell_end'    => '</th>',

                    'row_start'           => '<tr>',
                    'row_end'             => '</tr>',
                    'cell_start'          => '<td>',
                    'cell_end'            => '</td>',

                    'row_alt_start'       => '<tr>',
                    'row_alt_end'         => '</tr>',
                    'cell_alt_start'      => '<td>',
                    'cell_alt_end'        => '</td>',

                    'table_close'         => '</table>'
              );
		$this->table->set_template($tmpl);
	
		/*$this->table->set_heading('Nro','Nombre Estacion', 'Dirección Descriptiva', 'Tipo de Estación', 'Latitud, Longitud', 'Acciones');
		foreach ($datos_tecnicos as $datos_tecnico){
			$this->table->add_row(++$i,$datos_tecnico->Nombre_Estacion, $datos_tecnico->Dir_Descriptiva, $datos_tecnico->Tipo_Estacion, $datos_tecnico->Latitud.','.$datos_tecnico->Longitud, anchor('person/validar_paso2/','<i class="icon-pencil"></i>').' '.'<a href="javascript:void(0)" class="show_on_map btn btn-mini"><i class="icon-eye-open"></i></a>'.' '.anchor('person/validar_paso2/','<i class="icon-trash"></i>'));			
		}*/

		$this->table->set_heading('Nº','Nombre Estación', 'Dirección Descriptiva', 'Tipo de Estación', 'Latitud, Longitud','Frecuencia','Id Enlace', 'Acciones', 'Informe');
		foreach ($datos_tecnicos as $datos_tecnico){
			if($datos_tecnico->Tipo_Estacion == 'PUNTO_A_PUNTO'){ 
				$this->table->add_row(++$i,$datos_tecnico->Nombre_Estacion, $datos_tecnico->Dir_Descriptiva, $datos_tecnico->Tipo_Estacion, $datos_tecnico->Latitud.','.$datos_tecnico->Longitud,$datos_tecnico->Frec_Solicitadas.' '.$datos_tecnico->Unidades_Frec,'Enlace '.$datos_tecnico->Id_Enlace, anchor('person/validar_info_tec1/','<i class="icon-print"></i>').''.'<a href="javascript:void(0)" class="show_on_map btn btn-mini"><i class="icon-eye-open"></i></a>'.''.anchor('person/validar_paso2/','<i class="icon-trash"></i>'),anchor('person/generar_word/'.$datos_tecnico->Id_Estacion_Origen,'<i class="icon-pencil"></i>'));
			}
			else{
				$this->table->add_row(++$i,$datos_tecnico->Nombre_Estacion, $datos_tecnico->Dir_Descriptiva, $datos_tecnico->Tipo_Estacion, $datos_tecnico->Latitud.','.$datos_tecnico->Longitud,$datos_tecnico->Frec_Solicitadas.' '.$datos_tecnico->Unidades_Frec, ' ', anchor('person/validar_info_tec1/','<i class="icon-print"></i>').''.'<a href="javascript:void(0)" class="show_on_map btn btn-mini"><i class="icon-eye-open"></i></a>'.''.anchor('person/validar_paso2/','<i class="icon-trash"></i>'),anchor('person/generar_word/'.$datos_tecnico->Id_Estacion_Origen,'<i class="icon-pencil"></i>'));	
			}				
		}

		$data['table'] = $this->table->generate();

		$this->load->view('view_paso_dos', $data);
    }

    function parte_tecnica_paso_tres(){
    	$usu = $this->session->userdata('usuario');
		$id_operador = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $id_operador;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/parte_tecnica_paso_tres');
		//$data['action1'] = site_url('person/parte_tecnica_paso_tres');

		//servicio
		$servv = $this->input->post('ser');//num. de servicio
		//echo $this->input->post('ser');

		$data['servicio'] = $this->personModel->get_servicio();
		$data['Tipo_Servicio'] = $this->input->post('Tipo_Servicio');
		$Tipo_Servicio = $this->input->post('Tipo_Servicio');

		if($Tipo_Servicio==1 || $Tipo_Servicio==4 || $Tipo_Servicio==5 || $Tipo_Servicio==6 || $Tipo_Servicio==9 || $Tipo_Servicio==10 || $Tipo_Servicio==11 || $Tipo_Servicio==12 || $Tipo_Servicio==13 || $Tipo_Servicio==14 || $Tipo_Servicio==15 || $Tipo_Servicio==16){
			$data['Tipo_Plantilla']='plantilla_uno.xls';
		}
		if($Tipo_Servicio==3 || $Tipo_Servicio==7 || $Tipo_Servicio==8 || $Tipo_Servicio==17 || $Tipo_Servicio==18){
			$data['Tipo_Plantilla']='plantilla_dos.xls';
		}
		if($Tipo_Servicio==2){
			$data['Tipo_Plantilla']='plantilla_tres.xls';
		}
			/////   --------PARA LAS UNIDADES num_moviles			////
		$ult_id = $this->personModel->obt_last_id();
		//echo "$ult_id";
		$var_Id_Tramite = 0;
		if ($ult_id->Id_Tramite != "" || $ult_id->Id_Tramite != 0){
			$var_Id_Tramite = $ult_id->Id_Tramite + 1;
		}
		else{
			$var_Id_Tramite = 1;
		}
		//------------Unidades Moviles
		////$var_Id_Tramite = $id_operador;			////con esto si funcionaba pero no añade num moviles
		$num_moviles = $this->personModel->existe_tramite($var_Id_Tramite)->row();//Convertir a entero y analizar
		if($num_moviles!=0 || $num_moviles!=""){
			$datos_moviles = array('Cantidad'=> $this->input->post('Cantidad'),
									'Id_Tramite'=> $var_Id_Tramite
																	);
			$this->personModel->add_unidades_mov($datos_moviles);
		}
			////
		//---------------
		//$var_solicitud=0;
			//---Para estación origen
			$vector_Nom_Estacion  = $this->input->post('new_Nom_Estacion');
			$vector_Dir_Descriptiva = $this->input->post('new_Dir_Descriptiva');
			$vector_Tipo_Estacion = $this->input->post('new_Tipo_Estacion');
			$vector_LatLong = $this->input->post('new_LatLong');
			$vector_Elevacion = $this->input->post('new_Elevacion');			
			$vector_Frec_Solicitadas = $this->input->post('new_Frec_Solicitadas');
			$vector_Unid_Frec_Sol = $this->input->post('new_Unid_Frec_Sol');
			$vector_Ancho_Banda_Solicitado = $this->input->post('new_AB_Solicitado');
			$vector_Unid_AB_Sol = $this->input->post('new_Unid_AB_Sol');
			$vector_BF = $this->input->post('new_BF');
			$vector_Desc_Emisiones = $this->input->post('new_Descrip_Emisiones');
			$vector_Potencia_Nominal = $this->input->post('new_Potencia_Nominal');
			$vector_Unidades_Pot_Nominal = $this->input->post('new_Unidades_Pot_Nominal');
			$vector_Potencia_Radiada = $this->input->post('new_Potencia_Radiada');
			$vector_Unidades_Pot_Radiada = $this->input->post('new_Unidades_Pot_Radiada');
			$vector_Tipo_Torre = $this->input->post('new_Tipo_Torre');
			$vector_Altura_Torre = $this->input->post('new_Altura_Torre');
			$vector_Altura_Edificacion = $this->input->post('new_Altura_Edificacion');
			$vector_Altura_Antena = $this->input->post('new_Altura_Antena');
			$vector_Tipo_Antena = $this->input->post('new_Tipo_Antena');
			$vector_Tipo_Polarizacion = $this->input->post('new_Tipo_Polarizacion');
			$vector_Diagrama_Irradiacion = $this->input->post('new_Diagrama_Irradiacion');			
			$vector_Desc_Sist_Proteccion = $this->input->post('new_Desc_Sist_Proteccion');
			$vector_Radio_Cobertura = $this->input->post('new_Radio_Cobertura');
			$vector_Radio_Interferencia = $this->input->post('new_Radio_Interferencia');
			$vector_Ganancia_Antena = $this->input->post('new_Ganancia_Antena');
			$vector_Unidades_Gan_Antena = $this->input->post('new_Unidades_Gan_Antena');
			$vector_Catalogo_Equipos = $this->input->post('new_Catalogo_Equipos');
			$vector_EstudioTec = $this->input->post('new_Estudio_Tec');
			$vector_Servicio = $this->input->post('new_Servicio');

			//---Para estación destino---//
			$vector_Nom_Estacion_Dest  = $this->input->post('new_Nom_Estacion_Dest');
			$vector_Dir_Descriptiva_Dest = $this->input->post('new_Dir_Descriptiva_Dest');
				//$vector_Tipo_Estacion = $this->input->post('new_Tipo_Estacion');
			$vector_LatLongDest = $this->input->post('new_LatLongDest');
			$vector_Elevacion_Dest = $this->input->post('new_Elevacion_Dest');
			$vector_Frec_Solicitadas_Dest = $this->input->post('new_Frec_Solicitadas_Dest');
			$vector_Unid_Frec_Sol_Dest = $this->input->post('new_Unid_Frec_Sol_Dest');
			$vector_Ancho_Banda_Solicitado_Dest = $this->input->post('new_Ancho_Banda_Solicitado_Dest');
			$vector_Unid_AB_Sol_Dest = $this->input->post('new_Unid_AB_Sol_Dest');
			$vector_BF_Dest = $this->input->post('new_BF_Dest');
			$vector_Desc_Emisiones_Dest = $this->input->post('new_Desc_Emisiones_Dest');
			$vector_Potencia_Nominal_Dest = $this->input->post('new_Potencia_Nominal_Dest');
			$vector_Unidades_Pot_Nominal_Dest = $this->input->post('new_Unidades_Pot_Nominal_Dest');
			$vector_Potencia_Radiada_Dest = $this->input->post('new_Potencia_Radiada_Dest');
			$vector_Unidades_Pot_Radiada_Dest = $this->input->post('new_Unidades_Pot_Radiada_Dest');
			$vector_Tipo_Torre_Dest = $this->input->post('new_Tipo_Torre_Dest');
			$vector_Altura_Torre_Dest = $this->input->post('new_Altura_Torre_Dest');
			$vector_Altura_Edificacion_Dest = $this->input->post('new_Altura_Edificacion_Dest');
			$vector_Altura_Antena_Dest = $this->input->post('new_Altura_Antena_Dest');
			$vector_Tipo_Antena_Dest = $this->input->post('new_Tipo_Antena_Dest');
			$vector_Tipo_Polarizacion_Dest = $this->input->post('new_Tipo_Polarizacion_Dest');
			$vector_Diagrama_Irradiacion_Dest = $this->input->post('new_Diagrama_Irradiacion_Dest');			
			$vector_Desc_Sist_Proteccion_Dest = $this->input->post('new_Desc_Sist_Proteccion_Dest');
			$vector_Radio_Cobertura_Dest = $this->input->post('new_Radio_Cobertura_Dest');
			$vector_Radio_Interferencia_Dest = $this->input->post('new_Radio_Interferencia_Dest');
			$vector_Ganancia_Antena_Dest = $this->input->post('new_Ganancia_Antena_Dest');
			$vector_Unidades_Gan_Antena_Dest = $this->input->post('new_Unidades_Gan_Antena_Dest');
			$vector_Catalogo_Equipos_Dest = $this->input->post('new_Catalogo_Equipos_Dest');
			$vector_EstudioTec_Dest= $this->input->post('new_EstudioTec_Dest');

								//// para coordenadas
			$vector_grad_lat = $this->input->post('new_grad_lat');//new_grad_lat
			$vector_min_lat = $this->input->post('new_min_lat');
			$vector_seg_lat = $this->input->post('new_seg_lat');
			$vector_grad_lon = $this->input->post('new_grad_lon');
			$vector_min_lon = $this->input->post('new_min_lon');
			$vector_seg_lon = $this->input->post('new_seg_lon');

			$vector_grad_lat_d = $this->input->post('new_grad_lat_d');//new_grad_lat
			$vector_min_lat_d = $this->input->post('new_min_lat_d');
			$vector_seg_lat_d = $this->input->post('new_seg_lat_d');
			$vector_grad_lon_d = $this->input->post('new_grad_lon_d');
			$vector_min_lon_d = $this->input->post('new_min_lon_d');
			$vector_seg_lon_d = $this->input->post('new_seg_lon_d');


			//$abc=count($vector_Tipo_Estacion);
			//echo $abc;
			//echo $vector_Tipo_Estacion[0]; //PUNTO_A_PUNTO, PRINCIPAL
			$tip_estac_ult_pap=$vector_Tipo_Estacion[0];
			if ($tip_estac_ult_pap=='PUNTO_A_PUNTO'){
				$tipoestult = $this->personModel->get_last_tipoestacion($tip_estac_ult_pap);
				$cnt=$tipoestult->Id_Enlace+1;
				//echo $cnt;//ult_tipoest
			}
			//---
			$ultima_id_est_origen = $this->personModel->obt_ultima_id_est_origen();//ultima_fila
			$ulti_id_est_orig = $ultima_id_est_origen->Id_Estacion_Origen;//num de ult id est orig
			//echo $ulti_id_est_orig;
			if($ulti_id_est_orig!=''){
				$Id_Orig=$ulti_id_est_orig+1;
			}
			else{
				$Id_Orig=1;
			}
			//---

			//$grad_lat = $this->input->post('grad_lat'); ///
			//$data['grad_lat'] = $grad_lat;
			//echo($grad_lat);


			$servicios  = $this->input->post('servicio');//num. de servicio $servv = $this->input->post('ser');//num. de servicio
			$data['servicios'] = $servicios;

			for ($i=0; $i<count($vector_LatLong); $i++) {
				if($vector_LatLong[$i]!='' && $vector_LatLongDest[$i]!=''){
					
					$LatLong = explode(',',$vector_LatLong[$i]); 
					$vector_Lat = $LatLong[0];
					$vector_Long = $LatLong[1];
					$LatLongDest = explode(',',$vector_LatLongDest[$i]); 
					$vector_LatDest = $LatLongDest[0];
					$vector_LongDest = $LatLongDest[1];

					$datos_estaciones = array('Id_Estacion_Origen'=>$Id_Orig,
											'Nombre_Estacion'=> $vector_Nom_Estacion[$i],
											'Dir_Descriptiva' => $vector_Dir_Descriptiva[$i],
											'Tipo_Estacion' => $vector_Tipo_Estacion[$i],
											'Latitud' => $vector_Lat,//
											'Grad_Lat' =>  $vector_grad_lat[$i],	////
											'Min_Lat' =>  $vector_min_lat[$i],
											'Seg_Lat' =>  $vector_seg_lat[$i],
											'Longitud' => $vector_Long,//											
											'Grad_Long' =>  $vector_grad_lon[$i],
											'Min_Long' =>  $vector_min_lon[$i],
											'Seg_Long' =>  $vector_seg_lon[$i],
											'Elevacion' => $vector_Elevacion[$i],
											'Frec_Solicitadas' => $vector_Frec_Solicitadas[$i],
											'Unidades_Frec' => $vector_Unid_Frec_Sol[$i],
											'Ancho_Banda' => $vector_Ancho_Banda_Solicitado[$i],
											'Unidades_Ab' => $vector_Unid_AB_Sol[$i],
											'Banda_Frec' => $vector_BF[$i],
											'Desc_Emisiones' => $vector_Desc_Emisiones[$i],
											'Potencia_Nominal' => $vector_Potencia_Nominal[$i],
											'Unidades_Pot_Nominal' => $vector_Unidades_Pot_Nominal[$i],
											'Potencia_Radiada' => $vector_Potencia_Radiada[$i],
											'Unidades_Pot_Radiada' => $vector_Unidades_Pot_Radiada[$i],
											'Tipo_Torre' => $vector_Tipo_Torre[$i],
											'Altura_Torre' => $vector_Altura_Torre[$i],
											'Altura_Edificacion' => $vector_Altura_Edificacion[$i],
											'Altura_Antena' => $vector_Altura_Antena[$i],
											'Tipo_Antena' => $vector_Tipo_Antena[$i],
											'Tipo_Polarizacion' => $vector_Tipo_Polarizacion[$i],
											'Diagrama_Irradiacion' => $vector_Diagrama_Irradiacion[$i],
											'Desc_Sist_Proteccion' => $vector_Desc_Sist_Proteccion[$i],
											'Radio_Cobertura' => $vector_Radio_Cobertura[$i],
											'Radio_Interferencia' => $vector_Radio_Interferencia[$i],
											//'Num_Unidades_Mov' => $,
											'Ganancia_Antena' => $vector_Ganancia_Antena[$i],
											'Unidades_Gan_Antena' => $vector_Unidades_Gan_Antena[$i],
											'Catalogo_Equipos' => $vector_Catalogo_Equipos[$i],
											'Estudio_Tecnico' => $vector_EstudioTec[$i],
											//'Tipo_Servicio' => $vector_Servicio[$i],

											//---destino----------------------------------
											'Id_Estacion_Destino' =>$ulti_id_est_orig+2,
											'Nombre_Estacion_Dest' =>$vector_Nom_Estacion_Dest[$i],
											'Tipo_Estacion_Dest' =>$vector_Tipo_Estacion[$i],
											'Latitud_Dest' =>$vector_LatDest,//
											'Grad_Lat_Dest' =>$vector_grad_lat_d[$i],
											'Min_Lat_Dest' =>$vector_min_lat_d[$i],
											'Seg_Lat_Dest' =>$vector_seg_lat_d[$i],
											'Longitud_Dest' =>$vector_LongDest,//
											'Grad_Long_Dest' =>$vector_grad_lon_d[$i],
											'Min_Long_Dest' =>$vector_min_lon_d[$i],
											'Seg_Long_Dest' =>$vector_seg_lon_d[$i],
											'Elevacion_Dest' => $vector_Elevacion_Dest[$i],
											//'Tipo_Servicio' =>$,
											'Tipo_Servicio' => $servv,
											//---
											'Id_Tramite' => $var_Id_Tramite,
											'Id_Enlace'=> $cnt,
											//'Id_Solicitud'=>$var_solicitud

											'Id_Operador' => $id_operador
																				);
					$Id_Estacion = $this->personModel->add_datos_tecnicos($datos_estaciones);

					$estaciones = $this->personModel->obt_dato_tecnico($Id_Estacion)->result();
					foreach ($estaciones as $a) {
						$dataset[] = array($a->Latitud, $a->Longitud);
						$nombres[] = array($a->Dir_Descriptiva);
					}
					//$data['dataset'] = $dataset;
					//$data['nombres'] = $nombres;
					//---
				}
			//---			Registra estacion Principal o Adicional			---//
				elseif ($vector_LatLong[$i]!='')
					{//|| $vector_LatLongDest[$i]!=''
					$LatLong = explode(',',$vector_LatLong[$i]); 
					$vector_Lat = $LatLong[0];
					$vector_Long = $LatLong[1];
					if($vector_LatLongDest[$i]!=''){
					$LatLongDest = explode(',',$vector_LatLongDest[$i]); 
					$vector_LatDest = $LatLongDest[0];
					$vector_LongDest = $LatLongDest[1];}
					//echo $vector_Lat;
					//echo $vector_Tipo_Estacion[0];
					if ($tip_estac_ult_pap=='PRINCIPAL'){
					$datos_estaciones = array(
											'Id_Estacion_Origen'=>$Id_Orig,
											'Nombre_Estacion'=> $vector_Nom_Estacion[$i],
											'Dir_Descriptiva' => $vector_Dir_Descriptiva[$i],
											'Tipo_Estacion' => $vector_Tipo_Estacion[$i],
											'Latitud' => $vector_Lat,//
											'Grad_Lat' =>  $vector_grad_lat[$i],
											'Min_Lat' =>  $vector_min_lat[$i],
											'Seg_Lat' =>  $vector_seg_lat[$i],
											'Longitud' => $vector_Long,//
											'Grad_Long' =>  $vector_grad_lon[$i],
											'Min_Long' =>  $vector_min_lon[$i],
											'Seg_Long' =>  $vector_seg_lon[$i],											
											'Elevacion' => $vector_Elevacion[$i],
											'Frec_Solicitadas' => $vector_Frec_Solicitadas[$i],
											'Unidades_Frec' => $vector_Unid_Frec_Sol[$i],
											'Ancho_Banda' => $vector_Ancho_Banda_Solicitado[$i],
											'Unidades_Ab' => $vector_Unid_AB_Sol[$i],
											'Banda_Frec' => $vector_BF[$i],
											'Desc_Emisiones' => $vector_Desc_Emisiones[$i],
											'Potencia_Nominal' => $vector_Potencia_Nominal[$i],
											'Unidades_Pot_Nominal' => $vector_Unidades_Pot_Nominal[$i],
											'Potencia_Radiada' => $vector_Potencia_Radiada[$i],
											'Unidades_Pot_Radiada' => $vector_Unidades_Pot_Radiada[$i],
											'Tipo_Torre' => $vector_Tipo_Torre[$i],
											'Altura_Torre' => $vector_Altura_Torre[$i],
											'Altura_Edificacion' => $vector_Altura_Edificacion[$i],
											'Altura_Antena' => $vector_Altura_Antena[$i],
											'Tipo_Antena' => $vector_Tipo_Antena[$i],
											'Tipo_Polarizacion' => $vector_Tipo_Polarizacion[$i],
											'Diagrama_Irradiacion' => $vector_Diagrama_Irradiacion[$i],
											'Desc_Sist_Proteccion' => $vector_Desc_Sist_Proteccion[$i],
											'Radio_Cobertura' => $vector_Radio_Cobertura[$i],
											'Radio_Interferencia' => $vector_Radio_Interferencia[$i],
											//'Num_Unidades_Mov' => $,
											'Ganancia_Antena' => $vector_Ganancia_Antena[$i],
											'Unidades_Gan_Antena' => $vector_Unidades_Gan_Antena[$i],
											'Catalogo_Equipos' => $vector_Catalogo_Equipos[$i],
											'Estudio_Tecnico' => $vector_EstudioTec[$i],
											'Tipo_Servicio' => $servv,
											'Id_Tramite' => $var_Id_Tramite,

											'Id_Operador' => $id_operador
																				);
					}
					elseif($tip_estac_ult_pap=='ADICIONAL'){//tip_estac_ult_pap, tipo de estacion
					$datos_estaciones = array(
											'Id_Estacion_Origen'=>$Id_Orig,
											'Nombre_Estacion'=> $vector_Nom_Estacion[$i],
											'Dir_Descriptiva' => $vector_Dir_Descriptiva[$i],
											'Tipo_Estacion' => $vector_Tipo_Estacion[$i],
											'Latitud' => $vector_Lat,//
											'Grad_Lat' =>  $vector_grad_lat[$i],
											'Min_Lat' =>  $vector_min_lat[$i],
											'Seg_Lat' =>  $vector_seg_lat[$i],
											'Longitud' => $vector_Long,//
											'Grad_Long' =>  $vector_grad_lon[$i],
											'Min_Long' =>  $vector_min_lon[$i],
											'Seg_Long' =>  $vector_seg_lon[$i],											
											'Elevacion' => $vector_Elevacion[$i],
											'Tipo_Servicio' => $servv,
											'Id_Tramite' => $var_Id_Tramite,

											'Id_Operador' => $id_operador
																				);
					}
					$Id_Estacion = $this->personModel->add_datos_tecnicos($datos_estaciones);


					$estaciones = $this->personModel->obt_dato_tecnico($Id_Estacion)->result();
					foreach ($estaciones as $a) {
						$dataset[] = array($a->Latitud, $a->Longitud);
						$nombres[] = array($a->Dir_Descriptiva);
					}
					//$data['dataset'] = $dataset;
					//$data['nombres'] = $nombres;
					//---
					$Id_Orig=$Id_Orig+1;	//agrega mas de una estacion Princ o Adi

				}
//---

				if ($vector_LatLongDest[$i]!=''){
					$datos_estaciones_dest = array('Id_Estacion_Origen'=>$Id_Orig+1,
											'Nombre_Estacion'=> $vector_Nom_Estacion_Dest[$i],
											'Dir_Descriptiva' => $vector_Dir_Descriptiva_Dest[$i],
											'Tipo_Estacion' => $vector_Tipo_Estacion[$i],
											'Latitud' => $vector_LatDest,																	
											'Grad_Lat' =>  $vector_grad_lat_d[$i],
											'Min_Lat' =>  $vector_min_lat_d[$i],
											'Seg_Lat' =>  $vector_seg_lat_d[$i],
											'Longitud' => $vector_LongDest,	
											'Grad_Long' =>  $vector_grad_lon_d[$i],
											'Min_Long' =>  $vector_min_lon_d[$i],
											'Seg_Long' =>  $vector_seg_lon_d[$i],	

											'Elevacion' => $vector_Elevacion_Dest[$i],
											'Frec_Solicitadas' => $vector_Frec_Solicitadas_Dest[$i],
											'Unidades_Frec' => $vector_Unid_Frec_Sol_Dest[$i],
											'Ancho_Banda' => $vector_Ancho_Banda_Solicitado_Dest[$i],
											'Unidades_Ab' => $vector_Unid_AB_Sol_Dest[$i],
											'Banda_Frec' => $vector_BF_Dest[$i],
											'Desc_Emisiones' => $vector_Desc_Emisiones_Dest[$i],
											'Potencia_Nominal' => $vector_Potencia_Nominal_Dest[$i],
											'Unidades_Pot_Nominal' => $vector_Unidades_Pot_Nominal_Dest[$i],
											'Potencia_Radiada' => $vector_Potencia_Radiada_Dest[$i],
											'Unidades_Pot_Radiada' => $vector_Unidades_Pot_Radiada_Dest[$i],
											'Tipo_Torre' => $vector_Tipo_Torre_Dest[$i],
											'Altura_Torre' => $vector_Altura_Torre_Dest[$i],
											'Altura_Edificacion' => $vector_Altura_Edificacion_Dest[$i],
											'Altura_Antena' => $vector_Altura_Antena_Dest[$i],
											'Tipo_Antena' => $vector_Tipo_Antena_Dest[$i],
											'Tipo_Polarizacion' => $vector_Tipo_Polarizacion_Dest[$i],
											'Diagrama_Irradiacion' => $vector_Diagrama_Irradiacion_Dest[$i],
											'Desc_Sist_Proteccion' => $vector_Desc_Sist_Proteccion_Dest[$i],
											'Radio_Cobertura' => $vector_Radio_Cobertura_Dest[$i],
											'Radio_Interferencia' => $vector_Radio_Interferencia_Dest[$i],
											//'Num_Unidades_Mov' => $,
											'Ganancia_Antena' => $vector_Ganancia_Antena_Dest[$i],
											'Unidades_Gan_Antena' => $vector_Unidades_Gan_Antena_Dest[$i],
											'Catalogo_Equipos' => $vector_Catalogo_Equipos_Dest[$i],
											'Estudio_Tecnico' => $vector_EstudioTec_Dest[$i],
											//---destino----------------------------------
											'Id_Estacion_Destino' =>$ulti_id_est_orig+1,
											'Nombre_Estacion_Dest' =>$vector_Nom_Estacion[$i],
											'Tipo_Estacion_Dest' =>$vector_Tipo_Estacion[$i],
											'Latitud_Dest' =>$vector_Lat,//						
											'Grad_Lat_Dest' =>$vector_grad_lat[$i],
											'Min_Lat_Dest' =>$vector_min_lat[$i],
											'Seg_Lat_Dest' =>$vector_seg_lat[$i],
											'Longitud_Dest' =>$vector_Long,//
											'Grad_Long_Dest' =>$vector_grad_lon[$i],
											'Min_Long_Dest' =>$vector_min_lon[$i],
											'Seg_Long_Dest' =>$vector_seg_lon[$i],

											'Elevacion_Dest' => $vector_Elevacion[$i],	
											//'Tipo_Servicio' =>$,
											'Tipo_Servicio' => $servv,
											//---
											'Id_Tramite' => $var_Id_Tramite,
											'Id_Enlace'=> $cnt,
											//'Id_Solicitud'=>$var_solicitud

											'Id_Operador' => $id_operador
																		);
					$Id_Estacion = $this->personModel->add_datos_tecnicos_dest($datos_estaciones_dest);

					$estaciones = $this->personModel->obt_dato_tecnico($Id_Estacion)->result();
					foreach ($estaciones as $a) {
						$dataset[] = array($a->Latitud, $a->Longitud);
						$nombres[] = array($a->Dir_Descriptiva);
					}
					//$data['dataset'] = $dataset; //ver dataset de arriba
					//$data['nombres'] = $nombres;
					}

			}

			/*for ($i=0; $i<count($vector_LatLongDest); $i++) {	
				if($vector_LatLongDest[$i]!=''){
					$vector_LatLongDest = explode(',',$vector_LatLongDest[$i]); 
					$vector_Lat_Dest = $LatLongDest[0];
					$vector_Long_Dest = $LatLongDest[1];

					$datos_estaciones_dest = array('Nombre_Estacion'=> $vector_Nom_Estacion_Dest[$i],
											'Latitud' => $vector_Lat,
											'Longitud' => $vector_Long,
											'Dir_Descriptiva' => $vector_Dir_Descriptiva[$i],
											'Tipo_Estacion' => $vector_Tipo_Estacion[$i],
											'Elevacion' => $vector_Elevacion[$i],											
											'Estudio_Tecnico' => $vector_EstudioTec[$i],
											'Frec_Solicitadas' => $vector_Frec_Solicitadas[$i],
											'Unidades_Frec' => $vector_Unid_Frec_Sol[$i],
											'Ancho_Banda' => $vector_Ancho_Banda_Solicitado[$i],
											'Unidades_Ab' => $vector_Unid_AB_Sol[$i],
											'Id_Tramite' => $var_Id_Tramite);
					$Id_Estacion = $this->personModel->add_datos_tecnicos($datos_estaciones_dest);

					$estaciones = $this->personModel->obt_dato_tecnico($Id_Estacion)->result();
					foreach ($estaciones as $a) {
						$dataset[] = array($a->Latitud, $a->Longitud);
						$nombres[] = array($a->Dir_Descriptiva);
					}
					$data['dataset'] = $dataset;
					$data['nombres'] = $nombres;
				}
			}*/

		//tabla
		$datos_tecnicos = $this->personModel->obt_dtec_tramite($id_operador)->result();//obt_dtec_tramite($var_Id_Tramite)
		$i=0;		
		$this->load->library('table');
		$this->table->set_empty("&nbsp;");

		$tmpl = array (
                    'table_open'          => '<table class="table table-bordered table-striped table_vam" id="dt_gal">',

                    'heading_row_start'   => '<thead>',
                    'heading_row_end'     => '</thead>',
                    'heading_cell_start'  => '<th>',
                    'heading_cell_end'    => '</th>',

                    'row_start'           => '<tr>',
                    'row_end'             => '</tr>',
                    'cell_start'          => '<td>',
                    'cell_end'            => '</td>',

                    'row_alt_start'       => '<tr>',
                    'row_alt_end'         => '</tr>',
                    'cell_alt_start'      => '<td>',
                    'cell_alt_end'        => '</td>',

                    'table_close'         => '</table>'
              );
		$this->table->set_template($tmpl);

		//---
		$this->table->set_heading('Nº','Nombre Estación', 'Dirección Descriptiva', 'Tipo de Estación', 'Latitud, Longitud','Frecuencia','Id Enlace', 'Acciones', 'Informe');
		foreach ($datos_tecnicos as $datos_tecnico){
			if($datos_tecnico->Tipo_Estacion == 'PUNTO_A_PUNTO'){ 
				$this->table->add_row(++$i,$datos_tecnico->Nombre_Estacion, $datos_tecnico->Dir_Descriptiva, $datos_tecnico->Tipo_Estacion, $datos_tecnico->Latitud.','.$datos_tecnico->Longitud,$datos_tecnico->Frec_Solicitadas.' '.$datos_tecnico->Unidades_Frec,'Enlace '.$datos_tecnico->Id_Enlace, anchor('person/validar_paso2_tec_prev/'.$datos_tecnico->Id_Estacion_Origen,'<i class="icon-print"></i>').''.'<a href="javascript:void(0)" class="show_on_map btn btn-mini"><i class="icon-eye-open"></i></a>'.''.anchor('person/validar_paso2/','<i class="icon-trash"></i>'),anchor('person/generar_word/'.$datos_tecnico->Id_Estacion_Origen,'<i class="icon-pencil"></i>'));
			}
			else{
				$this->table->add_row(++$i,$datos_tecnico->Nombre_Estacion, $datos_tecnico->Dir_Descriptiva, $datos_tecnico->Tipo_Estacion, $datos_tecnico->Latitud.','.$datos_tecnico->Longitud,$datos_tecnico->Frec_Solicitadas.' '.$datos_tecnico->Unidades_Frec,'', anchor('person/validar_paso2_tec_prev/'.$datos_tecnico->Id_Estacion_Origen,'<i class="icon-print"></i>').''.'<a href="javascript:void(0)" class="show_on_map btn btn-mini"><i class="icon-eye-open"></i></a>'.''.anchor('person/validar_paso2/','<i class="icon-trash"></i>'),anchor('person/generar_word/'.$datos_tecnico->Id_Estacion_Origen,'<i class="icon-pencil"></i>'));	
			}				
		}

		$data['table'] = $this->table->generate();

		/*$datos_tecnicos = array('Nombre_Estacion' => $this->input->post('Nombre_Estacion'),
							'Dir_Descriptiva' => $this->input->post('Dir_Descriptiva'),
							'Tipo_Estacion' => $this->input->post('Tipo_Estacion'),
							'Latitud' => $this->input->post('Latitud'),
							'Longitud' => $this->input->post('Longitud'),
							'Elevacion' => $this->input->post('Elevacion'),
							'Frec_Solicitadas' => $this->input->post('Frec_Solicitadas'),
							'Unidades_Frec' => $this->input->post('Unidades_Frec'),
							'Ancho_Banda' => $this->input->post('Ancho_Banda'),
							'Unidades_Ab' => $this->input->post('Unidades_Ab'),
							'Banda_Frec' => $this->input->post('Banda_Frec'),
							'Desc_Emisiones' => $this->input->post('Desc_Emisiones'),
							'Potencia_Nominal' => $this->input->post('Potencia_Nominal'),
							'Potencia_Radiada' => $this->input->post('Potencia_Radiada'),
							'Tipo_Torre' => $this->input->post('Tipo_Torre'),
							'Altura_Torre' => $this->input->post('Altura_Torre'),
							'Tipo_Antena' => $this->input->post('Tipo_Antena'),
							'Tipo_Polarizacion' => $this->input->post('Tipo_Polarizacion'),
							'Diagrama_Irradiacion' => $this->input->post('Diagrama_Irradiacion'),
							'Desc_Sist_Proteccion' => $this->input->post('Desc_Sist_Proteccion'),
							'Calculo_Area' => $this->input->post('Calculo_Area'),
							'Calculo_Interferencia' => $this->input->post('Calculo_Interferencia'),
							'Num_Unidades_Mov' => $this->input->post('Num_Unidades_Mov'),
							'Catalogo_Esquipos' => $this->input->post('Catalogo_Esquipos'),
							'Estudio_Tecnico' => $this->input->post('Estudio_Tecnico'),
							'Id_Tramite' => $var_Id_Tramite);
		$Id_Estacion = $this->personModel->add_datos_tecnicos($datos_tecnicos);*/

		/*$dato_tecnico = $this->personModel->obt_dato_tecnico($Id_Estacion)->row();
		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		$this->table->add_row('<span class="blue">Nombre de la Estación:</span>', $dato_tecnico->Nombre_Estacion,'<span class="blue">Dirección Descriptiva</span>',$dato_tecnico->Dir_Descriptiva);
		$this->table->add_row('<span class="blue">Tipo de Estación</span>', $dato_tecnico->Tipo_Estacion,'<span class="blue">Elevación</span>',$dato_tecnico->Elevacion);
		$this->table->add_row('<span class="blue">Coordenadas Latitud</span>', $dato_tecnico->Latitud,'<span class="blue">Coordenadas Longitud</span>', $dato_tecnico->Longitud);
		$this->table->add_row('<span class="blue">Frecuencias Solicitadas</span>', $dato_tecnico->Frec_Solicitadas,'<span class="blue">Ancho de banda solicitado</span>',$dato_tecnico->Ancho_Banda);
		$this->table->add_row('<span class="blue">Banda de Frecuencia</span>', $dato_tecnico->Banda_Frec,'<span class="blue">Descripción de emisiones</span>',$dato_tecnico->Desc_Emisiones);
		$this->table->add_row('<span class="blue">Potencia Nominal</span>', $dato_tecnico->Potencia_Nominal,'<span class="blue">Potencia Radiada Efectiva</span>',$dato_tecnico->Potencia_Radiada);
		$this->table->add_row('<span class="blue">Tipo de Torre</span>', $dato_tecnico->Tipo_Torre,'<span class="blue">Altura de la Torre</span>',$dato_tecnico->Altura_Torre);
		$this->table->add_row('<span class="blue">Altura de la Edificación</span>', $dato_tecnico->Altura_Edificacion,'<span class="blue">Altura de la Antena sobre la base de la torre</span>',$dato_tecnico->Altura_Antena);
		$this->table->add_row('<span class="blue">Tipo de Antena</span>', $dato_tecnico->Tipo_Antena,'<span class="blue">Tipo de Polarización</span>',$dato_tecnico->Tipo_Polarizacion);
		$this->table->add_row('<span class="blue">Diagrama de Irradiación</span>', $dato_tecnico->Diagrama_Irradiacion,'<span class="blue">Descripción del Sistema de Protección</span>',$dato_tecnico->Desc_Sist_Proteccion);
		$this->table->add_row('<span class="blue">Cálculo del área de cobertura</span>', $dato_tecnico->Calculo_Area,'<span class="blue">Cálculo de Interferencia</span>',$dato_tecnico->Calculo_Interferencia);
		$this->table->add_row('<span class="blue">Número de unidades móviles</span>', $dato_tecnico->Num_Unidades_Mov,'<span class="blue">Catálogo de Equipos</span>',$dato_tecnico->Catalogo_Esquipos);
		$this->table->add_row('<span class="blue">Estudio Técnico sobre límites de exposición</span>', $dato_tecnico->Estudio_Tecnico,'','');
		$data['table'] = $this->table->generate();*/

		$this->load->view('view_paso_tres', $data);
    }

    function read_excel(){
    	$usu = $this->session->userdata('usuario');
		$id_operador = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $id_operador;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/read_excel');

		$data['table'] = '';
		$data['Tipo_Plantilla'] = '';
		$data['Tipo_Servicio'] = '';

		$ult_id = $this->personModel->obt_last_id();
		$var_Id_Tramite = 0;
		if ($ult_id->Id_Tramite == ""){
			$var_Id_Tramite = 0;
		}
		else{
			$var_Id_Tramite = $ult_id->Id_Tramite + 1;
		}

		require_once('system/libraries/PHPExcel/PHPExcel/IOFactory.php');
		if(!file_exists("plantillas/".$id_operador."/")){
			mkdir("plantillas/".$id_operador."/",0777);
		}
		$archivo = $_FILES["file_plantilla"]['name'];
		move_uploaded_file($_FILES["file_plantilla"]["tmp_name"], "plantillas/".$id_operador."/".$archivo);

		$objPHPExcel = PHPExcel_IOFactory::load('plantillas/'.$id_operador.'/'.$archivo);
		foreach ($objPHPExcel->getWorksheetIterator() as $worksheet) {
		    $worksheetTitle     = $worksheet->getTitle();
		    $highestRow         = $worksheet->getHighestRow(); // e.g. 10
		    $highestColumn      = $worksheet->getHighestColumn(); // e.g 'F'
		    $highestColumnIndex = PHPExcel_Cell::columnIndexFromString($highestColumn);
		    for ($row = 5; $row <= $highestRow; ++ $row) {
		    	$val_latitud = $worksheet->getCell('D'.$row)->getValue() + ($worksheet->getCell('E'.$row)->getValue()/60) + ($worksheet->getCell('F'.$row)->getValue()/3600);
		    	$val_longitud = $worksheet->getCell('G'.$row)->getValue() + ($worksheet->getCell('H'.$row)->getValue()/60) + ($worksheet->getCell('I'.$row)->getValue()/3600);
		    	$datos_tecnicos = array('Nombre_Estacion' => $worksheet->getCell('A'.$row)->getValue(),
								    	'Dir_Descriptiva' => $worksheet->getCell('B'.$row)->getValue(),
								    	'Tipo_Estacion' => $worksheet->getCell('C'.$row)->getValue(),
								    	'Latitud' => number_format($val_latitud,6),
								    	'Grad_Lat' => $worksheet->getCell('D'.$row)->getValue(),
								    	'Min_Lat' => $worksheet->getCell('E'.$row)->getValue(),
								    	'Seg_Lat' => $worksheet->getCell('F'.$row)->getValue(),
								    	'Longitud' => number_format($val_longitud,6),
								    	'Grad_Long' => $worksheet->getCell('G'.$row)->getValue(),
								    	'Min_Long' => $worksheet->getCell('H'.$row)->getValue(),
								    	'Seg_Long' => $worksheet->getCell('I'.$row)->getValue(),		    	
								    	'Elevacion' => $worksheet->getCell('J'.$row)->getValue(),
								    	'Frec_Solicitadas' => $worksheet->getCell('K'.$row)->getValue(),
								    	'Unidades_Frec' => $worksheet->getCell('L'.$row)->getValue(),
								    	'Ancho_Banda' => $worksheet->getCell('M'.$row)->getValue(),
								        'Unidades_Ab' => $worksheet->getCell('N'.$row)->getValue(),
								        'Banda_Frec' => $worksheet->getCell('O'.$row)->getValue(),
								        'Desc_Emisiones' => $worksheet->getCell('P'.$row)->getValue(),
								    	'Potencia_Nominal' => $worksheet->getCell('Q'.$row)->getValue(),
								    	'Potencia_Radiada' => $worksheet->getCell('R'.$row)->getValue(),
								    	'Tipo_Torre' => $worksheet->getCell('S'.$row)->getValue(),
								    	'Altura_Torre' => $worksheet->getCell('T'.$row)->getValue(),
								    	'Altura_Edificacion' => $worksheet->getCell('U'.$row)->getValue(),
								    	'Altura_Antena' => $worksheet->getCell('V'.$row)->getValue(),
								    	'Tipo_Antena' => $worksheet->getCell('W'.$row)->getValue(),
								    	'Tipo_Polarizacion' => $worksheet->getCell('X'.$row)->getValue(),		    	
								    	'Diagrama_Irradiacion' => $worksheet->getCell('Y'.$row)->getValue(),
								    	'Desc_Sist_Proteccion' => $worksheet->getCell('Z'.$row)->getValue(),
								    	'Calculo_Area' => $worksheet->getCell('AA'.$row)->getValue(),
								    	'Calculo_Interferencia' => $worksheet->getCell('AB'.$row)->getValue(),
								        'Num_Unidades_Mov' => $worksheet->getCell('AC'.$row)->getValue(),
								        'Catalogo_Esquipos' => $worksheet->getCell('AD'.$row)->getValue(),
								        'Estudio_Tecnico' => $worksheet->getCell('AE'.$row)->getValue(),
										'Id_Tramite' => $var_Id_Tramite);
				$Id_Estacion = $this->personModel->add_datos_tecnicos($datos_tecnicos);

				$estaciones = $this->personModel->obt_dato_tecnico($Id_Estacion)->result();
				foreach ($estaciones as $a) {
					$dataset[] = array($a->Latitud, $a->Longitud);
					$nombres[] = array($a->Nombre_Estacion);
				}
				$data['dataset'] = $dataset;
				$data['nombres'] = $nombres;

		    }
		}

		//tabla
		$datos_tecnicos = $this->personModel->obt_dtec_tramite($var_Id_Tramite)->result();
		$i=0;		
		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		$this->table->set_heading('Nro','Nombre Estacion', 'Dirección Descriptiva', 'Tipo de Estación', 'LatLng', 'Acciones');
		foreach ($datos_tecnicos as $datos_tecnico){
			$this->table->add_row(++$i,$datos_tecnico->Nombre_Estacion, $datos_tecnico->Dir_Descriptiva, $datos_tecnico->Tipo_Estacion, '-'.$datos_tecnico->Latitud.',-'.$datos_tecnico->Longitud, anchor('person/validar_paso2/','<i class="icon-pencil"></i>').' '.'<a href="javascript:void(0)" class="show_on_map btn btn-mini"><i class="icon-eye-open"></i></a>'.' '.anchor('person/validar_paso2/','<i class="icon-trash"></i>'));			
		}
		$data['table'] = $this->table->generate();

		$this->load->view('view_paso_excel', $data);
    }

    //---------------------------------------------------------------------------------
    //-----------------    Otorgacion de Licencias    ---------------------------------
    //---------------------------------------------------------------------------------
    function licencias($offset=0){
    	$usu = $this->session->userdata('usuario');
		$id_operador = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $id_operador;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;

		// paginacion
		$uri_segment = 3;
		$offset = $this->uri->segment($uri_segment);
		$datos_licencias = $this->personModel->obt_licencias($this->limit, $offset)->result();
		$this->load->library('pagination');
		$config['base_url'] = site_url('person/licencias/');
 		$config['total_rows'] = $this->personModel->count_all_documentos();
 		$config['per_page'] = $this->limit;
		$config['uri_segment'] = $uri_segment;
		$this->pagination->initialize($config);
		$data['pagination'] = $this->pagination->create_links();
		//tabla
		$i=0;		
		$this->load->library('table');
		$this->table->set_empty("&nbsp;");




		/*$tmpl = array (
                    'table_open'          => '<table class="table table-bordered table-striped table_vam" id="dt_gal">',

                    'heading_row_start'   => '<thead>',
                    'heading_row_end'     => '</thead>',
                    'heading_cell_start'  => '<th>',
                    'heading_cell_end'    => '</th>',

                    'row_start'           => '<tr>',
                    'row_end'             => '</tr>',
                    'cell_start'          => '<td>',
                    'cell_end'            => '</td>',

                    'row_alt_start'       => '<tr>',
                    'row_alt_end'         => '</tr>',
                    'cell_alt_start'      => '<td>',
                    'cell_alt_end'        => '</td>',

                    'table_close'         => '</table>'
              );
		$this->table->set_template($tmpl);*/



		$this->table->set_heading('Nro','ID Operador', 'Nro. de Tramite', 'Cod. Expediente', 'LatLng', 'Departamento', 'Estado de Solicitud','Tipo de Operador','Tipo de ITEM', 'Acciones');
		foreach ($datos_licencias as $datos_licencia){
			$val_latitud = $datos_licencia->LatitudSurLiteral;
			$val_longitud = $datos_licencia->LongituOesteLiteral;
			if($val_latitud != ''){
				$lat_gr = substr($val_latitud,0,2);
				$lat_min = substr($val_latitud,3,5);
				$lat_seg = substr($val_latitud,6,8);
				$Latitud = $lat_gr + $lat_min/60 + $lat_seg/3600;
				$Latitud = number_format($Latitud,6);
			}	
			else{
				$Latitud = '';
			}
			if($val_longitud != ''){
				$lon_gr = substr($val_longitud,0,2);
				$lon_min = substr($val_longitud,3,5);
				$lon_seg = substr($val_longitud,6,8);
				$Longitud = $lon_gr + $lon_min/60 + $lon_seg/3600;
				$Longitud = number_format($Longitud,6);
			}	
			else{
				$Longitud = '';
			}		

			$this->table->add_row(++$i,$datos_licencia->IdOp, $datos_licencia->NumeroDeTramite, $datos_licencia->CodigoDelExpedienteEnArchivo, '-'.$Latitud.',-'.$Longitud, $datos_licencia->Departamento, $datos_licencia->EstadoDeLaSolicitud, $datos_licencia->TipoDeOperador, $datos_licencia->TipoDeItem, anchor('person/validar_paso2/','<i class="icon-pencil"></i>').' '.'<a href="javascript:void(0)" class="show_on_map btn btn-mini"><i class="icon-eye-open"></i></a>'.' '.anchor('person/validar_paso2/','<i class="icon-trash"></i>'));			
		}
		$data['table'] = $this->table->generate();
		$this->load->view('view_licencia', $data);
    }

    function add_licencia(){
    	$usu = $this->session->userdata('usuario');
		$id_operador = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $id_operador;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/save_new_licencia');


		$this->load->view('view_new_licencia', $data);
    }

    function save_new_licencia(){

    }

    //----
    function validar_info_tec(){
		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$nivel = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $nivel;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/encontrar_operador_tec');

		$this->load->view('validar_info_tec', $data);		
	}

		function encontrar_operador_tec(){
		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$nivel = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $nivel;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/encontrar_operador_tec');

		$texto_tipo_ope = '';
		$word_operador = $this->input->post('operador');
		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		$this->table->set_heading('ID Trámite', 'Nombre de Estación', 'Dirección Descriptiva', 'Tipo de Estación', 'Latitud, Longitud', 'Nro. Enlace', 'Accion');
		$datos_operador_tec = $this->personModel->obt_dtec_tramite($word_operador)->result();
		foreach ($datos_operador_tec as $dato_operador_t){
			
			if($dato_operador_t->Tipo_Estacion == 'PUNTO_A_PUNTO'){ 
				$this->table->add_row($dato_operador_t->Id_Tramite,$dato_operador_t->Nombre_Estacion, $dato_operador_t->Dir_Descriptiva, $dato_operador_t->Tipo_Estacion, $dato_operador_t->Latitud.','.$dato_operador_t->Longitud,'Enlace '.$dato_operador_t->Id_Enlace, anchor('person/validar_paso2_tec/'.$dato_operador_t->Id_Estacion_Origen,'<i class="icon-pencil"></i>').''.'<a href="javascript:void(0)" class="show_on_map btn btn-mini"><i class="icon-eye-open"></i></a>'.''.anchor('person/validar_paso2/','<i class="icon-trash"></i>'));
			}
			else{
				$this->table->add_row($dato_operador_t->Id_Tramite,$dato_operador_t->Nombre_Estacion, $dato_operador_t->Dir_Descriptiva, $dato_operador_t->Tipo_Estacion, $dato_operador_t->Latitud.','.$dato_operador_t->Longitud, '', anchor('person/validar_paso2_tec/'.$dato_operador_t->Id_Estacion_Origen,'<i class="icon-pencil"></i>').''.'<a href="javascript:void(0)" class="show_on_map btn btn-mini"><i class="icon-eye-open"></i></a>'.''.anchor('person/validar_paso2/','<i class="icon-trash"></i>'));	
			}
					
		}
		$data['table'] = $this->table->generate();

		$this->load->view('find_ope_tec', $data);	
	}

//////
	function validar_paso2_tec($id_est_orig){//  id_est_orig 1ra col. de tb_tecnica   id_operador.
		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$nivel = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $nivel;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		//$data['Id_Operador'] = $id_operador;
		$data['id_est_orig'] = $id_est_orig;
		$data['action'] = site_url('person/guarda_validacion_tec/'.$id_est_orig);//.$id_est_orig

		
		/*$datos_operador = $this->personModel->obt_operador_all($id_operador)->row();
		$dep_leg = $this->personModel->obt_departamento($datos_operador->DeptoLegal)->row();
		$dep_proce = $this->personModel->obt_departamento($datos_operador->DeptoProcesal)->row();
		$prov_leg = $this->personModel->obt_provincia($datos_operador->ProvLegal)->row();
		$prov_proce = $this->personModel->obt_provincia($datos_operador->ProvProcesal)->row();
		$ciudad_leg = $this->personModel->obt_ciudad($datos_operador->CiudLocLegal)->row();
		$ciudad_proce = $this->personModel->obt_ciudad($datos_operador->CiudLocProcesal)->row();*/

		$datos_tecnicos_r = $this->personModel->obt_dato_tecnico($id_est_orig)->row();


		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		$this->table->add_row('<center><h4><span class="blue">REF.</span></h4></center>', '<center><h4><span class="blue">INFORMACIÓN</span></h4></center>', '<center><h4><span class="blue"></span></h4></center>', '<center><h4><span class="blue">CAMPOS BLOQUEADOS</span></h4></center>', '<center><h4><span class="blue">OBSERVACIÓN</span></h4></center>', '<center><h4><span class="blue">ADJUNTOS</span></h4></center>');
		//$this->table->add_row('','','<input type="checkbox" class="checkall" onclick="check_all();">','Seleccionar Todos');
		$this->table->add_row('<span class="blue">Nombre Estación:</span>', $datos_tecnicos_r->Nombre_Estacion,'<center><input type="checkbox" name="chk_Nombre_Estacion" id="checkbox" value="1" class="ck" onchange="ckobservadovalidartec(this.checked,\'b_Nombre_Estacion\',\'Nombre_Estacion\')"></center>',
		 
		/* if (){
			'<input type="button" id="b_Nombre_Estacion" name="b_Nombre_Estacion" value="Desbloquear">'}
			else{'<input type="button" id="b_Nombre_Estacion" name="b_Nombre_Estacion" value="Des">'},*/
				'<input type="button" class="boton" id="b_Nombre_Estacion" name="b_Nombre_Estacion" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Nombre_Estacion)"> ',

		'<input class="input-xxlarge" id="Nombre_Estacion" name="Nombre_Estacion" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Nombre_Estacion">');



		$this->table->add_row('<span class="blue">Dirección Descriptiva:</span>', $datos_tecnicos_r->Dir_Descriptiva,'<center><input type="checkbox" name="chk_Dir_Descriptiva" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Dir_Descriptiva\',\'Dir_Descriptiva\')">','<input type="button" class="boton" id="b_Dir_Descriptiva" name="b_Dir_Descriptiva" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Dir_Descriptiva)">','<input class="input-xxlarge" id="Dir_Descriptiva" name="Dir_Descriptiva" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Dir_Descriptiva">');
		//Tipo de Estación
		$this->table->add_row('<span class="blue">Tipo de Estación:</span>', $datos_tecnicos_r->Tipo_Estacion,'<center><input type="checkbox" name="chk_Tipo_Estacion" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Tipo_Estacion\',\'Tipo_Estacion\')">','<input type="button" class="boton" id="b_Tipo_Estacion" name="b_Tipo_Estacion" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Tipo_Estacion)">','<input class="input-xxlarge" id="Tipo_Estacion" name="Tipo_Estacion" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Tipo_Estacion">');
		$this->table->add_row('<span class="blue">Elevación:</span>', $datos_tecnicos_r->Elevacion.' m.s.n.m.','<center><input type="checkbox" name="chk_Elevacion" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Elevacion\',\'Elevacion\')">','<input type="button" class="boton" id="b_Elevacion" name="b_Elevacion" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Elevacion)">','<input class="input-xxlarge" id="Elevacion" name="Elevacion" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Elevacion">');
		$this->table->add_row('<span class="blue">Latitud, Longitud:</span>', $datos_tecnicos_r->Latitud.','.$datos_tecnicos_r->Longitud,'<center><input type="checkbox" name="chk_LatLon" id="checkbox" value="1" class="ck" onchange="ckobservadovalidartec(this.checked,\'b_LatLon\',\'LatLon\')">','<input type="button" class="boton" id="b_LatLon" name="b_LatLon" value="Desbloquear" onclick="ckobservadovalidartecboton(b_LatLon)">','<input class="input-xxlarge" id="LatLon" name="LatLon" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_LatLon">');

		$this->table->add_row('<span class="blue">Frecuencias Solicitadas:</span>', $datos_tecnicos_r->Frec_Solicitadas.' '.$datos_tecnicos_r->Unidades_Frec,'<center><input type="checkbox" name="chk_FrecSol" id="checkbox" value="1" class="ck" onchange="ckobservadovalidartec(this.checked,\'b_FrecSol\',\'FrecSol\')">','<input type="button" class="boton" id="b_FrecSol" name="b_FrecSol" value="Desbloquear" onclick="ckobservadovalidartecboton(b_FrecSol)">','<input class="input-xxlarge" id="FrecSol" name="FrecSol" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_FrecSol">');
		$this->table->add_row('<span class="blue">Ancho de Banda Solicitado:</span>', $datos_tecnicos_r->Ancho_Banda.' '.$datos_tecnicos_r->Unidades_Ab,'<center><input type="checkbox" name="chk_ABSol" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_ABSol\',\'ABSol\')">','<input type="button" class="boton" id="b_ABSol" name="b_ABSol" value="Desbloquear" onclick="ckobservadovalidartecboton(b_ABSol)">','<input class="input-xxlarge" id="ABSol" name="ABSol" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_ABSol">');
		$this->table->add_row('<span class="blue">Banda de Frecuencia:</span>', $datos_tecnicos_r->Banda_Frec,'<center><input type="checkbox" name="chk_Banda_Frec" id="checkbox" value="1" class="ck" onchange="ckobservadovalidartec(this.checked,\'b_Banda_Frec\',\'Banda_Frec\')">','<input type="button" class="boton" id="b_Banda_Frec" name="b_Banda_Frec" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Banda_Frec)">','<input class="input-xxlarge" id="Banda_Frec" name="Banda_Frec" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Banda_Frec">');
		$this->table->add_row('<span class="blue">Descripción de emisiones:</span>', $datos_tecnicos_r->Desc_Emisiones,'<center><input type="checkbox" name="chk_Desc_Emisiones" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Desc_Emisiones\',\'Desc_Emisiones\')">','<input type="button" class="boton" id="b_Desc_Emisiones" name="b_Desc_Emisiones" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Desc_Emisiones)">','<input class="input-xxlarge" id="Desc_Emisiones" name="Desc_Emisiones" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Desc_Emisiones">');
		$this->table->add_row('<span class="blue">Potencia Nominal:</span>', $datos_tecnicos_r->Potencia_Nominal.' '.$datos_tecnicos_r->Unidades_Pot_Nominal,'<center><input type="checkbox" name="chk_Potencia_Nominal" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Potencia_Nominal\',\'Potencia_Nominal\')">','<input type="button" class="boton" id="b_Potencia_Nominal" name="b_Potencia_Nominal" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Potencia_Nominal)">','<input class="input-xxlarge" id="Potencia_Nominal" name="Potencia_Nominal" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Potencia_Nominal">');
		$this->table->add_row('<span class="blue">Potencia Radiada Efectiva:</span>', $datos_tecnicos_r->Potencia_Radiada.' '.$datos_tecnicos_r->Unidades_Pot_Radiada,'<center><input type="checkbox" name="chk_PotRad" id="checkbox" value="1" class="ck" onchange="ckobservadovalidartec(this.checked,\'b_PotRad\',\'PotRad\')">','<input type="button" class="boton" id="b_PotRad" name="b_PotRad" value="Desbloquear" onclick="ckobservadovalidartecboton(b_PotRad)">','<input class="input-xxlarge" id="PotRad" name="PotRad" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_PotRad">');
		$this->table->add_row('<span class="blue">Tipo de Torre:</span>', $datos_tecnicos_r->Tipo_Torre,'<center><input type="checkbox" name="chk_Tipo_Torre" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Tipo_Torre\',\'Tipo_Torre\')">','<input type="button" class="boton" id="b_Tipo_Torre" name="b_Tipo_Torre" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Tipo_Torre)">','<input class="input-xxlarge" id="Tipo_Torre" name="Tipo_Torre" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Tipo_Torre">');
		$this->table->add_row('<span class="blue">Altura de la Torre:</span>', $datos_tecnicos_r->Altura_Torre.' m','<center><input type="checkbox" name="chk_Altura_Torre" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Altura_Torre\',\'Altura_Torre\')">','<input type="button" class="boton" id="b_Altura_Torre" name="b_Altura_Torre" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Altura_Torre)">','<input class="input-xxlarge" id="Altura_Torre" name="Altura_Torre" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Altura_Torre">');
		$this->table->add_row('<span class="blue">Altura de la Edificación:</span>', $datos_tecnicos_r->Altura_Edificacion.' m','<center><input type="checkbox" name="chk_Altura_Edificacion" id="checkbox" value="1" class="ck" onchange="ckobservadovalidartec(this.checked,\'b_Altura_Edificacion\',\'Altura_Edificacion\')">','<input type="button" class="boton" id="b_Altura_Edificacion" name="b_Altura_Edificacion" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Altura_Edificacion)">','<input class="input-xxlarge" id="Altura_Edificacion" name="Altura_Edificacion" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Altura_Edificacion">');
		$this->table->add_row('<span class="blue">Altura de la Antena:</span>', $datos_tecnicos_r->Altura_Antena.' m','<center><input type="checkbox" name="chk_Altura_Antena" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Altura_Antena\',\'Altura_Antena\')">','<input type="button" class="boton" id="b_Altura_Antena" name="b_Altura_Antena" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Altura_Antena)">','<input class="input-xxlarge" id="Altura_Antena" name="Altura_Antena" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Altura_Antena">');
		$this->table->add_row('<span class="blue">Tipo de Antena:</span>', $datos_tecnicos_r->Tipo_Antena,'<center><input type="checkbox" name="chk_Tipo_Antena" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Tipo_Antena\',\'Tipo_Antena\')">','<input type="button" class="boton" id="b_Tipo_Antena" name="b_Tipo_Antena" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Tipo_Antena)">','<input class="input-xxlarge" id="Tipo_Antena" name="Tipo_Antena" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Tipo_Antena">');
		$this->table->add_row('<span class="blue">Tipo de Polarización:</span>', $datos_tecnicos_r->Tipo_Polarizacion,'<center><input type="checkbox" name="chk_Tipo_Polarizacion" id="checkbox" value="1" class="ck" onchange="ckobservadovalidartec(this.checked,\'b_Tipo_Polarizacion\',\'Tipo_Polarizacion\')">','<input type="button" class="boton" id="b_Tipo_Polarizacion" name="b_Tipo_Polarizacion" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Tipo_Polarizacion)">','<input class="input-xxlarge" id="Tipo_Polarizacion" name="Tipo_Polarizacion" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Tipo_Polarizacion">');
		$this->table->add_row('<span class="blue">Diagrama Irradiación:</span>', $datos_tecnicos_r->Diagrama_Irradiacion,'<center><input type="checkbox" name="chk_Diagrama_Irradiacion" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Diagrama_Irradiacion\',\'Diagrama_Irradiacion\')">','<input type="button" class="boton" id="b_Diagrama_Irradiacion" name="b_Diagrama_Irradiacion" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Diagrama_Irradiacion)">','<input class="input-xxlarge" id="Diagrama_Irradiacion" name="Diagrama_Irradiacion" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Diagrama_Irradiacion">');
		$this->table->add_row('<span class="blue">Descripción Sist. Protección:</span>', $datos_tecnicos_r->Desc_Sist_Proteccion,'<center><input type="checkbox" name="chk_Desc_Sist_Proteccion" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Desc_Sist_Proteccion\',\'Desc_Sist_Proteccion\')">','<input type="button" class="boton" id="b_Desc_Sist_Proteccion" name="b_Desc_Sist_Proteccion" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Desc_Sist_Proteccion)">','<input class="input-xxlarge" id="Desc_Sist_Proteccion" name="Desc_Sist_Proteccion" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Desc_Sist_Proteccion">');
		$this->table->add_row('<span class="blue">Radio de cobertura:</span>', $datos_tecnicos_r->Radio_Cobertura.' Km','<center><input type="checkbox" name="chk_Radio_Cobertura" id="checkbox" value="1" class="ck" onchange="ckobservadovalidartec(this.checked,\'b_Radio_Cobertura\',\'Radio_Cobertura\')">','<input type="button" class="boton" id="b_Radio_Cobertura" name="b_Radio_Cobertura" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Radio_Cobertura)">','<input class="input-xxlarge" id="Radio_Cobertura" name="Radio_Cobertura" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Radio_Cobertura">');
		$this->table->add_row('<span class="blue">Radio de Interferencia:</span>', $datos_tecnicos_r->Radio_Interferencia.' Km','<center><input type="checkbox" name="chk_Radio_Interferencia" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Radio_Interferencia\',\'Radio_Interferencia\')">','<input type="button" class="boton" id="b_Radio_Interferencia" name="b_Radio_Interferencia" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Radio_Interferencia)">','<input class="input-xxlarge" id="Radio_Interferencia" name="Radio_Interferencia" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Radio_Interferencia">');
		$this->table->add_row('<span class="blue">Ganancia Antena:</span>', $datos_tecnicos_r->Ganancia_Antena.' '.$datos_tecnicos_r->Unidades_Gan_Antena,'<center><input type="checkbox" name="chk_GanAnt" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_GanAnt\',\'GanAnt\')">','<input type="button" class="boton" id="b_GanAnt" name="b_GanAnt" value="Desbloquear" onclick="ckobservadovalidartecboton(b_GanAnt)">','<input class="input-xxlarge" id="GanAnt" name="GanAnt" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_GanAnt">');
		$this->table->add_row('<span class="blue">Catálogo de Equipos:</span>', $datos_tecnicos_r->Catalogo_Equipos,'<center><input type="checkbox" name="chk_Catalogo_Equipos" id="checkbox" value="1" class="ck" onchange="ckobservadovalidartec(this.checked,\'b_Catalogo_Equipos\',\'Catalogo_Equipos\')">','<input type="button" class="boton" id="b_Catalogo_Equipos" name="b_Catalogo_Equipos" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Catalogo_Equipos)">','<input class="input-xxlarge" id="Catalogo_Equipos" name="Catalogo_Equipos" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Catalogo_Equipos">');
		$this->table->add_row('<span class="blue">Estudio Técnico:</span>', $datos_tecnicos_r->Estudio_Tecnico,'<center><input type="checkbox" name="chk_Estudio_Tecnico" id="checkbox" value="1" class="ck" onclick="ckobservadovalidartec(this.checked,\'b_Estudio_Tecnico\',\'Estudio_Tecnico\')">','<input type="button" class="boton" id="b_Estudio_Tecnico" name="b_Estudio_Tecnico" value="Desbloquear" onclick="ckobservadovalidartecboton(b_Estudio_Tecnico)">','<input class="input-xxlarge" id="Estudio_Tecnico" name="Estudio_Tecnico" type="text" required>','<input class="input-file uniform_on" id="fileInput" type="file" name="file_Estudio_Tecnico">');
	
		
		//----------------
//		$data['texto_tipo_ope'] = $texto_tipo_ope;

		$data['table'] = $this->table->generate();
		$this->load->view('valida_paso2_tec', $data);				
	}
/////


	function guarda_validacion_tec($id_est_orig){

		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$nivel = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $nivel;
		$fecha=date("d-m-Y h:i:s");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/validar_paso2_tec/'.$id_est_orig);
		$data['id_est_orig'] = $id_est_orig;

		/*$Id_Operador = $this->input->post('Id_Operador');
		$datos_operador = $this->personModel->obt_operador_all($Id_Operador)->row();
		$ciudad_leg = $this->personModel->obt_ciudad($datos_operador->CiudLocLegal)->row();
		$ciudad_proce = $this->personModel->obt_ciudad($datos_operador->CiudLocProcesal)->row();*/

		$datos_tecnicos_r = $this->personModel->obt_dato_tecnico($id_est_orig)->row();//obt_dato_tecnico de la listaq de los registros

		//*************************************************************************************************************
		//*********************              GUARDA OBSERVACIONES              ****************************************
		//*************************************************************************************************************
		if(!file_exists("uploads/".$id_est_orig."/")){
			mkdir("uploads/".$id_est_orig."/",0777);
		}
		//----------------------Tipo Operador = 1----------------------
		//if ($datos_operador->TipoOperador == 1){
			$desc_tipo_ope = 'PARTE TECNICA';//$desc_tipo_ope = 'COOPERATIVA';
			$observados_tec = array('Id_Estacion_Origen' => $id_est_orig,
							'Nombre_Estacion' => $this->input->post('Nombre_Estacion'),
							'Dir_Descriptiva' => $this->input->post('Dir_Descriptiva'),
							'Tipo_Estacion' => $this->input->post('Tipo_Estacion'),
							'Elevacion' => $this->input->post('Elevacion'),
							//'Latitud' => $this->input->post('LatLon'),
							'Frec_Solicitadas' => $this->input->post('Frec_Solicitadas'),
							'Ancho_Banda' => $this->input->post('Ancho_Banda'),
							'Banda_Frec' => $this->input->post('Banda_Frec'),
							'Desc_Emisiones' => $this->input->post('Desc_Emisiones'),
							'Potencia_Nominal' => $this->input->post('Potencia_Nominal'),
							'Potencia_Radiada' => $this->input->post('PotRad'),
							'Tipo_Torre' => $this->input->post('Tipo_Torre'), 
							'Altura_Torre' => $this->input->post('Altura_Torre'),
							'Altura_Edificacion' => $this->input->post('Altura_Edificacion'),
							'Altura_Antena' => $this->input->post('Altura_Antena'),
							'Tipo_Antena' => $this->input->post('Tipo_Antena'),
							'Tipo_Polarizacion' => $this->input->post('Tipo_Polarizacion'),
							'Diagrama_Irradiacion' => $this->input->post('Diagrama_Irradiacion'),
							'Desc_Sist_Proteccion' => $this->input->post('Desc_Sist_Proteccion'),
							'Radio_Cobertura' => $this->input->post('Radio_Cobertura'),
							'Radio_Interferencia' => $this->input->post('Radio_Interferencia'),
							//'Radio_Interferencia' => $this->input->post('GanAnt'),
							'Catalogo_Equipos' => $this->input->post('Catalogo_Equipos'),
							'Estudio_Tecnico' => $this->input->post('Estudio_Tecnico'),
							
							'Fecha_Reg' => $fecha,
							'Usuario_Reg' => $usu);
			$Id_Observados_Tec = $this->personModel->add_observaciones_tec($observados_tec);
			//-------------------------------Guarda Adjuntos
			/*if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_NumRegDirGralCoop"]["name"] != '' || $_FILES["file_FechaRegDirGralCoop"]["name"] != '' || $_FILES["file_NomPresidConAdm"]["name"] != '' || $_FILES["file_CIPresidConAdm"]["name"] != '' || $_FILES["file_NumTestimonioPresidConAdm"]["name"] != '' || $_FILES["file_FechaTestimonio"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dom_proc"]["name"] != '' || $_FILES["file_dep_legal"]["name"] != '' || $_FILES["file_dep_proc"]["name"] != '' || $_FILES["file_prov_legal"]["name"] != '' || $_FILES["file_prov_proc"]["name"] != '' || $_FILES["file_ciu_legal"]["name"] != '' || $_FILES["file_ciu_proc"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != '' || $_FILES["file_Obj_Creacion"]["name"] != '' || $_FILES["file_Fecha_Test_Estatutos"]["name"] != '' || $_FILES["file_Num_Test_Estatutos"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos_tec = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'NumRegDirGralCoop' => $_FILES["file_NumRegDirGralCoop"]["name"],
							'FechaRegDirGralCoop' => $_FILES["file_FechaRegDirGralCoop"]["name"],
							'NomPresidConAdm' => $_FILES["file_NomPresidConAdm"]["name"],
							'CIPresidConAdm' => $_FILES["file_CIPresidConAdm"]["name"],
							'NumTestimonioPresidConAdm' => $_FILES["file_NumTestimonioPresidConAdm"]["name"],
							'FechaTestimonio' => $_FILES["file_FechaTestimonio"]["name"],
							'Num_Test_Estatutos' => $_FILES["file_Num_Test_Estatutos"]["name"],
							'Fecha_Test_Estatutos' => $_FILES["file_Fecha_Test_Estatutos"]["name"],
							'Obj_Creacion' => $_FILES["file_Obj_Creacion"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DomProcActual' => $_FILES["file_dom_proc"]["name"],
							'DeptoLegal' => $_FILES["file_dep_legal"]["name"],
							'DeptoProcesal' => $_FILES["file_dep_proc"]["name"],
							'ProvLegal' => $_FILES["file_prov_legal"]["name"],
							'ProvProcesal' => $_FILES["file_prov_proc"]["name"],
							'CiudLocLegal' => $_FILES["file_ciu_legal"]["name"],
							'CiudLocProcesal' => $_FILES["file_ciu_proc"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos_tec);
				
				move_uploaded_file($_FILES["file_NumRegDirGralCoop"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumRegDirGralCoop"]["name"]);
				move_uploaded_file($_FILES["file_FechaRegDirGralCoop"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaRegDirGralCoop"]["name"]);
				move_uploaded_file($_FILES["file_NomPresidConAdm"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NomPresidConAdm"]["name"]);
				move_uploaded_file($_FILES["file_CIPresidConAdm"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_CIPresidConAdm"]["name"]);
				move_uploaded_file($_FILES["file_NumTestimonioPresidConAdm"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumTestimonioPresidConAdm"]["name"]);
				move_uploaded_file($_FILES["file_FechaTestimonio"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaTestimonio"]["name"]);				
				move_uploaded_file($_FILES["file_Num_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_Obj_Creacion"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Obj_Creacion"]["name"]);*/
				//*************************************************************************************************************
		//*********************************        MUESTRA    PDF            ******************************************
		//*************************************************************************************************************
		$datos_observados_tec = $this->personModel->obt_observados_all_tec($Id_Observados_Tec)->row();
		$this->cezpdf->cezpdf('a4', 'portrait'); 
		$this->cezpdf->selectFont('fonts/Helvetica.afm');
		//$this->cezpdf->ezImage(base_img_url_att, 35, 50, 'none', 'right');
		//$this->cezpdf->ezImage(base_img_url_bol, 25, 80, 'none', 'left');
		$this->cezpdf->addText(50,800,11,"<b>AUTORIDAD DE REGULACION Y FISCALIZACION DE TELECOMUNICACIONES Y TRANSPORTES</b>",0,0);
		$this->cezpdf->addText(130,785,11,'<b>FORMULARIO DE DECLARACION JURADA DE REGISTRO TECNICO</b>',0,0);
		$this->cezpdf->addText(50,740,10,'<b>Nro. de ID: </b>'.$id_est_orig,0,0);//id_est_orig  Id_Operador
		$this->cezpdf->addText(50,730,9,'<b>Impreso en fecha: </b>' . date('m/d/Y h:i:s a'));
		//----------//------//------Tabla
		$this->cezpdf->ezSetY(715);						
		
		$dato_1_tec = array(array('etiqueta1'=>'Nombre de la Estacion:','etiqueta2'=> $datos_tecnicos_r->Nombre_Estacion,'etiqueta3'=>$datos_observados_tec->Nombre_Estacion),
					array('etiqueta1'=>'Direccion Descriptiva:','etiqueta2'=> $datos_tecnicos_r->Dir_Descriptiva,'etiqueta3'=>$datos_observados_tec->Dir_Descriptiva),
					array('etiqueta1'=>'Tipo de Estacion:','etiqueta2'=> $datos_tecnicos_r->Tipo_Estacion,'etiqueta3'=>$datos_observados_tec->Tipo_Estacion),
					array('etiqueta1'=>'Elevacion:','etiqueta2'=> $datos_tecnicos_r->Elevacion,'etiqueta3'=>$datos_observados_tec->Elevacion),
					//array('etiqueta1'=>'Latitud, Longitud:','etiqueta2'=> $datos_tecnicos_r->Latitud.' ,'.$datos_tecnicos_r->Longitud,'etiqueta3'=>$datos_observados_tec->LatLon),
					//array('etiqueta1'=>'Frecuencias Solicitadas:','etiqueta2'=> $datos_tecnicos_r->Frec_Solicitadas,'etiqueta3'=>$datos_observados_tec->FrecSol),
					//array('etiqueta1'=>'Ancho de Banda Solicitado:','etiqueta2'=> $datos_tecnicos_r->Ancho_Banda,'etiqueta3'=>$datos_observados_tec->ABSol),
					array('etiqueta1'=>'Banda de Frecuencia:','etiqueta2'=> $datos_tecnicos_r->Banda_Frec,'etiqueta3'=> $datos_observados_tec->Banda_Frec),
					array('etiqueta1'=>'Descripcion de emisiones:','etiqueta2'=> $datos_tecnicos_r->Desc_Emisiones,'etiqueta3'=>$datos_observados_tec->Desc_Emisiones),
					array('etiqueta1'=>'Potencia Nominal:','etiqueta2'=> $datos_tecnicos_r->Potencia_Nominal.' '.$datos_tecnicos_r->Unidades_Pot_Nominal,'etiqueta3'=> $datos_observados_tec->Potencia_Nominal),
					array('etiqueta1'=>'Potencia Radiada Efectiva:','etiqueta2'=> $datos_tecnicos_r->Potencia_Radiada.' '.$datos_tecnicos_r->Unidades_Pot_Radiada,'etiqueta3'=> $datos_observados_tec->Potencia_Radiada),
					array('etiqueta1'=>'Tipo de Torre:','etiqueta2'=> $datos_tecnicos_r->Tipo_Torre,'etiqueta3'=> $datos_observados_tec->Tipo_Torre),
					array('etiqueta1'=>'Altura de la Torre:','etiqueta2'=> $datos_tecnicos_r->Altura_Torre.' m','etiqueta3'=> $datos_observados_tec->Altura_Torre),
					array('etiqueta1'=>'Altura de la Edificacion:','etiqueta2'=> $datos_tecnicos_r->Altura_Edificacion.' m','etiqueta3'=> $datos_observados_tec->Altura_Edificacion),
					array('etiqueta1'=>'Altura de la Antena:','etiqueta2'=> $datos_tecnicos_r->Altura_Antena.' m','etiqueta3'=> $datos_observados_tec->Altura_Antena),
					array('etiqueta1'=>'Tipo de Antena:','etiqueta2'=> $datos_tecnicos_r->Tipo_Antena,'etiqueta3'=> $datos_observados_tec->Tipo_Antena),
					
					
					array('etiqueta1'=>'Tipo de Polarizacion:','etiqueta2'=> $datos_tecnicos_r->Tipo_Polarizacion,'etiqueta3'=> $datos_observados_tec->Tipo_Polarizacion),
					array('etiqueta1'=>'Diagrama Irradiacion:','etiqueta2'=> $datos_tecnicos_r->Diagrama_Irradiacion,'etiqueta3'=> $datos_observados_tec->Diagrama_Irradiacion),
					array('etiqueta1'=>'Descripcion Sistema Proteccion:','etiqueta2'=> $datos_tecnicos_r->Desc_Sist_Proteccion,'etiqueta3'=> $datos_observados_tec->Desc_Sist_Proteccion),
					array('etiqueta1'=>'Radio Cobertura:','etiqueta2'=> $datos_tecnicos_r->Radio_Cobertura.' m','etiqueta3'=> $datos_observados_tec->Radio_Cobertura),
					array('etiqueta1'=>'Radio Interferencia:','etiqueta2'=> $datos_tecnicos_r->Radio_Interferencia.' m','etiqueta3'=> $datos_observados_tec->Radio_Interferencia),
					array('etiqueta1'=>'Catalogo Equipos:','etiqueta2'=> $datos_tecnicos_r->Catalogo_Equipos,'etiqueta3'=> $datos_observados_tec->Catalogo_Equipos),
					array('etiqueta1'=>'Estudio Tecnico:','etiqueta2'=> $datos_tecnicos_r->Estudio_Tecnico,'etiqueta3'=> $datos_observados_tec->Estudio_Tecnico));
		//--------------------------------- DATOS  ------------------------------------------------------------
	

//*************************************************************************************************************
		//*************************************************************************************************************
		/*$dato_3 = array(array('etiqueta1'=>'Certificado de Antecedentes Penales:','etiqueta2'=> $datos_operador->Cer_Ant_Penales,'etiqueta3'=>$datos_observados->Cer_Ant_Penales),
					array('etiqueta1'=>'Nro. Certificado Domiciliario:','etiqueta2'=> $datos_operador->NumCertifDom,'etiqueta3'=>$datos_observados->NumCertifDom),
					array('etiqueta1'=>'Fecha Certificado Domiciliario:','etiqueta2'=> $datos_operador->FechaCertifDom,'etiqueta3'=>$datos_observados->FechaCertifDom),
					array('etiqueta1'=>'Domicilio Legal Empresa:','etiqueta2'=> $datos_operador->DomLegal,'etiqueta3'=>$datos_observados->DomLegal),
					array('etiqueta1'=>'Pagina Web:','etiqueta2'=> $datos_operador->PagWeb,'etiqueta3'=>$datos_observados->PagWeb),
					array('etiqueta1'=>'E-mail:','etiqueta2'=> $datos_operador->Email,'etiqueta3'=>$datos_observados->Email),
					array('etiqueta1'=>'Casilla:','etiqueta2'=> $datos_operador->Casilla,'etiqueta3'=>$datos_observados->Casilla),
					array('etiqueta1'=>'Telefonos:','etiqueta2'=> $datos_operador->TelFij,'etiqueta3'=>$datos_observados->TelFij),
					array('etiqueta1'=>'Fax:','etiqueta2'=> $datos_operador->Fax,'etiqueta3'=>$datos_observados->Fax));
		if($datos_operador->TipoOperador == 1 || $datos_operador->TipoOperador == 2 || $datos_operador->TipoOperador == 3 || $datos_operador->TipoOperador == 4 || $datos_operador->TipoOperador == 5 || $datos_operador->TipoOperador == 6 || $datos_operador->TipoOperador == 7 || $datos_operador->TipoOperador == 9 || $datos_operador->TipoOperador == 10 || $datos_operador->TipoOperador == 11){
						$dato_4 = array(array('etiqueta1'=>'Domicilio Procesal Actual:','etiqueta2'=> $datos_operador->DomProcActual,'etiqueta3'=>$datos_observados->DomProcActual),
								array('etiqueta1'=>'Ciudad/Loc. Procesal:','etiqueta2'=> $ciudad_proce->Nombre_Ciudad,'etiqueta3'=>$datos_observados->CiudLocProcesal));
					}
					else{
						$dato_4 = array();
					}
		if($datos_operador->TipoOperador == 1 || $datos_operador->TipoOperador == 2 || $datos_operador->TipoOperador == 3 || $datos_operador->TipoOperador == 4 || $datos_operador->TipoOperador == 5 || $datos_operador->TipoOperador == 6 || $datos_operador->TipoOperador == 7 || $datos_operador->TipoOperador == 8){
						$dato_5 = array(array('etiqueta1'=>'Ciudad/Loc. Legal:','etiqueta2'=> $ciudad_leg->Nombre_Ciudad,'etiqueta3'=>$datos_observados->CiudLocLegal));
		}*/
		//else{
		//	$dato_5 = array();
		//}

		$dato = array_merge($dato_1_tec);//,$dato_5
		$this->cezpdf->ezTable($dato,array('etiqueta1'=>'<b>REFERENCIA</b>','etiqueta2'=>'<b>DESCRIPCION</b>','etiqueta3'=>'<b>OBSERVACIONES</b>'),'Datos Generales del Declarante <b>'.$desc_tipo_ope.'</b>',array('showHeadings'=>1,'showBgCol'=>1,'fontSize' => 8, 'width'=>500,'cols'=> array('name'=>array('bgcolor'=>array(0.9,0.9,0.9)))));
		$this->cezpdf->selectFont('fonts/Helvetica.afm');
		$j=0;
		/*for ($i=0; $i < count($Id_Obser_Repre); $i++) { 
			$datos_observ_repre = $this->personModel->obt_observ_repre($Id_Obser_Repre[$i])->result();	
			foreach ($datos_observ_repre as $datos_observ_repres){
				$datos_representantes = $this->personModel->obt_representantes_legales($datos_observ_repres->Id_Repre_Legal)->row();
				$valor_obser_repre = array(array('etiqueta1'=>'Nombre Completo:','etiqueta2'=> $datos_representantes->Nombre_Completo,'etiqueta3'=>$datos_observ_repres->Nombre_Completo),
					array('etiqueta1'=>'C.I.:','etiqueta2'=> $datos_representantes->Ci_Repre_Legal,'etiqueta3'=>$datos_observ_repres->Ci_Repre_Legal),
					array('etiqueta1'=>'Nro. Testimonio Poder:','etiqueta2'=> $datos_representantes->Nro_Testimonio_Poder_Legal,'etiqueta3'=>$datos_observ_repres->Nro_Testimonio_Poder_Legal),
					array('etiqueta1'=>'Fecha Poder:','etiqueta2'=> $datos_representantes->Fecha_Poder_Legal,'etiqueta3'=>$datos_observ_repres->Fecha_Poder_Legal),
					array('etiqueta1'=>'Objeto Poder:','etiqueta2'=> $datos_representantes->Objeto_Poder_Legal,'etiqueta3'=>$datos_observ_repres->Objeto_Poder_Legal));						
			}
			$j=$i+1;
			$this->cezpdf->ezText("\n",10);
			$this->cezpdf->ezTable($valor_obser_repre,array('etiqueta1'=>'<b>REFERENCIA</b>','etiqueta2'=>'<b>DESCRIPCION</b>','etiqueta3'=>'<b>OBSERVACIONES</b>'),'Representante Legal Vigente '.$j,array('showHeadings'=>1,'showBgCol'=>0,'fontSize' => 8, 'width'=>500, 'shaded'=>1, 'cols'=> array('name'=>array('bgcolor'=>array(0.9,0.9,0.9)))));
		}*/
		//---------Footer
		$this->cezpdf->ezText("\n",10);
		$this->cezpdf->line(230,70,400,70);
		$this->cezpdf->addText(250,60,8,'Nombres y Apellidos del Responsable',0,0);
		$this->cezpdf->ezSetMargins(50,50,50,50);
		$this->cezpdf->ezStartPageNumbers(500,28,8,'','{PAGENUM}',1);
		$this->cezpdf->line(20,40,578,40);
		$this->cezpdf->ezStream();
	}


							//// -------------------------------/////

//////
	function validar_paso2_tec_prev($id_est_orig){//  id_est_orig 1ra col. de tb_tecnica   id_operador.
		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$nivel = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $nivel;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		//$data['Id_Operador'] = $id_operador;
		$data['id_est_orig'] = $id_est_orig;
		$data['action'] = site_url('person/guarda_validacion_tec_prev/'.$id_est_orig);//.$id_est_orig

		
		/*$datos_operador = $this->personModel->obt_operador_all($id_operador)->row();
		$dep_leg = $this->personModel->obt_departamento($datos_operador->DeptoLegal)->row();
		$dep_proce = $this->personModel->obt_departamento($datos_operador->DeptoProcesal)->row();
		$prov_leg = $this->personModel->obt_provincia($datos_operador->ProvLegal)->row();
		$prov_proce = $this->personModel->obt_provincia($datos_operador->ProvProcesal)->row();
		$ciudad_leg = $this->personModel->obt_ciudad($datos_operador->CiudLocLegal)->row();
		$ciudad_proce = $this->personModel->obt_ciudad($datos_operador->CiudLocProcesal)->row();*/

		$datos_tecnicos_r = $this->personModel->obt_dato_tecnico($id_est_orig)->row();

		$tip_estac=$datos_tecnicos_r->Tipo_Estacion;
		//echo $tip_estac;


		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		$this->table->add_row('<center><h4><span class="blue">REFERENCIA</span></h4></center>', '<center><h4><span class="blue">INFORMACIÓN</span></h4></center>');
		if($tip_estac=='ADICIONAL'){
		//$this->table->add_row('','','<input type="checkbox" class="checkall" onclick="check_all();">','Seleccionar Todos');
		$this->table->add_row('<span class="blue">Nombre Estación:</span>', $datos_tecnicos_r->Nombre_Estacion);
		$this->table->add_row('<span class="blue">Dirección Descriptiva:</span>', $datos_tecnicos_r->Dir_Descriptiva);
		//Tipo de Estación
		$this->table->add_row('<span class="blue">Tipo de Estación:</span>', $datos_tecnicos_r->Tipo_Estacion);
		$this->table->add_row('<span class="blue">Elevación:</span>', $datos_tecnicos_r->Elevacion);
		$this->table->add_row('<span class="blue">Latitud, Longitud:</span>', $datos_tecnicos_r->Latitud.','.$datos_tecnicos_r->Longitud);
		}

		if($tip_estac=='PRINCIPAL'){
		//$this->table->add_row('','','<input type="checkbox" class="checkall" onclick="check_all();">','Seleccionar Todos');
		$this->table->add_row('<span class="blue">Nombre Estación:</span>', $datos_tecnicos_r->Nombre_Estacion);
		$this->table->add_row('<span class="blue">Dirección Descriptiva:</span>', $datos_tecnicos_r->Dir_Descriptiva);
		//Tipo de Estación
		$this->table->add_row('<span class="blue">Tipo de Estación:</span>', $datos_tecnicos_r->Tipo_Estacion);
		$this->table->add_row('<span class="blue">Elevación:</span>', $datos_tecnicos_r->Elevacion);
		$this->table->add_row('<span class="blue">Latitud, Longitud:</span>', $datos_tecnicos_r->Latitud.','.$datos_tecnicos_r->Longitud);
		

		$this->table->add_row('<span class="blue">Frecuencias Solicitadas:</span>', $datos_tecnicos_r->Frec_Solicitadas.' '.$datos_tecnicos_r->Unidades_Frec);
		$this->table->add_row('<span class="blue">Ancho de Banda Solicitado:</span>', $datos_tecnicos_r->Ancho_Banda.' '.$datos_tecnicos_r->Unidades_Ab);
		$this->table->add_row('<span class="blue">Banda de Frecuencia:</span>', $datos_tecnicos_r->Banda_Frec);
		$this->table->add_row('<span class="blue">Descripción de emisiones:</span>', $datos_tecnicos_r->Desc_Emisiones);
		$this->table->add_row('<span class="blue">Potencia Nominal:</span>', $datos_tecnicos_r->Potencia_Nominal.' '.$datos_tecnicos_r->Unidades_Pot_Nominal);
		$this->table->add_row('<span class="blue">Potencia Radiada Efectiva:</span>', $datos_tecnicos_r->Potencia_Radiada.' '.$datos_tecnicos_r->Unidades_Pot_Radiada);
		$this->table->add_row('<span class="blue">Tipo de Torre:</span>', $datos_tecnicos_r->Tipo_Torre);
		//$this->table->add_row('<span class="blue">Altura de la Torre:</span>', $datos_tecnicos_r->Altura_Torre.' m');
		//$this->table->add_row('<span class="blue">Altura de la Edificación:</span>', $datos_tecnicos_r->Altura_Edificacion.' m');
		$this->table->add_row('<span class="blue">Altura de ubicación de la Antena sobre el nivel del suelo:</span>', $datos_tecnicos_r->Altura_Antena.' m');
		$this->table->add_row('<span class="blue">Tipo de Antena:</span>', $datos_tecnicos_r->Tipo_Antena);
		$this->table->add_row('<span class="blue">Tipo de Polarización:</span>', $datos_tecnicos_r->Tipo_Polarizacion);
		$this->table->add_row('<span class="blue">Diagrama Irradiación:</span>', $datos_tecnicos_r->Diagrama_Irradiacion);
		$this->table->add_row('<span class="blue">Descripción Sist. Protección:</span>', $datos_tecnicos_r->Desc_Sist_Proteccion);
		$this->table->add_row('<span class="blue">Radio de cobertura:</span>', $datos_tecnicos_r->Radio_Cobertura.' Km');
		$this->table->add_row('<span class="blue">Radio de Interferencia:</span>', $datos_tecnicos_r->Radio_Interferencia.' Km');
		$this->table->add_row('<span class="blue">Ganancia Antena:</span>', $datos_tecnicos_r->Ganancia_Antena.' '.$datos_tecnicos_r->Unidades_Gan_Antena);
		$this->table->add_row('<span class="blue">Catálogo de Equipos:</span>', $datos_tecnicos_r->Catalogo_Equipos);
		$this->table->add_row('<span class="blue">Estudio Técnico:</span>', $datos_tecnicos_r->Estudio_Tecnico);
		}
		
		//----------------
//		$data['texto_tipo_ope'] = $texto_tipo_ope;

		$data['table'] = $this->table->generate();
		$this->load->view('valida_paso2_tec_prev', $data);				
	}
/////


	function guarda_validacion_tec_prev($id_est_orig){

		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$nivel = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $nivel;
		$fecha=date("d-m-Y h:i:s");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/validar_paso2_tec_prev/'.$id_est_orig);
		$data['id_est_orig'] = $id_est_orig;

		/*$Id_Operador = $this->input->post('Id_Operador');
		$datos_operador = $this->personModel->obt_operador_all($Id_Operador)->row();
		$ciudad_leg = $this->personModel->obt_ciudad($datos_operador->CiudLocLegal)->row();
		$ciudad_proce = $this->personModel->obt_ciudad($datos_operador->CiudLocProcesal)->row();*/

		$datos_tecnicos_r = $this->personModel->obt_dato_tecnico($id_est_orig)->row();//obt_dato_tecnico de la listaq de los registros

		$tip_estac=$datos_tecnicos_r->Tipo_Estacion;

		//*************************************************************************************************************
		//*********************              GUARDA OBSERVACIONES              ****************************************
		//*************************************************************************************************************
		if(!file_exists("uploads/".$id_est_orig."/")){
			mkdir("uploads/".$id_est_orig."/",0777);
		}
		//----------------------Tipo Operador = 1----------------------
		//if ($datos_operador->TipoOperador == 1){
			$desc_tipo_ope = 'PARTE TECNICA';//$desc_tipo_ope = 'COOPERATIVA';
			$observados_tec = array('Id_Estacion_Origen' => $id_est_orig,
							'Nombre_Estacion' => $this->input->post('Nombre_Estacion'),
							'Dir_Descriptiva' => $this->input->post('Dir_Descriptiva'),
							'Tipo_Estacion' => $this->input->post('Tipo_Estacion'),
							'Elevacion' => $this->input->post('Elevacion'),
							//'Latitud' => $this->input->post('LatLon'),
							'Frec_Solicitadas' => $this->input->post('Frec_Solicitadas'),
							'Ancho_Banda' => $this->input->post('Ancho_Banda'),
							'Banda_Frec' => $this->input->post('Banda_Frec'),
							'Desc_Emisiones' => $this->input->post('Desc_Emisiones'),
							'Potencia_Nominal' => $this->input->post('Potencia_Nominal'),
							'Potencia_Radiada' => $this->input->post('PotRad'),
							'Tipo_Torre' => $this->input->post('Tipo_Torre'), 
							'Altura_Torre' => $this->input->post('Altura_Torre'),
							'Altura_Edificacion' => $this->input->post('Altura_Edificacion'),
							'Altura_Antena' => $this->input->post('Altura_Antena'),
							'Tipo_Antena' => $this->input->post('Tipo_Antena'),
							'Tipo_Polarizacion' => $this->input->post('Tipo_Polarizacion'),
							'Diagrama_Irradiacion' => $this->input->post('Diagrama_Irradiacion'),
							'Desc_Sist_Proteccion' => $this->input->post('Desc_Sist_Proteccion'),
							'Radio_Cobertura' => $this->input->post('Radio_Cobertura'),
							'Radio_Interferencia' => $this->input->post('Radio_Interferencia'),
							//'Radio_Interferencia' => $this->input->post('GanAnt'),
							'Catalogo_Equipos' => $this->input->post('Catalogo_Equipos'),
							'Estudio_Tecnico' => $this->input->post('Estudio_Tecnico'),
							
							'Fecha_Reg' => $fecha,
							'Usuario_Reg' => $usu);
			$Id_Observados_Tec = $this->personModel->add_observaciones_tec($observados_tec);
			//-------------------------------Guarda Adjuntos
			/*if ($_FILES["file_razon_social"]["name"] != '' || $_FILES["file_nit"]["name"] != '' || $_FILES["file_nom_com"]["name"] != '' || $_FILES["file_NumRegDirGralCoop"]["name"] != '' || $_FILES["file_FechaRegDirGralCoop"]["name"] != '' || $_FILES["file_NomPresidConAdm"]["name"] != '' || $_FILES["file_CIPresidConAdm"]["name"] != '' || $_FILES["file_NumTestimonioPresidConAdm"]["name"] != '' || $_FILES["file_FechaTestimonio"]["name"] != '' || $_FILES["file_nro_cer_dom"]["name"] != '' || $_FILES["file_fecha_cer_dom"]["name"] != '' || $_FILES["file_dom_legal"]["name"] != '' || $_FILES["file_dom_proc"]["name"] != '' || $_FILES["file_dep_legal"]["name"] != '' || $_FILES["file_dep_proc"]["name"] != '' || $_FILES["file_prov_legal"]["name"] != '' || $_FILES["file_prov_proc"]["name"] != '' || $_FILES["file_ciu_legal"]["name"] != '' || $_FILES["file_ciu_proc"]["name"] != '' || $_FILES["file_pag_web"]["name"] != '' || $_FILES["file_casilla"]["name"] != '' || $_FILES["file_correo"]["name"] != '' || $_FILES["file_fax"]["name"] != '' || $_FILES["file_telefonos"]["name"] != '' || $_FILES["file_celulares"]["name"] != '' || $_FILES["file_Obj_Creacion"]["name"] != '' || $_FILES["file_Fecha_Test_Estatutos"]["name"] != '' || $_FILES["file_Num_Test_Estatutos"]["name"] != '' || $_FILES["file_Cer_Ant_Penales"]["name"] != ''){
				$adjuntos_tec = array('Id_Operador' => $Id_Operador,
							'RazonSocial' => $_FILES["file_razon_social"]["name"],
							'NIT' => $_FILES["file_nit"]["name"],
							'NomComercialOperador' => $_FILES["file_nom_com"]["name"],
							'NumRegDirGralCoop' => $_FILES["file_NumRegDirGralCoop"]["name"],
							'FechaRegDirGralCoop' => $_FILES["file_FechaRegDirGralCoop"]["name"],
							'NomPresidConAdm' => $_FILES["file_NomPresidConAdm"]["name"],
							'CIPresidConAdm' => $_FILES["file_CIPresidConAdm"]["name"],
							'NumTestimonioPresidConAdm' => $_FILES["file_NumTestimonioPresidConAdm"]["name"],
							'FechaTestimonio' => $_FILES["file_FechaTestimonio"]["name"],
							'Num_Test_Estatutos' => $_FILES["file_Num_Test_Estatutos"]["name"],
							'Fecha_Test_Estatutos' => $_FILES["file_Fecha_Test_Estatutos"]["name"],
							'Obj_Creacion' => $_FILES["file_Obj_Creacion"]["name"],
							'Cer_Ant_Penales' => $_FILES["file_Cer_Ant_Penales"]["name"],
							'NumCertifDom' => $_FILES["file_nro_cer_dom"]["name"],
							'FechaCertifDom' => $_FILES["file_fecha_cer_dom"]["name"],
							'DomLegal' => $_FILES["file_dom_legal"]["name"],
							'DomProcActual' => $_FILES["file_dom_proc"]["name"],
							'DeptoLegal' => $_FILES["file_dep_legal"]["name"],
							'DeptoProcesal' => $_FILES["file_dep_proc"]["name"],
							'ProvLegal' => $_FILES["file_prov_legal"]["name"],
							'ProvProcesal' => $_FILES["file_prov_proc"]["name"],
							'CiudLocLegal' => $_FILES["file_ciu_legal"]["name"],
							'CiudLocProcesal' => $_FILES["file_ciu_proc"]["name"],
							'PagWeb' => $_FILES["file_pag_web"]["name"],
							'Casilla' => $_FILES["file_casilla"]["name"],
							'Email' => $_FILES["file_correo"]["name"],
							'Fax' => $_FILES["file_fax"]["name"],
							'TelFij' => $_FILES["file_telefonos"]["name"],
							'TelCel' => $_FILES["file_celulares"]["name"],
							'Fecha_Reg' => date('Y-m-d h:i:s', strtotime($fecha)),
							'Usuario_Reg' => $usu);
				$Id_Adjunto = $this->personModel->add_adjuntos($adjuntos_tec);
				
				move_uploaded_file($_FILES["file_NumRegDirGralCoop"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumRegDirGralCoop"]["name"]);
				move_uploaded_file($_FILES["file_FechaRegDirGralCoop"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaRegDirGralCoop"]["name"]);
				move_uploaded_file($_FILES["file_NomPresidConAdm"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NomPresidConAdm"]["name"]);
				move_uploaded_file($_FILES["file_CIPresidConAdm"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_CIPresidConAdm"]["name"]);
				move_uploaded_file($_FILES["file_NumTestimonioPresidConAdm"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_NumTestimonioPresidConAdm"]["name"]);
				move_uploaded_file($_FILES["file_FechaTestimonio"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_FechaTestimonio"]["name"]);				
				move_uploaded_file($_FILES["file_Num_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Num_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_Fecha_Test_Estatutos"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Fecha_Test_Estatutos"]["name"]);
				move_uploaded_file($_FILES["file_Obj_Creacion"]["tmp_name"], "uploads/".$Id_Operador."/".$_FILES["file_Obj_Creacion"]["name"]);*/
				//*************************************************************************************************************
		//*********************************        MUESTRA    PDF            ******************************************
		//*************************************************************************************************************
		$datos_observados_tec = $this->personModel->obt_observados_all_tec($Id_Observados_Tec)->row();
		$this->cezpdf->cezpdf('a4', 'portrait'); 
		$this->cezpdf->selectFont('fonts/Helvetica.afm');
		//$this->cezpdf->ezImage(base_img_url_att, 35, 50, 'none', 'right');
		//$this->cezpdf->ezImage(base_img_url_bol, 25, 80, 'none', 'left');
		$this->cezpdf->addText(50,800,11,"<b>AUTORIDAD DE REGULACION Y FISCALIZACION DE TELECOMUNICACIONES Y TRANSPORTES</b>",0,0);
		$this->cezpdf->addText(130,785,11,'<b>FORMULARIO DE DECLARACION JURADA DE REGISTRO TECNICO</b>',0,0);
		$this->cezpdf->addText(50,740,10,'<b>Nro. de ID: </b>'.$id_est_orig,0,0);//id_est_orig  Id_Operador
		$this->cezpdf->addText(50,730,9,'<b>Impreso en fecha: </b>' . date('m/d/Y h:i:s a'));
		//----------//------//------Tabla
		$this->cezpdf->ezSetY(715);						
		
		if($tip_estac=='ADICIONAL'){
		$dato_1_tec = array(array('etiqueta1'=>'Nombre de la Estacion:','etiqueta2'=> $datos_tecnicos_r->Nombre_Estacion),
					array('etiqueta1'=>'Direccion Descriptiva:','etiqueta2'=> $datos_tecnicos_r->Dir_Descriptiva),
					array('etiqueta1'=>'Tipo de Estacion:','etiqueta2'=> $datos_tecnicos_r->Tipo_Estacion),
					array('etiqueta1'=>'Elevacion:','etiqueta2'=> $datos_tecnicos_r->Elevacion),
					array('etiqueta1'=>'Latitud, Longitud:','etiqueta2'=> $datos_tecnicos_r->Latitud.' ,'.$datos_tecnicos_r->Longitud));
		}			  /// º ' ''

		if($tip_estac=='PRINCIPAL'){
		$dato_1_tec = array(array('etiqueta1'=>'Nombre de la Estacion:','etiqueta2'=> $datos_tecnicos_r->Nombre_Estacion),
					array('etiqueta1'=>'Direccion Descriptiva:','etiqueta2'=> $datos_tecnicos_r->Dir_Descriptiva),
					array('etiqueta1'=>'Tipo de Estacion:','etiqueta2'=> $datos_tecnicos_r->Tipo_Estacion),
					array('etiqueta1'=>'Elevacion:','etiqueta2'=> $datos_tecnicos_r->Elevacion),
					array('etiqueta1'=>'Latitud, Longitud:','etiqueta2'=> $datos_tecnicos_r->Latitud.' ,'.$datos_tecnicos_r->Longitud),  /// º ' ''
					array('etiqueta1'=>'Frecuencias Solicitadas:','etiqueta2'=> $datos_tecnicos_r->Frec_Solicitadas),
					array('etiqueta1'=>'Ancho de Banda Solicitado:','etiqueta2'=> $datos_tecnicos_r->Ancho_Banda),
					array('etiqueta1'=>'Banda de Frecuencia:','etiqueta2'=> $datos_tecnicos_r->Banda_Frec),
					array('etiqueta1'=>'Descripcion de emisiones:','etiqueta2'=> $datos_tecnicos_r->Desc_Emisiones),
					array('etiqueta1'=>'Potencia Nominal:','etiqueta2'=> $datos_tecnicos_r->Potencia_Nominal.' '.$datos_tecnicos_r->Unidades_Pot_Nominal),
					array('etiqueta1'=>'Potencia Radiada Efectiva:','etiqueta2'=> $datos_tecnicos_r->Potencia_Radiada.' '.$datos_tecnicos_r->Unidades_Pot_Radiada),
					array('etiqueta1'=>'Tipo de Torre:','etiqueta2'=> $datos_tecnicos_r->Tipo_Torre),
					/*array('etiqueta1'=>'Altura de la Torre:','etiqueta2'=> $datos_tecnicos_r->Altura_Torre.' m','etiqueta3'=> $datos_observados_tec->Altura_Torre),
					array('etiqueta1'=>'Altura de la Edificacion:','etiqueta2'=> $datos_tecnicos_r->Altura_Edificacion.' m','etiqueta3'=> $datos_observados_tec->Altura_Edificacion),*/
					array('etiqueta1'=>'Altura de ubicacion de la Antena sobre el nivel del suelo:','etiqueta2'=> $datos_tecnicos_r->Altura_Antena.' m'),
					array('etiqueta1'=>'Tipo de Antena:','etiqueta2'=> $datos_tecnicos_r->Tipo_Antena),		
					array('etiqueta1'=>'Tipo de Polarizacion:','etiqueta2'=> $datos_tecnicos_r->Tipo_Polarizacion),
					array('etiqueta1'=>'Diagrama Irradiacion:','etiqueta2'=> $datos_tecnicos_r->Diagrama_Irradiacion),
					array('etiqueta1'=>'Descripcion Sistema Proteccion:','etiqueta2'=> $datos_tecnicos_r->Desc_Sist_Proteccion),
					array('etiqueta1'=>'Radio Cobertura:','etiqueta2'=> $datos_tecnicos_r->Radio_Cobertura.' Km'),
					array('etiqueta1'=>'Radio Interferencia:','etiqueta2'=> $datos_tecnicos_r->Radio_Interferencia.' Km'),
					array('etiqueta1'=>'Ganancia Antena:','etiqueta2'=> $datos_tecnicos_r->Ganancia_Antena.' '.$datos_tecnicos_r->Unidades_Gan_Antena),
					array('etiqueta1'=>'Catalogo Equipos:','etiqueta2'=> $datos_tecnicos_r->Catalogo_Equipos),
					array('etiqueta1'=>'Estudio Tecnico:','etiqueta2'=> $datos_tecnicos_r->Estudio_Tecnico));
		}
		//--------------------------------- DATOS  ------------------------------------------------------------
	

//*************************************************************************************************************
		//*************************************************************************************************************
		/*$dato_3 = array(array('etiqueta1'=>'Certificado de Antecedentes Penales:','etiqueta2'=> $datos_operador->Cer_Ant_Penales,'etiqueta3'=>$datos_observados->Cer_Ant_Penales),
					array('etiqueta1'=>'Nro. Certificado Domiciliario:','etiqueta2'=> $datos_operador->NumCertifDom,'etiqueta3'=>$datos_observados->NumCertifDom),
					array('etiqueta1'=>'Fecha Certificado Domiciliario:','etiqueta2'=> $datos_operador->FechaCertifDom,'etiqueta3'=>$datos_observados->FechaCertifDom),
					array('etiqueta1'=>'Domicilio Legal Empresa:','etiqueta2'=> $datos_operador->DomLegal,'etiqueta3'=>$datos_observados->DomLegal),
					array('etiqueta1'=>'Pagina Web:','etiqueta2'=> $datos_operador->PagWeb,'etiqueta3'=>$datos_observados->PagWeb),
					array('etiqueta1'=>'E-mail:','etiqueta2'=> $datos_operador->Email,'etiqueta3'=>$datos_observados->Email),
					array('etiqueta1'=>'Casilla:','etiqueta2'=> $datos_operador->Casilla,'etiqueta3'=>$datos_observados->Casilla),
					array('etiqueta1'=>'Telefonos:','etiqueta2'=> $datos_operador->TelFij,'etiqueta3'=>$datos_observados->TelFij),
					array('etiqueta1'=>'Fax:','etiqueta2'=> $datos_operador->Fax,'etiqueta3'=>$datos_observados->Fax));
		if($datos_operador->TipoOperador == 1 || $datos_operador->TipoOperador == 2 || $datos_operador->TipoOperador == 3 || $datos_operador->TipoOperador == 4 || $datos_operador->TipoOperador == 5 || $datos_operador->TipoOperador == 6 || $datos_operador->TipoOperador == 7 || $datos_operador->TipoOperador == 9 || $datos_operador->TipoOperador == 10 || $datos_operador->TipoOperador == 11){
						$dato_4 = array(array('etiqueta1'=>'Domicilio Procesal Actual:','etiqueta2'=> $datos_operador->DomProcActual,'etiqueta3'=>$datos_observados->DomProcActual),
								array('etiqueta1'=>'Ciudad/Loc. Procesal:','etiqueta2'=> $ciudad_proce->Nombre_Ciudad,'etiqueta3'=>$datos_observados->CiudLocProcesal));
					}
					else{
						$dato_4 = array();
					}
		if($datos_operador->TipoOperador == 1 || $datos_operador->TipoOperador == 2 || $datos_operador->TipoOperador == 3 || $datos_operador->TipoOperador == 4 || $datos_operador->TipoOperador == 5 || $datos_operador->TipoOperador == 6 || $datos_operador->TipoOperador == 7 || $datos_operador->TipoOperador == 8){
						$dato_5 = array(array('etiqueta1'=>'Ciudad/Loc. Legal:','etiqueta2'=> $ciudad_leg->Nombre_Ciudad,'etiqueta3'=>$datos_observados->CiudLocLegal));
		}*/
		//else{
		//	$dato_5 = array();
		//}

		$dato = array_merge($dato_1_tec);//,$dato_5
		$this->cezpdf->ezTable($dato,array('etiqueta1'=>'<b>REFERENCIA</b>','etiqueta2'=>'<b>DESCRIPCION</b>'),'Datos Generales del Declarante <b>'.$desc_tipo_ope.'</b>',array('showHeadings'=>1,'showBgCol'=>1,'fontSize' => 8, 'width'=>500,'cols'=> array('name'=>array('bgcolor'=>array(0.9,0.9,0.9)))));
		$this->cezpdf->selectFont('fonts/Helvetica.afm');
		$j=0;
		/*for ($i=0; $i < count($Id_Obser_Repre); $i++) { 
			$datos_observ_repre = $this->personModel->obt_observ_repre($Id_Obser_Repre[$i])->result();	
			foreach ($datos_observ_repre as $datos_observ_repres){
				$datos_representantes = $this->personModel->obt_representantes_legales($datos_observ_repres->Id_Repre_Legal)->row();
				$valor_obser_repre = array(array('etiqueta1'=>'Nombre Completo:','etiqueta2'=> $datos_representantes->Nombre_Completo,'etiqueta3'=>$datos_observ_repres->Nombre_Completo),
					array('etiqueta1'=>'C.I.:','etiqueta2'=> $datos_representantes->Ci_Repre_Legal,'etiqueta3'=>$datos_observ_repres->Ci_Repre_Legal),
					array('etiqueta1'=>'Nro. Testimonio Poder:','etiqueta2'=> $datos_representantes->Nro_Testimonio_Poder_Legal,'etiqueta3'=>$datos_observ_repres->Nro_Testimonio_Poder_Legal),
					array('etiqueta1'=>'Fecha Poder:','etiqueta2'=> $datos_representantes->Fecha_Poder_Legal,'etiqueta3'=>$datos_observ_repres->Fecha_Poder_Legal),
					array('etiqueta1'=>'Objeto Poder:','etiqueta2'=> $datos_representantes->Objeto_Poder_Legal,'etiqueta3'=>$datos_observ_repres->Objeto_Poder_Legal));						
			}
			$j=$i+1;
			$this->cezpdf->ezText("\n",10);
			$this->cezpdf->ezTable($valor_obser_repre,array('etiqueta1'=>'<b>REFERENCIA</b>','etiqueta2'=>'<b>DESCRIPCION</b>','etiqueta3'=>'<b>OBSERVACIONES</b>'),'Representante Legal Vigente '.$j,array('showHeadings'=>1,'showBgCol'=>0,'fontSize' => 8, 'width'=>500, 'shaded'=>1, 'cols'=> array('name'=>array('bgcolor'=>array(0.9,0.9,0.9)))));
		}*/
		//---------Footer
		$this->cezpdf->ezText("\n",10);
		$this->cezpdf->line(230,70,400,70);
		$this->cezpdf->addText(250,60,8,'Nombres y Apellidos del Responsable',0,0);
		$this->cezpdf->ezSetMargins(50,50,50,50);
		$this->cezpdf->ezStartPageNumbers(500,28,8,'','{PAGENUM}',1);
		$this->cezpdf->line(20,40,578,40);
		$this->cezpdf->ezStream();
	}
							//// -------------------------------////

		//---
function _set_fields_tec(){
		
		$fields['comp_name'] = 'comp_name';
		$fields['Frec_Solicitadas'] = 'Frec_Solicitadas';
		$fields['comp_elevacion'] = 'comp_elevacion';
		$fields['Ancho_Banda'] = 'Ancho_Banda';
		$fields['comentarios'] = 'comentarios';


		$this->validation->set_fields($fields);
	}


	    function validar_info_tec1($offset=0){
    	$usu = $this->session->userdata('usuario');
		$id_operador = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $id_operador;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;

		// paginacion
		$uri_segment = 3;
		$offset = $this->uri->segment($uri_segment);
		$datos_licencias = $this->personModel->obt_licencias($this->limit, $offset)->result();
		$this->load->library('pagination');
		$config['base_url'] = site_url('person/licencias/');
 		$config['total_rows'] = $this->personModel->count_all_documentos();
 		$config['per_page'] = $this->limit;
		$config['uri_segment'] = $uri_segment;
		$this->pagination->initialize($config);
		$data['pagination'] = $this->pagination->create_links();
		//tabla
		$i=0;		
		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		/*$tmpl = array (
                    'table_open'          => '<table class="table table-bordered table-striped table_vam" id="dt_gal">',

                    'heading_row_start'   => '<thead>',
                    'heading_row_end'     => '</thead>',
                    'heading_cell_start'  => '<th>',
                    'heading_cell_end'    => '</th>',

                    'row_start'           => '<tr>',
                    'row_end'             => '</tr>',
                    'cell_start'          => '<td>',
                    'cell_end'            => '</td>',

                    'row_alt_start'       => '<tr>',
                    'row_alt_end'         => '</tr>',
                    'cell_alt_start'      => '<td>',
                    'cell_alt_end'        => '</td>',

                    'table_close'         => '</table>'
              );
		$this->table->set_template($tmpl);*/
		$this->table->set_heading('Nro','ID Operador', 'Nro. de Tramite', 'Cod. Expediente', 'LatLng', 'Departamento', 'Estado de Solicitud','Tipo de Operador','Tipo de ITEM', 'Acciones');
		foreach ($datos_licencias as $datos_licencia){
			$val_latitud = $datos_licencia->LatitudSurLiteral;
			$val_longitud = $datos_licencia->LongituOesteLiteral;
			if($val_latitud != ''){
				$lat_gr = substr($val_latitud,0,2);
				$lat_min = substr($val_latitud,3,5);
				$lat_seg = substr($val_latitud,6,8);
				$Latitud = $lat_gr + $lat_min/60 + $lat_seg/3600;
				$Latitud = number_format($Latitud,6);
			}	
			else{
				$Latitud = '';
			}
			if($val_longitud != ''){
				$lon_gr = substr($val_longitud,0,2);
				$lon_min = substr($val_longitud,3,5);
				$lon_seg = substr($val_longitud,6,8);
				$Longitud = $lon_gr + $lon_min/60 + $lon_seg/3600;
				$Longitud = number_format($Longitud,6);
			}	
			else{
				$Longitud = '';
			}		

			$this->table->add_row(++$i,$datos_licencia->IdOp, $datos_licencia->NumeroDeTramite, $datos_licencia->CodigoDelExpedienteEnArchivo, '-'.$Latitud.',-'.$Longitud, $datos_licencia->Departamento, $datos_licencia->EstadoDeLaSolicitud, $datos_licencia->TipoDeOperador, $datos_licencia->TipoDeItem, anchor('person/validar_paso2/','<i class="icon-pencil"></i>').' '.'<a href="javascript:void(0)" class="show_on_map btn btn-mini"><i class="icon-eye-open"></i></a>'.' '.anchor('person/validar_paso2/','<i class="icon-trash"></i>'));			
		}
		$data['table'] = $this->table->generate();
		$this->load->view('view_validar_info_tec1', $data);
    }


function encontrar_numeracion(){
		$this->_set_fields_usuarios();
		$usu = $this->session->userdata('usuario');
		$nivel = $this->session->userdata('nivel');
		$data['usuario'] = $usu;
		$data['nivel'] = $nivel;
		$fecha=date("d-m-Y");
		$hora=date("h:i:s");
		$data['fecha'] = $fecha;
		$data['action'] = site_url('person/encontrar_numeracion');

		$texto_tipo_ope = '';
		$word_operador = $this->input->post('operador');
		//echo $word_operador;
 	//$str = "10";
   //$num = (int)$str;

    	$num = (int)$word_operador;
    //echo $num;

    //if ($word_operador === 10) echo "String";
   //if ($num === 10) echo "Integer";

		$this->load->library('table');
		$this->table->set_empty("&nbsp;");
		//$this->table->set_heading('DEPARTAMENTO', 'ZONA', 'NOINICIAL', 'NOFINAL', 'LINEAS', 'EMPRESA', 'Accion');
		$datos_operador_tec = $this->personModel->obt_numeracion($num)->row();
			//echo $datos_operador_tec->DEPARTAMENTO;

			
				/*$this->table->add_row($datos_operador_tec->DEPARTAMENTO,$datos_operador_tec->ZONA, $datos_operador_tec->NOINICIAL, $datos_operador_tec->NOFINAL, $datos_operador_tec->LINEAS,$datos_operador_tec->EMPRESA, anchor('person/validar_paso2_tec/'.$datos_operador_tec->Id_Estacion_Origen,'<i class="icon-pencil"></i>').''.'<a href="javascript:void(0)" class="show_on_map btn btn-mini"><i class="icon-eye-open"></i></a>'.''.anchor('person/validar_paso2/','<i class="icon-trash"></i>'));*/

		$this->table->add_row('<span class="blue">DEPARTAMENTO:</span>', $datos_operador_tec->departamento);
		$this->table->add_row('<span class="blue">ZONA:</span>', $datos_operador_tec->zona);
		//Tipo de Estación
		//$this->table->add_row('<span class="blue">NOINICIAL:</span>', $datos_operador_tec->NOINICIAL);
		//$this->table->add_row('<span class="blue">NOFINAL:</span>', $datos_operador_tec->NOFINAL);
		//$this->table->add_row('<span class="blue">LINEAS:</span>',  $datos_operador_tec->LINEAS);
		//$this->table->add_row('<span class="blue">CONCESIÓN:</span>',$datos_operador_tec->concesion);
		$this->table->add_row('<span class="blue">AREA DE SERVICIO:</span>',$datos_operador_tec->area_de_servicio);
		$this->table->add_row('<span class="blue">EMPRESA:</span>',$datos_operador_tec->empresa);
		$this->table->add_row('<span class="blue">SERVICIO:</span>',$datos_operador_tec->servicio);
		
			
		
		
		$data['table'] = $this->table->generate();

		$this->load->view('find_ope_num', $data);	
	}



	function generar_word($id_est_orig){

		//$config['base_url']	= "http://127.0.0.1/sismigc/";
		//$base_url="http://127.0.0.1/sismigc/";

		$usu = $this->session->userdata('usuario');

		//if($usu==false){redirect('/home');}
		//$cod_persona = $this->session->userdata('cod_persona');
		
		$fecha_actual=date('dmY');
	/*	$reg_persona = $this->personModel->get_all_person($cod_persona)->row();
		$anho=date('Y');
		
		//------------------- generar plantilla de word-------------------
		//$documento = $this->personModel->get_document_aux($Id_Documento)->row();
		$persona_destino = $this->personModel->get_all_usuario($documento->usuario_destino)->row();	
		$cargo_destino = $this->personModel->get_cargos($documento->cargo_destino)->row();	
		$seccion_destino = $this->personModel->get_secciones($documento->direccion_destino)->row();	
		$persona_remitente = $this->personModel->get_all_usuario($documento->remitente)->row();	
		$cargo_remitente = $this->personModel->get_cargos($documento->cod_cargo)->row();	
		$seccion_remitente = $this->personModel->get_secciones($documento->cod_seccion)->row();	
		$tipo_documento = $this->personModel->get_tipo_documento($documento->cod_tipo_documento)->row();
		$ubicacion='';
		$ciudad = $this->personModel->get_ciudades_by_sigla($seccion_remitente->seccion_matriz)->row();		
		$ubicacion=$ciudad->desc_ciudad;
		$fecha=$documento->fecha_documento;

		$persona_destinoE = $this->personModel->get_persona1($documento->cod_per_emp)->row();
		$cargo_destinoE = $this->personModel->get_cargos($documento->cod_carg_emp)->row();	
		$empresa_destino = $this->personModel->get_empresa1($documento->cod_empresa)->row();	*/

		$fecha = date('d-m-Y');
		//$strmeses = Array(1=>"Enero",2=>"Febrero",3=>"Marzo",4=>"Abril",5=>"Mayo",6=>"Junio",7=>"Julio",8=>"Agosto",9=>"Septiembre",10=>"Octubre",11=>"Noviembre",12=>"Diciembre");
		$aux = explode("-",$fecha);
		//$mes = (int)$aux[1];$fecha_literal=$aux[0].' de '.$strmeses[$mes].' del '.$aux[2];

		$direccion_base=$this->direccion_base;
				//$td=$tipo_documento->desc_tipo_documento;
		//$direccion_base=substr(base_url(),-8,-1); 
		//$this->fichero = "../$direccion_base/plantillas/plan.rtf";
		$nombre_dir='sismigc';
		$this->fichero = "../$nombre_dir/plantillas/inftecv0.rtf";//inftecv0 plantillatec
		
		//echo $this->fichero;
		
		$this->fsalida = '.doc';
		$this->dirsalida = 'temp/';
		$this->prefijo = 'Borrador'.$fecha_actual;
		$var_ope=4;
							////    DATOS TÉCNICOS PARA GENERAR WORD
							$datos_tecnicos_r = $this->personModel->obt_dato_tecnico($id_est_orig)->row();//obt_dato_tecnico de la listaq de los registros
							$tip_estac=$datos_tecnicos_r->Tipo_Estacion;
							$Nombre_Estacion=$datos_tecnicos_r->Nombre_Estacion;
							//echo $tip_estac;


							
							$oper=$datos_tecnicos_r->Id_Operador;
							//echo $oper;
							////    DATOS LEGALES PARA GENERAR WORD
							$datos_legales_r = $this->personModel->obt_operador_all($oper)->row();//obt_dato_legal de la listaq de los registros			//obt_operador_all
	
				$this->valores = array('#*TIPO_DOCUMENTO*#'=>"Tipo Documento",
						'#*NOMBRE_ESTACION*#'=>$datos_tecnicos_r->Nombre_Estacion,
						'#*DIR_DESCRIPTIVA*#'=>$datos_tecnicos_r->Dir_Descriptiva,
						'#*TIPO_ESTACION*#'=>$datos_tecnicos_r->Tipo_Estacion,
						//LAT LONG
						'#*GRAD_LAT*#'=>$datos_tecnicos_r->Grad_Lat,
						'#*MIN_LAT*#'=>$datos_tecnicos_r->Min_Lat,	
						'#*SEG_LAT*#'=>$datos_tecnicos_r->Seg_Lat,	
						'#*GRAD_LONG*#'=>$datos_tecnicos_r->Grad_Long,	
						'#*MIN_LONG*#'=>$datos_tecnicos_r->Min_Long,	
						'#*SEG_LONG*#'=>$datos_tecnicos_r->Seg_Long,	
						'#*ELEVACION*#'=>$datos_tecnicos_r->Elevacion,						
						'#*FREC_SOLICITADAS*#'=>$datos_tecnicos_r->Frec_Solicitadas,//UNIDAD F
						'#*UNIDADES_FREC*#'=>$datos_tecnicos_r->Unidades_Frec,
						'#*ANCHO_BANDA*#'=>$datos_tecnicos_r->Ancho_Banda,// UNIDAD AB
						'#*UNIDADES_AB*#'=>$datos_tecnicos_r->Unidades_Ab,
						'#*BANDA_FREC*#'=>$datos_tecnicos_r->Banda_Frec,	
						'#*DESC_EMISIONES*#'=>$datos_tecnicos_r->Desc_Emisiones,					
						'#*POTENCIA_NOMINAL*#'=>$datos_tecnicos_r->Potencia_Nominal,
						'#*UNIDADES_POT_NOMINAL*#'=>$datos_tecnicos_r->Unidades_Pot_Nominal,	
						'#*POTENCIA_RADIADA*#'=>$datos_tecnicos_r->Potencia_Radiada,	
						'#*UNIDADES_POT_RADIADA*#'=>$datos_tecnicos_r->Unidades_Pot_Radiada,	
						'#*TIPO_TORRE*#'=>$datos_tecnicos_r->Tipo_Torre,	
						//'#*ALTURA_TORRE*#'=>$datos_tecnicos_r->Altura_Torre,	
						//'#*UNIDADES_AB*#'=>$datos_tecnicos_r->Altura_Edificacion,	
						'#*ALTURA_ANTENA*#'=>$datos_tecnicos_r->Altura_Antena,	
						'#*TIPO_ANTENA*#'=>$datos_tecnicos_r->Tipo_Antena,	
						'#*TIPO_POLARIZACION*#'=>$datos_tecnicos_r->Tipo_Polarizacion,	
						'#*DIAGRAMA_IRRADIACION*#'=>$datos_tecnicos_r->Diagrama_Irradiacion,	
						'#*DESC_SIST_PROTECCION*#'=>$datos_tecnicos_r->Desc_Sist_Proteccion,	
						'#*RADIO_COBERTURA*#'=>$datos_tecnicos_r->Radio_Cobertura,		
						'#*RADIO_INTERFERENCIA*#'=>$datos_tecnicos_r->Radio_Interferencia,	
						'#*GANANCIA_ANTENA*#'=>$datos_tecnicos_r->Ganancia_Antena,	
						'#*UNIDADES_GAN_ANTENA*#'=>$datos_tecnicos_r->Unidades_Gan_Antena,	
						'#*CATALOGO_EQUIPOS*#'=>$datos_tecnicos_r->Catalogo_Equipos,	
						'#*ESTUDIO_TECNICO*#'=>$datos_tecnicos_r->Estudio_Tecnico,	

							///----   DATOS LEGALES DE ESTA ESTACION (OPERADOR)-----///
						'#*RAZONSOCIAL*#'=>$datos_legales_r->RazonSocial,
						'#*DOMLEGAL*#'=>$datos_legales_r->DomLegal,

						

						'#*REMITENTE*#'=>"Fabio",
						'#*CARGO_REMITENTE*#'=>"",
						'#*SECCION_REMITENTE*#'=>"",
						'#*FECHA*#'=>$fecha,			
						'#*INICIAL*#'=>"",
						'#*CITE*#'=>'');

		$this->rtf();	
	}
	function rtf(){		
		$this->fsalida = $this->prefijo.$this->fsalida;//-- DEFINIMOS EL NOMBRE DEL NUEVO FICHERO
		
		if($txtplantilla = $this->leerArchivo()){//-- COMPROBAMOS SI SE CARGO BIEN EL FICHERO
			
			$punt = fopen($this->dirsalida.$this->fsalida,"w");//-- CREAMOS EL NUEVO FICHERO
			if(is_array($this->valores) and count($this->valores)>0){
				foreach($this->valores as $k=>$v){//-- REEMPLAZAMOS LAS VARIABLES
					$v = utf8_decode($v);
					$txtplantilla = str_replace($k,$v,$txtplantilla);
				}
			}
			fputs($punt,$txtplantilla);//-- AGREGAMOS EL CONTENIDO AL NUEVO FICHERO
			fclose($punt);//- CERRAMOS LA CONEXION DEL FICHERO

			header ("Content-Disposition: attachment; filename=".$this->fsalida."\n\n"); 
			header ("Content-Type: application/octet-stream");
			readfile($this->dirsalida.$this->fsalida);
		}
		else{echo "Word...fail";}
	}
	function leerArchivo(){$todo='';if(is_file($this->fichero)){$texto = file($this->fichero);$ntexto = sizeof($texto);for($n=0;$n<$ntexto;$n++){$todo = $todo.$texto[$n];}	return $todo;} else{return false;}
	}


}
?>